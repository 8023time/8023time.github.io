<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><title>Go | 寻觅~流光</title><meta name="keywords" content="go"><meta name="author" content="寻觅~流光"><meta name="copyright" content="寻觅~流光"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="Go"><meta name="application-name" content="Go"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="Go"><meta property="og:url" content="https://8023time.github.io/2024/12/22/GO/index.html"><meta property="og:site_name" content="寻觅~流光"><meta property="og:description" content="Go开始1234567package mainimport &amp;quot;fmt&amp;quot;func main() &amp;#123;    fmt.Println(&amp;quot;hello world&amp;quot;)&amp;#125;  123456789101112要运行这个程序，先将将代码放到名为 hello-"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/Go-image/20241222013233.png"><meta property="article:author" content="寻觅~流光"><meta property="article:tag"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/Go-image/20241222013233.png"><meta name="description" content="Go开始1234567package mainimport &amp;quot;fmt&amp;quot;func main() &amp;#123;    fmt.Println(&amp;quot;hello world&amp;quot;)&amp;#125;  123456789101112要运行这个程序，先将将代码放到名为 hello-"><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/basic-img/avatar.jpg"><link rel="canonical" href="https://8023time.github.io/2024/12/22/GO/"><link rel="preconnect" href="//cdn.cbd.int"><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="google-site-verification" content="xxx"><meta name="baidu-site-verification" content="code-xxx"><meta name="msvalidate.01" content="xxx"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/swiper/swiper.min.css" media="print" onload='this.media="all"'><script>let GLOBAL_CONFIG={linkPageTop:void 0,peoplecanvas:{enable:!0,img:"https://upload-bbs.miyoushe.com/upload/2024/07/27/125766904/ba62475f396df9de3316a08ed9e65d86_5680958632268053399..png"},postHeadAiDescription:{enable:!0,gptName:"AnZhiYu",mode:"local",switchBtn:!1,btnLink:"https://afdian.net/item/886a79d4db6711eda42a52540025c377",randomNum:3,basicWordCount:1e3,key:"xxxx",Referer:"https://xx.xx/"},diytitle:{enable:!0,leaveTitle:"再看看嘛！",backTitle:"欢迎回来！"},LA51:void 0,greetingBox:void 0,twikooEnvId:"https://twikoo.8023time.com/",commentBarrageConfig:{enable:!0,maxBarrage:1,barrageTime:4e3,accessToken:"",mailMd5:""},music_page_default:"nav_music",root:"/",preloader:{source:3},friends_vue_info:{apiurl:null},navMusic:!0,mainTone:void 0,authorStatus:{skills:["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🏠 智能家居小能手","🔨 设计开发一条龙","🤝 专修交互与设计","🏃 脚踏实地行动派","🧱 团队小组发动机","💢 壮汉人狠话不多"]},algolia:void 0,localSearch:void 0,translate:{defaultEncoding:2,translateDelay:0,msgToTraditionalChinese:"繁",msgToSimplifiedChinese:"简",rightMenuMsgToTraditionalChinese:"转为繁体",rightMenuMsgToSimplifiedChinese:"转为简体"},noticeOutdate:void 0,highlight:{plugin:"highlight.js",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:!1},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,simplehomepage:!0,post:!1},runtime:"天",date_suffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:{copy:!0,copyrightEbable:!1,limitCount:50,languages:{author:"作者: 寻觅~流光",link:"链接: ",source:"来源: 寻觅~流光",info:"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。",copySuccess:"复制成功，复制和转载请标注本文地址"}},lightbox:"fancybox",Snackbar:{chs_to_cht:"你已切换为繁体",cht_to_chs:"你已切换为简体",day_to_night:"你已切换为深色模式",night_to_day:"你已切换为浅色模式",bgLight:"#425AEF",bgDark:"#1f1f1f",position:"top-center"},source:{justifiedGallery:{js:"https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js",css:"https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css"}},isPhotoFigcaption:!1,islazyload:!0,isAnchor:!1,shortcutKey:void 0,autoDarkmode:!0}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={configTitle:"寻觅~流光",title:"Go",postAI:"",pageFillDescription:"Go, 开始, 变量, 常量, 循环, ifx2Felse分支, switch分支, 数组, 1. 数组的定义, 2. 数组的访问和修改, 3. 数组的长度, 4. 数组的传递, 5. 多维数组, 6. 数组的初始化, 7. 数组与切片的区别, 8. 数组的应用场景, 总结, 切片, 1. 创建切片, 2. 切片的属性, 3. 切片的切割操作, 4. 动态扩展切片, 5. 删除切片元素, 6. 切片的反转, 7. 切片的查找, 8. 切片的分块, 9. 切片排序, 10. 删除重复元素, 11. copy 函数, 总结, map, 1. 创建 map, 使用 make 函数, 使用字面量（literal）创建, 2. 向 map 中添加和更新元素, 3. 获取 map 中的值, 4. 删除 map 中的元素, 5. 检查键是否存在, 6. 遍历 map, 7. map 的特性, 8. map 的容量, 9. 空 map 和 nil map, 示例代码：, range, 1. range 遍历数组和切片, 数组, 切片, 2. range 遍历 map, 注意事项：, 3. range 遍历字符串, 4. 只获取值或索引, 5. range 遍历通道（channel）, 6. 示例：综合使用 range, 总结, 函数, 1. 定义函数, 基本函数定义, 2. 调用函数, 3. 函数参数, 4. 返回值, 5. 命名返回值, 6. 函数作为值, 将函数赋值给变量, 函数作为参数, 7. 匿名函数, 8. 函数闭包, 9. 函数的递归调用, 10. 多返回值函数, 总结, 指针, 1. 定义和声明指针, 2. 获取变量的地址（取地址操作符 amp）, 3. 解引用指针（取值操作符 *）, 4. 指针与变量的关系, 5. 修改变量的值通过指针, 6. 指针作为函数参数, 7. 指针类型与结构体, 8. nil 指针, 9. 零值和指针, 10. 指针的应用, 总结, 字符串和rune类型, 一、字符串（string）, 1. 字符串的定义, 2. 字符串的常见操作, 声明与初始化, 获取字符串长度, 索引访问字符串, 字符串拼接, 切片操作, 3. Go标准库中的字符串方法, 常用函数, 二、Rune, 1. Rune的定义, 2. Rune的用途, 3. Rune的常见操作, 字符串与Rune的相互转换, 逐字符处理, 修改字符串, 统计字符数量, 三、字符串与Rune的关系, 四、使用场景与注意事项, 五、总结, 结构体, 1. 定义结构体, 示例：, 2. 创建结构体实例, 2.1 使用结构体字面量, 2.2 使用字段名初始化（推荐）, 2.3 创建空结构体并赋值, 2.4 使用 new 创建结构体指针, 3. 结构体的零值, 4. 结构体字段的访问与修改, 5. 结构体的比较, 6. 匿名字段, 7. 结构体的方法, 7.1 定义方法, 7.2 调用方法, 7.3 值接收者 vs 指针接收者, 示例：, 8. 嵌套结构体, 9. JSON 与结构体, 9.1 转换为 JSON, 9.2 从 JSON 转换为结构体, 9.3 使用标签自定义 JSON 字段, 10. 结构体的内存布局, 优化内存对齐, 方法, 1. 定义结构体, 2. 结构体的方法, 方法接收器, 3. 定义结构体的方法, 3.1 使用值接收器, 3.2 使用指针接收器, 4. 值接收器与指针接收器的区别, 5. 示例：结构体和方法结合的复杂应用, 6. 方法重载与接口, 7. 总结, 接口, 1. 接口定义, 2. 隐式实现, 3. 空接口 (interface123125), 4. 接口的类型断言, 5. 接口的值, 6. 空接口与反射, 7. 接口的组合, 8. 接口的使用场景, 总结, Embedding, 1. 结构体嵌入, 示例：结构体嵌入, 2. 方法的继承, 示例：方法继承, 3. 方法重写, 示例：方法重写, 4. 接口的嵌入, 示例：接口嵌入, 5. 匿名字段, 示例：匿名字段, 6. 嵌入的使用场景, 总结, 泛型, 1. 泛型基础, 2. 定义泛型函数, 3. 泛型类型约束, 4. 泛型数据结构, 5. any 和 interface123125, 6. 泛型约束类型的组合, 7. 类型推断, 8. 使用泛型接口, 9. 总结开始要运行这个程序先将将代码放到名为的文件中然后执行如果我们想将程序编译成二进制文件平台是可执行文件可以通过来达到目的然后我们可以直接运行这个二进制文件变量声明个或者多个变量会自动推断已经有初始值的变量的类型声明后却没有给出对应的初始值时变量将会初始化为零值语法是声明并初始化变量的简写例如可以简写为右边这样常量语句可以出现在任何语句可以出现的地方数值型常量没有确定的类型直到被给定某个类型比如显式类型转化一个数字可以根据上下文的需要比如变量赋值函数调用自动确定类型循环是中唯一的循环结构这里会展示循环的一些基本使用方式分支注意在中条件语句的圆括号不是必需的但是花括号是必需的没有三目运算符即使是基本的条件判断依然需要使用完整的语句分支是多分支情况时快捷的条件语句数组在语言中数组是一种固定长度的集合类型它存储一组同类型的元素数组的长度是固定的一旦定义了数组的大小就不能改变数组的定义数组的定义包括指定元素的类型和数组的长度例如一个存储个整数的数组可以这样定义定义一个长度为的整数数组也可以在定义时直接初始化数组的元素定义并初始化数组或者支持根据初始化值自动推导数组的长度自动推导长度为数组的访问和修改数组的元素通过索引访问索引从开始可以通过下标访问和修改数组的元素输出修改第二个元素输出数组的长度数组的长度是固定的可以使用函数获取数组的长度输出数组的传递在中数组是值类型当你将一个数组作为参数传递给函数时实际上是传递了该数组的副本如果你修改了副本中的元素原始数组不会受到影响输出原始数组没有被修改如果你希望修改原数组的内容可以传递指向数组的指针输出原数组已被修改多维数组支持多维数组可以通过嵌套的方式定义多维数组例如定义一个行列的数组输出数组的初始化数组可以在声明时进行初始化也可以在定义之后进行逐一赋值以下是几种初始化数组的方式声明并初始化定义并初始化数组使用自动推导数组长度自动推导数组长度为使用函数创建一个指向数组的指针创建一个指向长度为的数组的指针输出数组与切片的区别数组和切片的区别是一个重要的概念尤其是语言的切片非常常用切片是对数组的一个抽象允许灵活的动态扩展和缩减而数组的大小是固定的数组长度固定类型和值传递切片动态大小引用传递可以灵活扩展示例使用切片数组切片输出数组的应用场景数组在中通常用于以下几种情况当需要固定大小的数据集合时需要用到固定大小的内存时例如嵌入式系统或性能优化的场景数组的值传递方式可以避免不必要的内存共享确保数据不会被意外修改总结语言中的数组是固定长度的定义时需要指定数组的长度数组通过下标访问和修改元素且下标从开始中的数组是值类型传递数组时会复制副本如果希望修改原始数组需要传递指针支持多维数组可以使用嵌套方式定义数组与切片不同切片更灵活且常用于实际编程中切片在语言中切片是一种灵活动态的数组类型它是对数组的一个引用具有更高效的内存管理和更灵活的功能切片不像数组那样具有固定的长度它可以动态增长和缩小创建切片切片的创建有几种方式使用函数创建一个长度为的切片你还可以指定切片的容量创建一个长度为容量为的切片直接使用数组字面量创建一个包含个元素的切片切片的属性每个切片都包含三个基本属性指针指向底层数组的指针长度切片中元素的数量容量切片底层数组的大小从切片的起始位置到底层数组的末尾你可以通过和函数获取切片的长度和容量输出切片的长度输出切片的容量切片的切割操作切片可以从另一个切片或数组中通过索引和范围来切割获取从索引到索引的元素输出你还可以指定切片的容量切片从索引到索引容量为输出动态扩展切片使用扩展切片扩展切片输出函数用于向切片中添加元素并且如果需要它会自动调整切片的容量删除切片元素删除指定索引的元素删除索引的元素输出切片的反转反转切片元素切片的查找查找指定元素切片的分块将切片分割成多个小块切片排序对切片进行排序对整数切片进行升序排序删除重复元素去除切片中的重复元素函数复制切片内容将的内容复制到总结切片提供了高效且灵活的操作方式以下是常见的切片操作总结创建通过或字面量创建切割使用切片操作符可以截取切片的部分扩展通过函数动态扩展切片删除通过删除切片中的元素反转通过交换元素实现反转查找通过遍历切片查找元素分块将切片分割成多个小块排序使用标准库中的对切片进行排序去重通过去除切片中的重复元素复制使用将一个切片的内容复制到另一个切片中在语言中是一种内建的数据类型用于存储键值对它类似于其他语言中的哈希表或字典能够快速地根据键查找对应的值创建语言中的可以通过内建的函数或者字面量来创建使用函数上面的代码创建了一个空的键为类型值为类型使用字面量创建上面的代码创建了一个初始包含两个键值对的向中添加和更新元素你可以直接通过键来添加或更新值更新值添加新元素获取中的值通过键来访问对应的值输出删除中的元素使用函数来删除指定键的元素删除键为的元素检查键是否存在通过多返回值的方式来判断键是否存在如果键存在第二个返回值为否则为遍历使用循环来遍历的所有键值对的特性无序性中的元素是无序的遍历时顺序是随机的线程不安全在多线程中并发修改同一个时运行时会引发恐慌如果需要并发访问应使用或者来加锁的容量可以使用函数获取中元素的数量输出中的元素个数空和如果没有被初始化则它的行为类似于空但是尝试向中添加或删除元素会引发运行时错误可以使用函数初始化一个空示例代码创建一个向中添加元素更新元素获取元素删除元素遍历获取的长度在语言中是一个非常强大的关键字用于遍历数组切片和通道等数据结构通过可以轻松遍历数据结构的元素并同时获得索引或键和值遍历数组和切片数组在遍历数组时返回两个值当前元素的索引当前元素的值切片对于切片也返回两个值当前元素的索引当前元素的值遍历在中返回的是键值对对于返回两个值当前元素的键当前元素的值注意事项的遍历顺序是无序的每次遍历的顺序可能不同遍历字符串也可以用于遍历字符串它会逐个获取字符串中的字符而不是按字节遍历在遍历字符串时返回两个值当前字符的索引当前字符的码点值类型只获取值或索引你可以通过忽略返回的某些值只获取索引只获取值遍历通道也可以用来遍历通道中的元素当通道关闭时循环会停止当通道关闭后会自动遍历通道中的所有元素示例综合使用遍历数组遍历切片遍历遍历字符串总结是语言中遍历数据结构的关键字可以遍历数组切片通道等在遍历时返回的是键和值遍历数组或切片时返回的是索引和值可以使用来忽略不需要的返回值如只关注索引或只关注值在处理通道时会在通道关闭时停止是一个高效且灵活的工具能够简化代码并提高可读性函数在语言中函数是基本的代码结构之一用于封装一组语句并通过函数调用来执行这些语句函数可以有输入参数返回值也可以没有参数或返回值定义函数语言使用关键字来定义函数基本函数定义这个函数的定义包含了关键字表示定义一个函数函数的名称是函数的参数列表表示这个函数接收两个类型的参数是返回值的类型表示该函数返回一个类型的结果调用函数函数定义后可以通过函数名调用它并传递参数输出函数参数单一参数类型可以在函数参数中使用相同类型的多个参数简化代码可变参数支持传递可变数量的参数使用来表示可变参数调用输出返回值函数可以返回多个值调用输出命名返回值允许给返回值命名返回值就像局部变量一样可以在函数体内直接使用这也简化了代码使得不需要显式地使用语句使用命名返回值函数作为值允许函数作为值传递这意味着可以将函数赋值给变量或作为参数传递给其他函数将函数赋值给变量输出函数作为参数输出匿名函数支持匿名函数即没有函数名的函数匿名函数常常作为回调函数或临时使用函数闭包支持闭包闭包是一个函数它可以记住并访问其外部作用域中的变量即使外部函数返回闭包仍然可以访问这些变量输出输出在上面的例子中是一个闭包它记住了的值并且每次调用时都会更新并返回新的值函数的递归调用支持函数的递归调用即一个函数在其定义中调用自己输出在这个例子中函数调用自己来计算阶乘多返回值函数允许函数返回多个值常用于处理错误处理等场景输出总结语言中的函数是非常灵活的可以定义单一返回值多个返回值可变参数和命名返回值等支持将函数作为值传递允许匿名函数和闭包等特性函数调用时可以直接使用返回值也可以通过传递函数作为参数来进行更高阶的编程基础用法多返回值变参函数闭包递归指针在语言中指针是存储变量内存地址的类型它允许程序间接访问变量的值指针可以非常方便地用于修改函数外部的变量值以及在内存中操作数据的指针与语言类似但它不允许进行指针算术运算这让它更加安全定义和声明指针在中指针的声明方式是使用表示指向某个类型的指针类型前加表示该变量是该类型的指针这意味着是一个指向类型的指针但它当前没有指向任何具体的内存地址获取变量的地址取地址操作符要获取一个变量的内存地址可以使用操作符它会返回变量的地址是的指针输出的地址解引用指针取值操作符通过指针访问它所指向的变量的值使用操作符这个过程叫做解引用获取的地址输出解引用指针得到的值指针与变量的关系获取变量的地址解引用指针获取指针所指向的值示例获取的地址输出的内存地址输出通过指针访问的值修改变量的值通过指针指针允许通过间接访问修改原变量的值通过解引用指针可以修改它指向的变量修改的值通过指针输出指针作为函数参数在中函数参数是值传递的如果希望函数修改传入的变量可以传递变量的指针这通常用于避免复制大量数据的成本或允许函数修改传入的参数通过指针修改原始值传递的指针输出指针类型与结构体结构体也可以使用指针结构体指针常用于修改结构体的成员避免复制结构体的副本修改的输出输出指针指针可以是即它不指向任何有效的内存地址你可以检查指针是否为来避免解引用空指针零值和指针中指针的零值是表示它没有指向任何有效的内存地址当一个指针没有显式初始化时它的默认值就是默认为输出指针的应用修改函数外部的变量值通过指针参数来修改传入的变量避免大数据的复制对于大的数据结构如数组或结构体可以通过指针传递避免复制整个数据结构链表树等数据结构指针广泛应用于实现链表二叉树等动态数据结构总结指针是语言中的一个重要特性它让你能够间接操作内存并通过引用传递修改变量的值语言中的指针有如下特点不允许指针算术运算避免了语言中的很多潜在错误使用获取变量的地址使用解引用指针可以通过指针修改变量的值传递指针给函数可以改变函数外的变量指针在中的使用简单而强大可以提高程序的效率并且节省内存空间字符串和类型一字符串字符串的定义不可变性字符串是不可变的即一旦创建后无法直接修改其中的内容任何修改操作都会生成一个新的字符串底层结构字符串底层是一个只读的字节序列编码通常用来存储编码的数据可以包含字符汉字特殊符号等字符串的常见操作声明与初始化使用双引号声明普通字符串使用反引号声明原始字符串保留原格式包括换行和特殊字符普通字符串原始字符串获取字符串长度使用获取字符串长度返回的是字节数而非字符数你好输出因为每个汉字占个字节索引访问字符串可以通过索引访问字符串中的字节输出的值输出注意通过索引访问的是单个字节而不是字符字符串拼接使用或拼接字符串输出切片操作支持通过切片截取子字符串但结果是字节切片可能导致截断多字节字符你好世界截取前个字节输出乱码截断了你标准库中的字符串方法提供了包来处理字符串包括查找替换切分等操作常用函数查找子串切分与连接替换大小写转换二的定义是的一个别名类型等价于用于表示单个字符每个占用个字节能够表示所有代码点的用途用于处理多字节字符如汉字或逐字符操作可以将字符串转换为以逐字符处理而不是逐字节的常见操作字符串与的相互转换将字符串转为你好世界将转为字符串你好世界逐字符处理使用遍历可以逐字符操作世界第个字符修改字符串字符串不可变但可以通过修改后重新构造统计字符数量使用获取的是字节数若要获取字符数需要将字符串转换为你好世界字节数字符数三字符串与的关系特性字符串类型不可变的字节序列表示单个代码点内存占用每个字符占用字节编码每个字符固定占用字节类型表示范围编码的字节序列字符适用场景用于存储和操作整段文本用于逐字符处理支持多字节字符索引操作索引访问的是字节可以通过访问字符四使用场景与注意事项字符串处理如果主要处理整段文本数据使用避免直接索引多字节字符否则可能导致错误多字节字符处理如果需要逐字符操作使用转换为后才能安全地进行字符级别的索引和修改性能权衡操作通常更高效因为底层是只读的使用需要额外的内存适合复杂字符处理场景五总结字符串主要用于存储和处理文本适合完整的文本操作支持丰富的库函数如查找替换切分等用来处理单个字符尤其适合多字节字符和逐字符遍历操作转换技巧和的相互转换是处理字符和文本的桥梁结构体定义结构体结构体使用关键字定义格式如下示例创建结构体实例创建结构体实例的方式有以下几种使用结构体字面量使用字段名初始化推荐创建空结构体并赋值使用创建结构体指针结构体的零值结构体的零值是其所有字段的零值例如输出结构体字段的访问与修改结构体字段可以通过点操作符访问和修改访问字段修改字段结构体的比较两个结构体实例可以直接比较但前提是它们的所有字段都支持比较操作输出匿名字段结构体支持匿名字段嵌套结构体可以通过类型名直接使用匿名字段直接访问匿名字段的成员结构体的方法中的方法是绑定到特定类型包括结构体的函数定义方法方法定义时必须有一个接收者接收者可以是值类型或指针类型调用方法调用方法值接收者指针接收者值接收者方法操作的是结构体的副本不会修改原始数据指针接收者方法操作的是结构体的指针可以修改原始数据示例只修改副本不影响原始数据修改原始数据输出输出嵌套结构体结构体可以嵌套另一个结构体以实现更复杂的数据结构与结构体结构体可以与数据相互转换需使用包转换为从转换为结构体使用标签自定义字段结构体的内存布局结构体的内存分配是连续的字段的顺序会影响内存对齐和大小优化内存对齐的字段顺序可以减少内存填充提高内存使用效率方法在语言中结构体是一种用户定义的数据类型它由一组字段组成字段可以是不同类型的数据结构体的方法是与结构体相关的函数它们能够操作结构体中的数据定义结构体首先我们需要定义一个结构体结构体的定义使用关键字来创建格式如下更多字段结构体的方法结构体方法是与结构体类型相关联的函数语言通过方法接收器来将方法与结构体关联方法接收器可以是结构体类型的指针或值方法接收器值接收器方法接收器是结构体的值拷贝指针接收器方法接收器是结构体的指针可以修改结构体的内容定义结构体的方法使用值接收器值接收器的好处是可以避免修改原始结构体适合那些不需要修改数据的方法定义结构体定义一个方法使用值接收器调用结构体方法使用指针接收器指针接收器的好处是可以直接修改结构体的内容适合需要修改结构体数据的方法定义结构体定义一个方法使用指针接收器修改结构体的字段调用结构体方法修改后的值值接收器与指针接收器的区别值接收器方法会接收结构体的副本修改副本不会影响原始结构体适用于方法不需要修改结构体字段的情况如果结构体较小传递副本开销不大指针接收器方法会接收结构体的指针方法内部修改会影响到原始结构体适用于方法需要修改结构体字段的情况如果结构体较大使用指针可以避免拷贝开销示例结构体和方法结合的复杂应用定义一个结构体使用值接收器计算矩形的面积使用指针接收器改变矩形的大小调用值接收器方法计算面积输出调用指针接收器方法改变矩形大小输出更新后的矩形输出方法重载与接口语言不像或那样支持方法重载即相同名字的多个方法但可以通过接口来实现类似的效果通过定义接口类型可以让不同类型即使它们有相同的方法签名在同一方法中调用总结在语言中结构体的方法可以通过值接收器和指针接收器来定义值接收器不会修改结构体本身而指针接收器可以修改结构体通常推荐使用指针接收器特别是在方法可能会修改结构体时或者结构体较大时以避免不必要的拷贝接口语言中的接口是一个非常重要的概念它定义了一组方法的集合但是并不包含方法的具体实现接口类型非常灵活语言的接口使用起来比许多其他编程语言中的接口要简单和直观下面详细讲解一下语言接口的各个方面接口定义语言的接口是通过关键字来定义的接口可以包含多个方法但接口本身并不实现这些方法接口的定义只是声明了哪些方法应该被实现但没有提供具体的实现细节定义一个接口接口方法类型实现了方法被赋值为类型的实例实现了方法调用接口方法在这个例子中是一个接口包含一个方法类型实现了方法所以就实现了接口隐式实现的接口与其他语言不同不需要显式地声明某个类型实现了某个接口只要某个类型实现了接口中的所有方法这个类型就自动实现了这个接口也就是说你不需要写类似于这样的代码类型也隐式实现了接口这里类型同样实现了方法所以它也隐式地实现了接口空接口空接口是中非常特殊的接口类型空接口没有任何方法因此所有的类型都实现了空接口空接口可以用来表示任何类型的数据打印打印打印切片接口的类型断言语言提供了类型断言功能用于从接口类型转换回具体的类型类型断言可以检查接口的实际类型并根据检查结果进行相应的处理类型断言在上面的例子中我们使用了来检查接口的实际类型语句允许我们根据不同的类型执行不同的代码接口的值接口类型的变量实际上包含了两个信息一个指向具体数据的指针一个指向该数据实现方法的表即方法集如果你给接口赋值一个具体的类型实例那么接口变量就包含了该类型实例的值和该类型的方法集输出输出空接口与反射空接口通常用于接受任何类型的值结合反射包可以对空接口中的值进行进一步的操作和检查反射可以用来动态地获取类型信息并执行操作使用反射获取类型信息接口的组合语言中的接口可以通过组合其他接口来创建更复杂的接口你可以将多个接口的集合组合在一起形成一个新的接口输出输出接口的使用场景接口通常用于以下几种场景多态性不同类型实现相同接口允许在不同类型之间进行操作而不关心具体类型解耦接口使得类型间的关系更加松散允许通过接口而不是具体实现来设计和测试代码扩展性通过定义接口可以为现有系统添加新的功能而不修改已有代码总结语言的接口非常灵活支持隐式实现多态组合等特性可以使代码更加简洁可扩展通过空接口我们能够处理不同类型的数据结合反射等技术的接口在实际开发中非常有用语言中的嵌入是指在一个类型中嵌入另一个类型常常用于实现代码复用继承和接口组合等功能语言没有传统的类继承机制而是通过嵌入其他类型通常是结构体或接口来实现类似的功能嵌入使得一个类型能够访问另一个类型的方法和字段但它并不会强制要求显示继承关系这使得在设计上更简洁和灵活结构体嵌入结构体嵌入是中最常见的嵌入方式通过嵌入其他结构体一个结构体可以拥有另一个结构体的字段和方法嵌入的结构体不需要显式声明字段名称这样可以直接访问被嵌入结构体的字段和方法示例结构体嵌入定义一个结构体定义另一个结构体嵌入结构体结构体嵌入创建一个实例直接访问嵌入的字段在上面的例子中结构体嵌入了结构体因此类型拥有了类型的所有字段和可以直接通过和访问嵌入的字段方法的继承嵌入不仅仅是让一个结构体继承另一个结构体的字段还可以让一个结构体继承另一个结构体的方法被嵌入的结构体的方法可以被外部结构体直接调用示例方法继承定义一个结构体为定义一个方法定义另一个结构体嵌入结构体嵌入创建一个实例直接调用嵌入的的方法在这个例子中结构体继承了的方法因此你可以通过来调用结构体的方法嵌入的结构体的所有方法都会自动被嵌入到外部结构体中无需显式继承方法重写在语言中你可以通过嵌入的方式覆盖重写嵌入结构体的某些方法通过这种方式你可以在外部结构体中实现自定义的行为示例方法重写定义一个结构体定义另一个结构体嵌入结构体嵌入在这个例子中结构体嵌入了结构体并且重写了方法因此调用时输出的是而不是接口的嵌入接口类型也可以嵌套其他接口从而形成更复杂的接口组合通过接口嵌入你可以组合多个接口的行为形成更强大的抽象示例接口嵌入实现了接口实现了接口定义一个新的接口组合和接口由于实现了和接口所以它也实现了接口在这个例子中接口嵌入了和接口因此任何实现了这两个接口的方法的类型如也自动实现了接口这样你可以组合多个接口从而使得类型具有更多的行为匿名字段语言中的嵌入可以使用匿名字段匿名字段是指在结构体中直接嵌入另一个类型而不需要为其起一个名称这样做可以简化代码使得代码更简洁示例匿名字段定义一个结构体定义另一个结构体匿名嵌入匿名嵌入通过匿名嵌入字段直接访问在这个例子中作为匿名字段直接嵌入了结构体结构体可以直接访问的字段和嵌入的使用场景代码复用通过嵌入类型可以在不继承的情况下重用另一个类型的方法和字段实现接口通过嵌入结构体或接口可以实现多个接口增强类型的灵活性接口组合通过嵌套多个接口能够实现更复杂的接口设计简化结构体设计匿名字段和嵌入使得结构体设计更简洁代码更易于维护总结语言的嵌入是实现代码复用模拟继承以及接口组合的重要手段通过嵌入不仅避免了传统继承模型中的复杂性同时又能够灵活地组合和扩展现有类型的功能嵌入可以显著提高代码的简洁性和可维护性是语言设计中的一个重要特性泛型语言的泛型是在版本引入的一个重要特性允许你编写更具通用性和复用性的代码在没有泛型之前语言的类型系统要求程序员在许多情况下编写重复的代码而泛型使得函数数据结构和算法能够适应不同类型而无需手动复制代码下面我会简略而全面地讲解语言泛型的核心知识点泛型基础泛型的核心思想是让函数类型或数据结构在编写时不指定特定的类型而是在调用时由用户指定类型通过类型参数来实现这一点在语言中泛型的语法是通过关键字来声明类型参数定义泛型函数我们可以定义一个泛型函数接受一个类型参数并在函数体内根据类型参数进行操作定义一个泛型函数表示类型参数输出输出在这个例子中是一个类型参数它可以是任何类型由关键字表示是的别名函数接收任何类型的值并打印它泛型类型约束语言的泛型允许为类型参数添加约束确保类型参数符合某些条件通过接口来实现约束例如我们可以要求类型参数必须是数字类型定义一个只接受数字类型的泛型函数输出输出输出在这个例子中函数的类型参数被约束为或之一泛型数据结构泛型不仅可以用于函数还可以用于数据结构如数组切片映射等通过泛型数据结构我们可以避免为每种类型编写重复的代码定义一个泛型栈类型操作类型的栈输出操作类型的栈输出和在泛型中是一种通用类型表示任何类型它是的别名在版本及之后你可以用来表示可以接受任何类型的类型参数两者是等价的泛型约束类型的组合支持组合多个约束可以将多个接口约束组合在一起从而使得类型参数更为灵活定义一个接受可比较类型的泛型函数输出输出输出类型推断在调用泛型函数时会自动推断类型参数如果没有显式指定类型会根据传入的参数类型推断出类型推断为推断为使用泛型接口你也可以为接口定义泛型使得接口更加灵活和可重用输出总结语言的泛型使得编写更加通用和可重用的代码成为可能它通过类型参数和约束来实现这一点泛型能够提高代码的灵活性和可维护性减少代码重复但同时也需要保持类型的安全性泛型的核心语法和概念包括使用定义类型参数使用或来表示可以接受任何类型通过类型约束限制类型参数的范围使用泛型数据结构如栈队列等来实现通用的数据结构你可以使用泛型来优化你的代码避免编写大量的重复逻辑特别是在需要处理多种类型时",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2025-03-04 10:41:52",postMainColor:""}</script><noscript><style>#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:(e,t,a)=>{var o;0!==a&&(o=Date.now(),localStorage.setItem(e,JSON.stringify({value:t,expiry:o+864e5*a})))},get:e=>{var t=localStorage.getItem(e);if(t){t=JSON.parse(t);if(!(Date.now()>t.expiry))return t.value;localStorage.removeItem(e)}}},e.getScript=(o,c={})=>new Promise((t,e)=>{let a=document.createElement("script");a.src=o,a.async=!0,a.onerror=e,a.onload=a.onreadystatechange=function(){var e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,t())},Object.keys(c).forEach(e=>{a.setAttribute(e,c[e])}),document.head.appendChild(a)}),e.getCSS=(o,c=!1)=>new Promise((t,e)=>{let a=document.createElement("link");a.rel="stylesheet",a.href=o,c&&(a.id=c),a.onerror=e,a.onload=a.onreadystatechange=function(){var e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,t())},document.head.appendChild(a)}),e.activateDarkMode=()=>{document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#18171d")},e.activateLightMode=()=>{document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#f7f9fe")};var e=saveToLocal.get("theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches,a=window.matchMedia("(prefers-color-scheme: light)").matches,o=window.matchMedia("(prefers-color-scheme: no-preference)").matches,c=!t&&!a&&!o,t=(void 0===e?(a?activateLightMode():t?activateDarkMode():(o||c)&&((a=(new Date).getHours())<=6||18<=a?activateDarkMode:activateLightMode)(),window.matchMedia("(prefers-color-scheme: dark)").addListener(e=>{void 0===saveToLocal.get("theme")&&(e.matches?activateDarkMode:activateLightMode)()})):("light"===e?activateLightMode:activateDarkMode)(),saveToLocal.get("aside-status"));void 0!==t&&("hide"===t?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><meta name="generator" content="Hexo 7.3.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/basic-img/avatar.jpg"><div class="loading-image-dot"></div></div></div><script>let preloader={endLoading:()=>{document.getElementById("loading-box").classList.add("loaded")},initLoading:()=>{document.getElementById("loading-box").classList.remove("loaded")}};window.addEventListener("load",()=>{preloader.endLoading()}),setTimeout(function(){preloader.endLoading()},1e4),document.addEventListener("pjax:send",()=>{preloader.initLoading()}),document.addEventListener("pjax:complete",()=>{preloader.endLoading()})</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"><script async src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><div class="back-home-button"><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">AI助手</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://chatgpt.com/" title="ChatGPT"><img class="back-menu-item-icon" src="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/basic-img/chatgpt.jpg" alt="ChatGPT"><span class="back-menu-item-text">ChatGPT</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://gemini.google.com/app" title="Gemini"><img class="back-menu-item-icon" src="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/basic-img/f4a855188450701.65b6d6903dc33.png" alt="Gemini"><span class="back-menu-item-text">Gemini</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://www.doubao.com/" title="豆包"><img class="back-menu-item-icon" src="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/basic-img/logo_new.png" alt="豆包"><span class="back-menu-item-text">豆包</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">日常网站</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://leetcode.cn/" title="力扣"><img class="back-menu-item-icon" src="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/basic-img/LeetCode.jpg" alt="力扣"><span class="back-menu-item-text">力扣</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://www.bilibili.com/" title="bilibili"><img class="back-menu-item-icon" src="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/basic-img/bilibili.jpg" alt="bilibili"><span class="back-menu-item-text">bilibili</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://github.com/" title="GitHub"><img class="back-menu-item-icon" src="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/basic-img/github.jpg" alt="GitHub"><span class="back-menu-item-text">GitHub</span></a></div></div></div></div><a id="site-name" href="/" accesskey="h"><div class="title">寻觅~流光</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a><div id="he-plugin-simple"></div><script>var WIDGET={CONFIG:{modules:"0124",background:"2",tmpColor:"FFFFFF",tmpSize:"16",cityColor:"FFFFFF",citySize:"16",aqiColor:"E8D87B",aqiSize:"16",weatherIconSize:"24",alertIconSize:"18",padding:"10px 10px 10px 10px",shadow:"0",language:"auto",borderRadius:"20",fixed:"true",vertical:"top",horizontal:"left",left:"20",top:"7.1",key:"df245676fb434a0691ead1c63341cd94"}}</script><link rel="stylesheet" href="https://widget.qweather.net/simple/static/css/he-simple.css?v=1.4.0"><script src="https://widget.qweather.net/simple/static/js/he-simple.js?v=1.4.0"></script></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>文章杂记</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size:.9em"></i><span> 全部文章</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size:.9em"></i><span> 分类查看</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size:.9em"></i><span> 标签汇总</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>生活日常</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size:.9em"></i><span> 友人帐簿</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/fcircle/"><i class="anzhiyufont anzhiyu-icon-artstation faa-tada" style="font-size:.9em"></i><span> 好友动态</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size:.9em"></i><span> 留言互动</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>我的空间</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/?id=8789842957&amp;server=netease"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size:.9em"></i><span> 音乐天地</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/bangumis/"><i class="anzhiyufont anzhiyu-icon-bilibili faa-tada" style="font-size:.9em"></i><span> 番剧收藏</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size:.9em"></i><span> 精彩相册</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>关于本站</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size:.9em"></i><span> 关于博主</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size:.9em"></i><span> 随想记录</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size:.9em"></i><span> 随机漫游</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button only-home" id="travellings_button" title="随机前往一个开往项目网站"><a class="site-page" onclick="anzhiyu.totraveling()" title="随机前往一个开往项目网站" href="javascript:void(0);" rel="external nofollow" data-pjax-state="external"><i class="anzhiyufont anzhiyu-icon-train"></i></a></div><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><input id="center-console" type="checkbox"><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole()"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/basic-img/wechat.jpg" target="_blank"><img class="post-qr-code-img" alt="微信" src="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/basic-img/wechat.jpg"></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/img/owner/alipay-qrcode.jpg" target="_blank"><img class="post-qr-code-img" alt="支付宝" src="/img/owner/alipay-qrcode.jpg"></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title">最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/C-C/" style="font-size:1.05rem">C/C++<sup>25</sup></a><a href="/tags/CSS/" style="font-size:1.05rem">CSS<sup>1</sup></a><a href="/tags/HTML/" style="font-size:1.05rem">HTML<sup>1</sup></a><a href="/tags/JavaScript/" style="font-size:1.05rem">JavaScript<sup>20</sup></a><a href="/tags/React/" style="font-size:1.05rem">React<sup>1</sup></a><a href="/tags/STL%E5%AE%B9%E5%99%A8/" style="font-size:1.05rem">STL容器<sup>8</sup></a><a href="/tags/Svelte/" style="font-size:1.05rem">Svelte<sup>1</sup></a><a href="/tags/css/" style="font-size:1.05rem">css<sup>3</sup></a><a href="/tags/cst/" style="font-size:1.05rem">cst<sup>1</sup></a><a href="/tags/git/" style="font-size:1.05rem">git<sup>1</sup></a><a href="/tags/go/" style="font-size:1.05rem">go<sup>1</sup></a><a href="/tags/hexo/" style="font-size:1.05rem">hexo<sup>1</sup></a><a href="/tags/html/" style="font-size:1.05rem">html<sup>3</sup></a><a href="/tags/http/" style="font-size:1.05rem">http<sup>1</sup></a><a href="/tags/java/" style="font-size:1.05rem">java<sup>1</sup></a><a href="/tags/leetcode/" style="font-size:1.05rem">leetcode<sup>7</sup></a><a href="/tags/vue/" style="font-size:1.05rem">vue<sup>1</sup></a><a href="/tags/vue3/" style="font-size:1.05rem">vue3<sup>1</sup></a><a href="/tags/%E4%BA%8C%E5%8F%89%E6%A0%91/" style="font-size:1.05rem">二叉树<sup>1</sup></a><a href="/tags/%E5%85%AB%E8%82%A1/" style="font-size:1.05rem">八股<sup>1</sup></a><a href="/tags/%E5%88%86%E5%9D%97%E6%9F%A5%E6%89%BE/" style="font-size:1.05rem">分块查找<sup>1</sup></a><a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size:1.05rem">前端<sup>2</sup></a><a href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" style="font-size:1.05rem">前端开发<sup>3</sup></a><a href="/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" style="font-size:1.05rem">动态规划<sup>1</sup></a><a href="/tags/%E5%8D%9A%E5%AE%A2/" style="font-size:1.05rem">博客<sup>1</sup></a><a href="/tags/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/" style="font-size:1.05rem">后端开发<sup>1</sup></a><a href="/tags/%E5%93%88%E5%B8%8C/" style="font-size:1.05rem">哈希<sup>1</sup></a><a href="/tags/%E5%9B%BE%E8%AE%BA/" style="font-size:1.05rem">图论<sup>1</sup></a><a href="/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/" style="font-size:1.05rem">字符串<sup>1</sup></a><a href="/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/" style="font-size:1.05rem">微信小程序<sup>1</sup></a><a href="/tags/%E6%8E%92%E5%BA%8F/" style="font-size:1.05rem">排序<sup>1</sup></a><a href="/tags/%E6%8E%92%E5%BA%8F%E4%BA%8C%E5%8F%89%E6%A0%91/" style="font-size:1.05rem">排序二叉树<sup>1</sup></a><a href="/tags/%E6%95%B0%E5%AD%A6/" style="font-size:1.05rem">数学<sup>1</sup></a><a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size:1.05rem">数据结构<sup>15</sup></a><a href="/tags/%E6%95%B0%E7%BB%84/" style="font-size:1.05rem">数组<sup>1</sup></a><a href="/tags/%E6%B5%8B%E8%AF%95/" style="font-size:1.05rem">测试<sup>1</sup></a><a href="/tags/%E8%93%9D%E6%A1%A5%E6%9D%AF/" style="font-size:1.05rem">蓝桥杯<sup>1</sup></a><a href="/tags/%E9%80%92%E5%BD%92/" style="font-size:1.05rem">递归<sup>1</sup></a><a href="/tags/%E9%93%BE%E8%A1%A8/" style="font-size:1.05rem">链表<sup>1</sup></a><a href="/tags/%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/" style="font-size:1.05rem">项目复盘<sup>1</sup></a></div></div><hr></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/05/"><span class="card-archive-list-date">五月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/04/"><span class="card-archive-list-date">四月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/03/"><span class="card-archive-list-date">三月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/02/"><span class="card-archive-list-date">二月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/01/"><span class="card-archive-list-date">一月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">7</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/12/"><span class="card-archive-list-date">十二月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">29</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/11/"><span class="card-archive-list-date">十一月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">13</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/10/"><span class="card-archive-list-date">十月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">3</span><span>篇</span></div></a></li></ul></div><hr></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item on" id="consoleCommentBarrage" onclick="anzhiyu.switchCommentBarrage()" title="热评开关"><a class="commentBarrage"><i class="anzhiyufont anzhiyu-icon-message"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/go/" itemprop="url">go</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/go/" tabindex="-1" itemprop="url"> <span><i class="anzhiyufont anzhiyu-icon-hashtag"></i>go</span></a></span></div></div><h1 class="post-title" itemprop="name headline">Go</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2024-12-21T16:00:00.000Z" title="发表于 2024-12-22 00:00:00">2024-12-22</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2025-03-04T02:41:52.036Z" title="更新于 2025-03-04 10:41:52">2025-03-04</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span class="post-meta-wordcount"><i class="anzhiyufont anzhiyu-icon-file-word post-meta-icon" title="文章字数"></i><span class="post-meta-label" title="文章字数">字数总计:</span><span class="word-count" title="文章字数">15.2k</span><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-clock post-meta-icon" title="阅读时长"></i><span class="post-meta-label" title="阅读时长">阅读时长:</span><span>63分钟</span></span><span class="post-meta-separator"></span><span class="post-meta-pv-cv" data-flag-title="Go"><i class="anzhiyufont anzhiyu-icon-fw-eye post-meta-icon"></i><span class="post-meta-label" title="阅读量">阅读量:</span><span id="busuanzi_value_page_pv"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></span><span class="post-meta-separator"> </span><span class="post-meta-position" title="作者IP属地为广州"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>广州</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/Go-image/20241222013233.png"></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="https://8023time.github.io/2024/12/22/GO/"><header><a class="post-meta-categories" href="/categories/go/" itemprop="url">go</a><a href="/tags/go/" tabindex="-1" itemprop="url">go</a><h1 id="CrawlerTitle" itemprop="name headline">Go</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">寻觅~流光</span><time itemprop="dateCreated datePublished" datetime="2024-12-21T16:00:00.000Z" title="发表于 2024-12-22 00:00:00">2024-12-22</time><time itemprop="dateCreated datePublished" datetime="2025-03-04T02:41:52.036Z" title="更新于 2025-03-04 10:41:52">2025-03-04</time></header><h1 id="Go"><a href="#Go" class="headerlink" title="Go"></a>Go</h1><h2 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;hello world&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">要运行这个程序，先将将代码放到名为 hello-world.<span class="keyword">go</span> 的文件中，然后执行 <span class="keyword">go</span> run</span><br><span class="line">$ <span class="keyword">go</span> run hello-world.<span class="keyword">go</span></span><br><span class="line">hello world</span><br><span class="line"></span><br><span class="line">如果我们想将程序编译成二进制文件（Windows 平台是 .exe 可执行文件）， 可以通过 <span class="keyword">go</span> build 来达到目的。</span><br><span class="line">$ <span class="keyword">go</span> build hello-world.<span class="keyword">go</span></span><br><span class="line">$ ls</span><br><span class="line">hello-world    hello-world.<span class="keyword">go</span></span><br><span class="line"></span><br><span class="line">然后我们可以直接运行这个二进制文件。</span><br><span class="line">$ ./hello-world</span><br><span class="line">hello world</span><br></pre></td></tr></table></figure><h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// var 声明 1 个或者多个变量。</span></span><br><span class="line">    <span class="keyword">var</span> a = <span class="string">&quot;initial&quot;</span></span><br><span class="line">    fmt.Println(a)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> b, c <span class="type">int</span> = <span class="number">1</span>, <span class="number">2</span></span><br><span class="line">    fmt.Println(b, c)</span><br><span class="line">	<span class="comment">// Go 会自动推断已经有初始值的变量的类型。</span></span><br><span class="line">    <span class="keyword">var</span> d = <span class="literal">true</span></span><br><span class="line">    fmt.Println(d)</span><br><span class="line">	<span class="comment">// 声明后却没有给出对应的初始值时，变量将会初始化为 零值 </span></span><br><span class="line">    <span class="keyword">var</span> e <span class="type">int</span></span><br><span class="line">    fmt.Println(e)</span><br><span class="line">	<span class="comment">// := 语法是声明并初始化变量的简写， 例如 var f string = &quot;short&quot; 可以简写为右边这样</span></span><br><span class="line">    f := <span class="string">&quot;short&quot;</span></span><br><span class="line">    fmt.Println(f)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="keyword">go</span> run variables.<span class="keyword">go</span></span><br><span class="line">initial</span><br><span class="line"><span class="number">1</span> <span class="number">2</span></span><br><span class="line"><span class="literal">true</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line">short</span><br></pre></td></tr></table></figure><h2 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;math&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> s <span class="type">string</span> = <span class="string">&quot;constant&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    fmt.Println(s)</span><br><span class="line">	<span class="comment">// const 语句可以出现在任何 var 语句可以出现的地方</span></span><br><span class="line">    <span class="keyword">const</span> n = <span class="number">500000000</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> d = <span class="number">3e20</span> / n</span><br><span class="line">    fmt.Println(d)</span><br><span class="line">	<span class="comment">// 数值型常量没有确定的类型，直到被给定某个类型，比如显式类型转化。</span></span><br><span class="line">    fmt.Println(<span class="type">int64</span>(d))</span><br><span class="line">	<span class="comment">// 一个数字可以根据上下文的需要（比如变量赋值、函数调用）自动确定类型。</span></span><br><span class="line">    fmt.Println(math.Sin(n))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="keyword">go</span> run constant.<span class="keyword">go</span> </span><br><span class="line">constant</span><br><span class="line"><span class="number">6e+11</span></span><br><span class="line"><span class="number">600000000000</span></span><br><span class="line"><span class="number">-0.28470407323754404</span></span><br></pre></td></tr></table></figure><h2 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h2><blockquote><p><code>for</code> 是 Go 中唯一的循环结构。这里会展示 <code>for</code> 循环的一些基本使用方式。</p></blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    i := <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> i &lt;= <span class="number">3</span> &#123;</span><br><span class="line">        fmt.Println(i)</span><br><span class="line">        i = i + <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> j := <span class="number">7</span>; j &lt;= <span class="number">9</span>; j++ &#123;</span><br><span class="line">        fmt.Println(j)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;loop&quot;</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> n := <span class="number">0</span>; n &lt;= <span class="number">5</span>; n++ &#123;</span><br><span class="line">        <span class="keyword">if</span> n%<span class="number">2</span> == <span class="number">0</span> &#123;</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Println(n)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="keyword">go</span> run <span class="keyword">for</span>.<span class="keyword">go</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">7</span></span><br><span class="line"><span class="number">8</span></span><br><span class="line"><span class="number">9</span></span><br><span class="line">loop</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">5</span></span><br></pre></td></tr></table></figure><h2 id="if-else分支"><a href="#if-else分支" class="headerlink" title="if&#x2F;else分支"></a>if&#x2F;else分支</h2><blockquote><p>注意，在 Go 中，条件语句的圆括号不是必需的，但是花括号是必需的。</p><p>Go 没有三目运算符， 即使是基本的条件判断，依然需要使用完整的 <code>if</code> 语句。</p></blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="number">7</span>%<span class="number">2</span> == <span class="number">0</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;7 is even&quot;</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;7 is odd&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="number">8</span>%<span class="number">4</span> == <span class="number">0</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;8 is divisible by 4&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> num := <span class="number">9</span>; num &lt; <span class="number">0</span> &#123;</span><br><span class="line">        fmt.Println(num, <span class="string">&quot;is negative&quot;</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> num &lt; <span class="number">10</span> &#123;</span><br><span class="line">        fmt.Println(num, <span class="string">&quot;has 1 digit&quot;</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        fmt.Println(num, <span class="string">&quot;has multiple digits&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="keyword">go</span> run <span class="keyword">if</span>-<span class="keyword">else</span>.<span class="keyword">go</span> </span><br><span class="line"><span class="number">7</span> is odd</span><br><span class="line"><span class="number">8</span> is divisible by <span class="number">4</span></span><br><span class="line"><span class="number">9</span> has <span class="number">1</span> digit</span><br></pre></td></tr></table></figure><h2 id="switch分支"><a href="#switch分支" class="headerlink" title="switch分支"></a>switch分支</h2><blockquote><p><em>switch</em> 是多分支情况时快捷的条件语句。</p></blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    i := <span class="number">2</span></span><br><span class="line">    fmt.Print(<span class="string">&quot;write &quot;</span>, i, <span class="string">&quot; as &quot;</span>)</span><br><span class="line">    <span class="keyword">switch</span> i &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        fmt.Println(<span class="string">&quot;one&quot;</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">        fmt.Println(<span class="string">&quot;two&quot;</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">        fmt.Println(<span class="string">&quot;three&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">switch</span> time.Now().Weekday() &#123;</span><br><span class="line">    <span class="keyword">case</span> time.Saturday, time.Sunday:</span><br><span class="line">        fmt.Println(<span class="string">&quot;It&#x27;s the weekend&quot;</span>)</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        fmt.Println(<span class="string">&quot;It&#x27;s a weekday&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    t := time.Now()</span><br><span class="line">    <span class="keyword">switch</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> t.Hour() &lt; <span class="number">12</span>:</span><br><span class="line">        fmt.Println(<span class="string">&quot;It&#x27;s before noon&quot;</span>)</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        fmt.Println(<span class="string">&quot;It&#x27;s after noon&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    whatAmI := <span class="function"><span class="keyword">func</span><span class="params">(i <span class="keyword">interface</span>&#123;&#125;)</span></span> &#123;</span><br><span class="line">        <span class="keyword">switch</span> t := i.(<span class="keyword">type</span>) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="type">bool</span>:</span><br><span class="line">            fmt.Println(<span class="string">&quot;I&#x27;m a bool&quot;</span>)</span><br><span class="line">        <span class="keyword">case</span> <span class="type">int</span>:</span><br><span class="line">            fmt.Println(<span class="string">&quot;I&#x27;m an int&quot;</span>)</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            fmt.Printf(<span class="string">&quot;Don&#x27;t know type %T\n&quot;</span>, t)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    whatAmI(<span class="literal">true</span>)</span><br><span class="line">    whatAmI(<span class="number">1</span>)</span><br><span class="line">    whatAmI(<span class="string">&quot;hey&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="keyword">go</span> run <span class="keyword">switch</span>.<span class="keyword">go</span></span><br><span class="line">Write <span class="number">2</span> as two</span><br><span class="line">It<span class="string">&#x27;s a weekday</span></span><br><span class="line"><span class="string">It&#x27;</span>s after noon</span><br><span class="line">I<span class="string">&#x27;m a bool</span></span><br><span class="line"><span class="string">I&#x27;</span>m an <span class="type">int</span></span><br><span class="line">Don<span class="string">&#x27;t know type string</span></span><br></pre></td></tr></table></figure><h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><p>在 Go 语言中，数组（Array）是一种固定长度的集合类型，它存储一组同类型的元素。数组的长度是固定的，一旦定义了数组的大小，就不能改变。</p><h3 id="1-数组的定义"><a href="#1-数组的定义" class="headerlink" title="1. 数组的定义"></a>1. 数组的定义</h3><p>数组的定义包括指定元素的类型和数组的长度。例如，一个存储 5 个整数的数组可以这样定义：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr [<span class="number">5</span>]<span class="type">int</span>  <span class="comment">// 定义一个长度为 5 的整数数组</span></span><br></pre></td></tr></table></figure><p>也可以在定义时直接初始化数组的元素：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">3</span>]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;  <span class="comment">// 定义并初始化数组</span></span><br></pre></td></tr></table></figure><p>或者 Go 支持根据初始化值自动推导数组的长度：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [...]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;  <span class="comment">// 自动推导长度为 3</span></span><br></pre></td></tr></table></figure><h3 id="2-数组的访问和修改"><a href="#2-数组的访问和修改" class="headerlink" title="2. 数组的访问和修改"></a>2. 数组的访问和修改</h3><p>数组的元素通过索引访问，索引从 0 开始。可以通过下标访问和修改数组的元素：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">arr := [<span class="number">3</span>]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line">fmt.Println(arr[<span class="number">0</span>])  <span class="comment">// 输出 1</span></span><br><span class="line">arr[<span class="number">1</span>] = <span class="number">10</span>         <span class="comment">// 修改第二个元素</span></span><br><span class="line">fmt.Println(arr[<span class="number">1</span>])  <span class="comment">// 输出 10</span></span><br></pre></td></tr></table></figure><h3 id="3-数组的长度"><a href="#3-数组的长度" class="headerlink" title="3. 数组的长度"></a>3. 数组的长度</h3><p>数组的长度是固定的，可以使用 <code>len()</code> 函数获取数组的长度：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr := [<span class="number">3</span>]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line">fmt.Println(<span class="built_in">len</span>(arr))  <span class="comment">// 输出 3</span></span><br></pre></td></tr></table></figure><h3 id="4-数组的传递"><a href="#4-数组的传递" class="headerlink" title="4. 数组的传递"></a>4. 数组的传递</h3><p>在 Go 中，数组是值类型，当你将一个数组作为参数传递给函数时，实际上是传递了该数组的副本。如果你修改了副本中的元素，原始数组不会受到影响。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">modifyArray</span><span class="params">(arr [3]<span class="type">int</span>)</span></span> &#123;</span><br><span class="line">    arr[<span class="number">0</span>] = <span class="number">100</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">arr := [<span class="number">3</span>]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line">modifyArray(arr)</span><br><span class="line">fmt.Println(arr)  <span class="comment">// 输出 [1, 2, 3]，原始数组没有被修改</span></span><br></pre></td></tr></table></figure><p>如果你希望修改原数组的内容，可以传递指向数组的指针：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">modifyArray</span><span class="params">(arr *[3]<span class="type">int</span>)</span></span> &#123;</span><br><span class="line">    arr[<span class="number">0</span>] = <span class="number">100</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">arr := [<span class="number">3</span>]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line">modifyArray(&amp;arr)</span><br><span class="line">fmt.Println(arr)  <span class="comment">// 输出 [100, 2, 3]，原数组已被修改</span></span><br></pre></td></tr></table></figure><h3 id="5-多维数组"><a href="#5-多维数组" class="headerlink" title="5. 多维数组"></a>5. 多维数组</h3><p>Go 支持多维数组，可以通过嵌套的方式定义多维数组。例如，定义一个 2 行 3 列的数组：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr [<span class="number">2</span>][<span class="number">3</span>]<span class="type">int</span></span><br><span class="line">arr[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">1</span></span><br><span class="line">arr[<span class="number">0</span>][<span class="number">1</span>] = <span class="number">2</span></span><br><span class="line">arr[<span class="number">0</span>][<span class="number">2</span>] = <span class="number">3</span></span><br><span class="line">arr[<span class="number">1</span>][<span class="number">0</span>] = <span class="number">4</span></span><br><span class="line">arr[<span class="number">1</span>][<span class="number">1</span>] = <span class="number">5</span></span><br><span class="line">arr[<span class="number">1</span>][<span class="number">2</span>] = <span class="number">6</span></span><br><span class="line">fmt.Println(arr)</span><br></pre></td></tr></table></figure><p>输出：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[[<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>] [<span class="number">4</span> <span class="number">5</span> <span class="number">6</span>]]</span><br></pre></td></tr></table></figure><h3 id="6-数组的初始化"><a href="#6-数组的初始化" class="headerlink" title="6. 数组的初始化"></a>6. 数组的初始化</h3><p>数组可以在声明时进行初始化，也可以在定义之后进行逐一赋值。以下是几种初始化数组的方式：</p><ul><li><p>声明并初始化：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr := [<span class="number">3</span>]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;  <span class="comment">// 定义并初始化数组</span></span><br></pre></td></tr></table></figure></li><li><p>使用 <code>...</code> 自动推导数组长度：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr := [...]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;  <span class="comment">// 自动推导数组长度为 3</span></span><br></pre></td></tr></table></figure></li><li><p>使用 <code>new</code> 函数创建一个指向数组的指针：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">arr := <span class="built_in">new</span>([<span class="number">3</span>]<span class="type">int</span>)  <span class="comment">// 创建一个指向长度为 3 的数组的指针</span></span><br><span class="line">arr[<span class="number">0</span>] = <span class="number">10</span></span><br><span class="line">fmt.Println(arr)  <span class="comment">// 输出 &amp;[10 0 0]</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="7-数组与切片的区别"><a href="#7-数组与切片的区别" class="headerlink" title="7. 数组与切片的区别"></a>7. 数组与切片的区别</h3><p>数组和切片的区别是一个重要的概念，尤其是 Go 语言的切片（Slice）非常常用。切片是对数组的一个抽象，允许灵活的动态扩展和缩减，而数组的大小是固定的。</p><ul><li><strong>数组</strong>：长度固定，类型和值传递。</li><li><strong>切片</strong>：动态大小，引用传递，可以灵活扩展。</li></ul><p>示例，使用切片：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">arr := [<span class="number">3</span>]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;    <span class="comment">// 数组</span></span><br><span class="line">slice := arr[:]           <span class="comment">// 切片</span></span><br><span class="line">fmt.Println(slice)        <span class="comment">// 输出 [1 2 3]</span></span><br></pre></td></tr></table></figure><h3 id="8-数组的应用场景"><a href="#8-数组的应用场景" class="headerlink" title="8. 数组的应用场景"></a>8. 数组的应用场景</h3><p>数组在 Go 中通常用于以下几种情况：</p><ul><li>当需要固定大小的数据集合时。</li><li>需要用到固定大小的内存时（例如嵌入式系统或性能优化的场景）。</li><li>数组的值传递方式可以避免不必要的内存共享，确保数据不会被意外修改。</li></ul><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><ul><li>Go 语言中的数组是固定长度的，定义时需要指定数组的长度。</li><li>数组通过下标访问和修改元素，且下标从 0 开始。</li><li>Go 中的数组是值类型，传递数组时会复制副本。如果希望修改原始数组，需要传递指针。</li><li>Go 支持多维数组，可以使用嵌套方式定义。</li><li>数组与切片不同，切片更灵活且常用于实际编程中。</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> a [<span class="number">5</span>]<span class="type">int</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;emp:&quot;</span>, a)</span><br><span class="line"></span><br><span class="line">    a[<span class="number">4</span>] = <span class="number">100</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;set:&quot;</span>, a)</span><br><span class="line">    fmt.Println(<span class="string">&quot;get:&quot;</span>, a[<span class="number">4</span>])</span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;len:&quot;</span>, <span class="built_in">len</span>(a))</span><br><span class="line"></span><br><span class="line">    b := [<span class="number">5</span>]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line">    fmt.Println(<span class="string">&quot;dcl:&quot;</span>, b)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> twoD [<span class="number">2</span>][<span class="number">3</span>]<span class="type">int</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">2</span>; i++ &#123;</span><br><span class="line">        <span class="keyword">for</span> j := <span class="number">0</span>; j &lt; <span class="number">3</span>; j++ &#123;</span><br><span class="line">            twoD[i][j] = i + j</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(<span class="string">&quot;2d: &quot;</span>, twoD)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="keyword">go</span> run arrays.<span class="keyword">go</span></span><br><span class="line">emp: [<span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span>]</span><br><span class="line">set: [<span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">100</span>]</span><br><span class="line">get: <span class="number">100</span></span><br><span class="line"><span class="built_in">len</span>: <span class="number">5</span></span><br><span class="line">dcl: [<span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span>]</span><br><span class="line"><span class="number">2</span>d:  [[<span class="number">0</span> <span class="number">1</span> <span class="number">2</span>] [<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]]</span><br></pre></td></tr></table></figure><h2 id="切片"><a href="#切片" class="headerlink" title="切片"></a>切片</h2><p>在 Go 语言中，<code>slice</code>（切片）是一种灵活、动态的数组类型，它是对数组的一个引用，具有更高效的内存管理和更灵活的功能。切片不像数组那样具有固定的长度，它可以动态增长和缩小。</p><h3 id="1-创建切片"><a href="#1-创建切片" class="headerlink" title="1. 创建切片"></a>1. <strong>创建切片</strong></h3><ul><li><p>切片的创建有几种方式：</p><ul><li><p><strong>使用 <code>make</code> 函数：</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">slice := <span class="built_in">make</span>([]<span class="type">int</span>, <span class="number">5</span>) <span class="comment">// 创建一个长度为5的切片</span></span><br></pre></td></tr></table></figure><p>你还可以指定切片的容量：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">slice := <span class="built_in">make</span>([]<span class="type">int</span>, <span class="number">5</span>, <span class="number">10</span>) <span class="comment">// 创建一个长度为5，容量为10的切片</span></span><br></pre></td></tr></table></figure></li><li><p><strong>直接使用数组字面量：</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">slice := []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125; <span class="comment">// 创建一个包含5个元素的切片</span></span><br></pre></td></tr></table></figure></li></ul></li></ul><h3 id="2-切片的属性"><a href="#2-切片的属性" class="headerlink" title="2. 切片的属性"></a>2. <strong>切片的属性</strong></h3><ul><li><p>每个切片都包含三个基本属性：</p><ul><li><strong>指针（Pointer）：</strong> 指向底层数组的指针。</li><li><strong>长度（Length）：</strong> 切片中元素的数量。</li><li><strong>容量（Capacity）：</strong> 切片底层数组的大小，从切片的起始位置到底层数组的末尾。</li></ul><p>你可以通过 <code>len()</code> 和 <code>cap()</code> 函数获取切片的长度和容量：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fmt.Println(<span class="built_in">len</span>(slice)) <span class="comment">// 输出切片的长度</span></span><br><span class="line">fmt.Println(<span class="built_in">cap</span>(slice)) <span class="comment">// 输出切片的容量</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="3-切片的切割操作"><a href="#3-切片的切割操作" class="headerlink" title="3. 切片的切割操作"></a>3. <strong>切片的切割操作</strong></h3><ul><li><p>切片可以从另一个切片或数组中通过索引和范围来切割：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">slice := []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line">subSlice := slice[<span class="number">1</span>:<span class="number">4</span>] <span class="comment">// 获取从索引1到索引3的元素</span></span><br><span class="line">fmt.Println(subSlice)  <span class="comment">// 输出: [2 3 4]</span></span><br></pre></td></tr></table></figure><p>你还可以指定切片的容量：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">subSlice := slice[<span class="number">1</span>:<span class="number">4</span>:<span class="number">5</span>] <span class="comment">// 切片从索引1到索引3，容量为5</span></span><br><span class="line">fmt.Println(subSlice)    <span class="comment">// 输出: [2 3 4]</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="4-动态扩展切片"><a href="#4-动态扩展切片" class="headerlink" title="4. 动态扩展切片"></a>4. <strong>动态扩展切片</strong></h3><ul><li><p>使用 <code>append</code> 扩展切片：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">slice := []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line">slice = <span class="built_in">append</span>(slice, <span class="number">4</span>, <span class="number">5</span>) <span class="comment">// 扩展切片</span></span><br><span class="line">fmt.Println(slice)          <span class="comment">// 输出: [1 2 3 4 5]</span></span><br></pre></td></tr></table></figure></li></ul><p>​	<code>append</code> 函数用于向切片中添加元素，并且如果需要，它会自动调整切片的容量。</p><h3 id="5-删除切片元素"><a href="#5-删除切片元素" class="headerlink" title="5. 删除切片元素"></a>5. <strong>删除切片元素</strong></h3><ul><li><p>删除指定索引的元素：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">slice = <span class="built_in">append</span>(slice[:index], slice[index+<span class="number">1</span>:]...)</span><br><span class="line">slice := []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line">slice = <span class="built_in">append</span>(slice[:<span class="number">2</span>], slice[<span class="number">3</span>:]...) <span class="comment">// 删除索引2的元素</span></span><br><span class="line">fmt.Println(slice)  <span class="comment">// 输出: [1 2 4 5]</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="6-切片的反转"><a href="#6-切片的反转" class="headerlink" title="6. 切片的反转"></a>6. <strong>切片的反转</strong></h3><ul><li><p>反转切片元素：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(slice)/<span class="number">2</span>; i++ &#123;</span><br><span class="line">    slice[i], slice[<span class="built_in">len</span>(slice)<span class="number">-1</span>-i] = slice[<span class="built_in">len</span>(slice)<span class="number">-1</span>-i], slice[i]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="7-切片的查找"><a href="#7-切片的查找" class="headerlink" title="7. 切片的查找"></a>7. <strong>切片的查找</strong></h3><ul><li><p>查找指定元素：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">found := <span class="literal">false</span></span><br><span class="line"><span class="keyword">for</span> _, v := <span class="keyword">range</span> slice &#123;</span><br><span class="line">    <span class="keyword">if</span> v == target &#123;</span><br><span class="line">        found = <span class="literal">true</span></span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="8-切片的分块"><a href="#8-切片的分块" class="headerlink" title="8. 切片的分块"></a>8. <strong>切片的分块</strong></h3><ul><li><p>将切片分割成多个小块：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">chunk</span><span class="params">(slice []<span class="type">int</span>, size <span class="type">int</span>)</span></span> [][]<span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> chunks [][]<span class="type">int</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(slice); i += size &#123;</span><br><span class="line">        end := i + size</span><br><span class="line">        <span class="keyword">if</span> end &gt; <span class="built_in">len</span>(slice) &#123;</span><br><span class="line">            end = <span class="built_in">len</span>(slice)</span><br><span class="line">        &#125;</span><br><span class="line">        chunks = <span class="built_in">append</span>(chunks, slice[i:end])</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> chunks</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="9-切片排序"><a href="#9-切片排序" class="headerlink" title="9. 切片排序"></a>9. <strong>切片排序</strong></h3><ul><li><p>对切片进行排序：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&quot;sort&quot;</span></span><br><span class="line">sort.Ints(slice)  <span class="comment">// 对整数切片进行升序排序</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="10-删除重复元素"><a href="#10-删除重复元素" class="headerlink" title="10. 删除重复元素"></a>10. <strong>删除重复元素</strong></h3><ul><li><p>去除切片中的重复元素：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">removeDuplicates</span><span class="params">(slice []<span class="type">int</span>)</span></span> []<span class="type">int</span> &#123;</span><br><span class="line">    seen := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">int</span>]<span class="keyword">struct</span>&#123;&#125;)</span><br><span class="line">    result := []<span class="type">int</span>&#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> _, v := <span class="keyword">range</span> slice &#123;</span><br><span class="line">        <span class="keyword">if</span> _, ok := seen[v]; !ok &#123;</span><br><span class="line">            seen[v] = <span class="keyword">struct</span>&#123;&#125;&#123;&#125;</span><br><span class="line">            result = <span class="built_in">append</span>(result, v)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="11-copy-函数"><a href="#11-copy-函数" class="headerlink" title="11. copy 函数"></a>11. <strong><code>copy</code> 函数</strong></h3><ul><li><p>复制切片内容：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">copy</span>(dst, src) <span class="comment">// 将 src 的内容复制到 dst</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h3><p>Go 切片提供了高效且灵活的操作方式，以下是常见的切片操作总结：</p><ul><li><strong>创建</strong>：通过 <code>make</code> 或字面量创建。</li><li><strong>切割</strong>：使用切片操作符可以截取切片的部分。</li><li><strong>扩展</strong>：通过 <code>append</code> 函数动态扩展切片。</li><li><strong>删除</strong>：通过 <code>append</code> 删除切片中的元素。</li><li><strong>反转</strong>：通过交换元素实现反转。</li><li><strong>查找</strong>：通过遍历切片查找元素。</li><li><strong>分块</strong>：将切片分割成多个小块。</li><li><strong>排序</strong>：使用标准库中的 <code>sort</code> 对切片进行排序。</li><li><strong>去重</strong>：通过 <code>map</code> 去除切片中的重复元素。</li><li><strong>复制</strong>：使用 <code>copy</code> 将一个切片的内容复制到另一个切片中。</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    s := <span class="built_in">make</span>([]<span class="type">string</span>, <span class="number">3</span>)</span><br><span class="line">    fmt.Println(<span class="string">&quot;emp:&quot;</span>, s)</span><br><span class="line"></span><br><span class="line">    s[<span class="number">0</span>] = <span class="string">&quot;a&quot;</span></span><br><span class="line">    s[<span class="number">1</span>] = <span class="string">&quot;b&quot;</span></span><br><span class="line">    s[<span class="number">2</span>] = <span class="string">&quot;c&quot;</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;set:&quot;</span>, s)</span><br><span class="line">    fmt.Println(<span class="string">&quot;get:&quot;</span>, s[<span class="number">2</span>])</span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;len:&quot;</span>, <span class="built_in">len</span>(s))</span><br><span class="line"></span><br><span class="line">    s = <span class="built_in">append</span>(s, <span class="string">&quot;d&quot;</span>)</span><br><span class="line">    s = <span class="built_in">append</span>(s, <span class="string">&quot;e&quot;</span>, <span class="string">&quot;f&quot;</span>)</span><br><span class="line">    fmt.Println(<span class="string">&quot;apd:&quot;</span>, s)</span><br><span class="line"></span><br><span class="line">    c := <span class="built_in">make</span>([]<span class="type">string</span>, <span class="built_in">len</span>(s))</span><br><span class="line">    <span class="built_in">copy</span>(c, s)</span><br><span class="line">    fmt.Println(<span class="string">&quot;cpy:&quot;</span>, c)</span><br><span class="line"></span><br><span class="line">    l := s[<span class="number">2</span>:<span class="number">5</span>]</span><br><span class="line">    fmt.Println(<span class="string">&quot;sl1:&quot;</span>, l)</span><br><span class="line"></span><br><span class="line">    l = s[:<span class="number">5</span>]</span><br><span class="line">    fmt.Println(<span class="string">&quot;sl2:&quot;</span>, l)</span><br><span class="line"></span><br><span class="line">    l = s[<span class="number">2</span>:]</span><br><span class="line">    fmt.Println(<span class="string">&quot;sl3:&quot;</span>, l)</span><br><span class="line"></span><br><span class="line">    t := []<span class="type">string</span>&#123;<span class="string">&quot;g&quot;</span>, <span class="string">&quot;h&quot;</span>, <span class="string">&quot;i&quot;</span>&#125;</span><br><span class="line">    fmt.Println(<span class="string">&quot;dcl:&quot;</span>, t)</span><br><span class="line"></span><br><span class="line">    twoD := <span class="built_in">make</span>([][]<span class="type">int</span>, <span class="number">3</span>)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">3</span>; i++ &#123;</span><br><span class="line">        innerLen := i + <span class="number">1</span></span><br><span class="line">        twoD[i] = <span class="built_in">make</span>([]<span class="type">int</span>, innerLen)</span><br><span class="line">        <span class="keyword">for</span> j := <span class="number">0</span>; j &lt; innerLen; j++ &#123;</span><br><span class="line">            twoD[i][j] = i + j</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(<span class="string">&quot;2d: &quot;</span>, twoD)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="keyword">go</span> run slices.<span class="keyword">go</span></span><br><span class="line">emp: [  ]</span><br><span class="line">set: [a b c]</span><br><span class="line">get: c</span><br><span class="line"><span class="built_in">len</span>: <span class="number">3</span></span><br><span class="line">apd: [a b c d e f]</span><br><span class="line">cpy: [a b c d e f]</span><br><span class="line">sl1: [c d e]</span><br><span class="line">sl2: [a b c d e]</span><br><span class="line">sl3: [c d e f]</span><br><span class="line">dcl: [g h i]</span><br><span class="line"><span class="number">2</span>d:  [[<span class="number">0</span>] [<span class="number">1</span> <span class="number">2</span>] [<span class="number">2</span> <span class="number">3</span> <span class="number">4</span>]]</span><br></pre></td></tr></table></figure><h2 id="map"><a href="#map" class="headerlink" title="map"></a>map</h2><p>在Go语言中，<code>map</code> 是一种内建的数据类型，用于存储键值对（key-value pairs）。它类似于其他语言中的哈希表或字典，能够快速地根据键查找对应的值。</p><h3 id="1-创建-map"><a href="#1-创建-map" class="headerlink" title="1. 创建 map"></a>1. 创建 <code>map</code></h3><p>Go语言中的 <code>map</code> 可以通过内建的 <code>make</code> 函数或者字面量（literal）来创建。</p><h4 id="使用-make-函数"><a href="#使用-make-函数" class="headerlink" title="使用 make 函数"></a>使用 <code>make</code> 函数</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">m := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>)</span><br></pre></td></tr></table></figure><p>上面的代码创建了一个空的 <code>map</code>，键为 <code>string</code> 类型，值为 <code>int</code> 类型。</p><h4 id="使用字面量（literal）创建"><a href="#使用字面量（literal）创建" class="headerlink" title="使用字面量（literal）创建"></a>使用字面量（literal）创建</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">m := <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>&#123;</span><br><span class="line">    <span class="string">&quot;apple&quot;</span>:  <span class="number">5</span>,</span><br><span class="line">    <span class="string">&quot;banana&quot;</span>: <span class="number">3</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>上面的代码创建了一个初始包含两个键值对的 <code>map</code>。</p><h3 id="2-向-map-中添加和更新元素"><a href="#2-向-map-中添加和更新元素" class="headerlink" title="2. 向 map 中添加和更新元素"></a>2. 向 <code>map</code> 中添加和更新元素</h3><p>你可以直接通过键来添加或更新值：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">m[<span class="string">&quot;apple&quot;</span>] = <span class="number">10</span>  <span class="comment">// 更新值</span></span><br><span class="line">m[<span class="string">&quot;orange&quot;</span>] = <span class="number">7</span>  <span class="comment">// 添加新元素</span></span><br></pre></td></tr></table></figure><h3 id="3-获取-map-中的值"><a href="#3-获取-map-中的值" class="headerlink" title="3. 获取 map 中的值"></a>3. 获取 <code>map</code> 中的值</h3><p>通过键来访问对应的值：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">value := m[<span class="string">&quot;apple&quot;</span>]</span><br><span class="line">fmt.Println(value)  <span class="comment">// 输出 10</span></span><br></pre></td></tr></table></figure><h3 id="4-删除-map-中的元素"><a href="#4-删除-map-中的元素" class="headerlink" title="4. 删除 map 中的元素"></a>4. 删除 <code>map</code> 中的元素</h3><p>使用 <code>delete</code> 函数来删除指定键的元素：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">delete</span>(m, <span class="string">&quot;banana&quot;</span>)  <span class="comment">// 删除键为&quot;banana&quot;的元素</span></span><br></pre></td></tr></table></figure><h3 id="5-检查键是否存在"><a href="#5-检查键是否存在" class="headerlink" title="5. 检查键是否存在"></a>5. 检查键是否存在</h3><p>通过多返回值的方式来判断键是否存在。如果键存在，第二个返回值为 <code>true</code>，否则为 <code>false</code>。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">value, ok := m[<span class="string">&quot;apple&quot;</span>]</span><br><span class="line"><span class="keyword">if</span> ok &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;Found:&quot;</span>, value)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;Not found&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-遍历-map"><a href="#6-遍历-map" class="headerlink" title="6. 遍历 map"></a>6. 遍历 <code>map</code></h3><p>使用 <code>for</code> 循环来遍历 <code>map</code> 的所有键值对：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> key, value := <span class="keyword">range</span> m &#123;</span><br><span class="line">    fmt.Println(key, value)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="7-map-的特性"><a href="#7-map-的特性" class="headerlink" title="7. map 的特性"></a>7. <code>map</code> 的特性</h3><ul><li><strong>无序性</strong>：<code>map</code> 中的元素是无序的，遍历时顺序是随机的。</li><li><strong>线程不安全</strong>：在多线程（goroutines）中并发修改同一个 <code>map</code> 时，Go 运行时会引发恐慌（panic）。如果需要并发访问 <code>map</code>，应使用 <code>sync.Mutex</code> 或者 <code>sync.RWMutex</code> 来加锁。</li></ul><h3 id="8-map-的容量"><a href="#8-map-的容量" class="headerlink" title="8. map 的容量"></a>8. <code>map</code> 的容量</h3><p>可以使用 <code>len()</code> 函数获取 <code>map</code> 中元素的数量：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fmt.Println(<span class="built_in">len</span>(m))  <span class="comment">// 输出 map 中的元素个数</span></span><br></pre></td></tr></table></figure><h3 id="9-空-map-和-nil-map"><a href="#9-空-map-和-nil-map" class="headerlink" title="9. 空 map 和 nil map"></a>9. 空 <code>map</code> 和 <code>nil</code>map</h3><ul><li>如果 <code>map</code> 没有被初始化（<code>nil</code>），则它的行为类似于空 <code>map</code>，但是尝试向 <code>nil</code> <code>map</code> 中添加或删除元素会引发运行时错误。</li><li>可以使用 <code>make</code> 函数初始化一个空 <code>map</code>。</li></ul><h4 id="示例代码："><a href="#示例代码：" class="headerlink" title="示例代码："></a>示例代码：</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// 创建一个 map</span></span><br><span class="line">    m := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 向 map 中添加元素</span></span><br><span class="line">    m[<span class="string">&quot;apple&quot;</span>] = <span class="number">5</span></span><br><span class="line">    m[<span class="string">&quot;banana&quot;</span>] = <span class="number">2</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 更新元素</span></span><br><span class="line">    m[<span class="string">&quot;apple&quot;</span>] = <span class="number">10</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取元素</span></span><br><span class="line">    <span class="keyword">if</span> value, ok := m[<span class="string">&quot;apple&quot;</span>]; ok &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;Apple:&quot;</span>, value)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 删除元素</span></span><br><span class="line">    <span class="built_in">delete</span>(m, <span class="string">&quot;banana&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 遍历 map</span></span><br><span class="line">    <span class="keyword">for</span> key, value := <span class="keyword">range</span> m &#123;</span><br><span class="line">        fmt.Println(key, value)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取 map 的长度</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;Length of map:&quot;</span>, <span class="built_in">len</span>(m))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    m := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>)</span><br><span class="line"></span><br><span class="line">    m[<span class="string">&quot;k1&quot;</span>] = <span class="number">7</span></span><br><span class="line">    m[<span class="string">&quot;k2&quot;</span>] = <span class="number">13</span></span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;map:&quot;</span>, m)</span><br><span class="line"></span><br><span class="line">    v1 := m[<span class="string">&quot;k1&quot;</span>]</span><br><span class="line">    fmt.Println(<span class="string">&quot;v1: &quot;</span>, v1)</span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;len:&quot;</span>, <span class="built_in">len</span>(m))</span><br><span class="line"></span><br><span class="line">    <span class="built_in">delete</span>(m, <span class="string">&quot;k2&quot;</span>)</span><br><span class="line">    fmt.Println(<span class="string">&quot;map:&quot;</span>, m)</span><br><span class="line"></span><br><span class="line">    _, prs := m[<span class="string">&quot;k2&quot;</span>]</span><br><span class="line">    fmt.Println(<span class="string">&quot;prs:&quot;</span>, prs)</span><br><span class="line"></span><br><span class="line">    n := <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>&#123;<span class="string">&quot;foo&quot;</span>: <span class="number">1</span>, <span class="string">&quot;bar&quot;</span>: <span class="number">2</span>&#125;</span><br><span class="line">    fmt.Println(<span class="string">&quot;map:&quot;</span>, n)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="keyword">go</span> run maps.<span class="keyword">go</span> </span><br><span class="line"><span class="keyword">map</span>: <span class="keyword">map</span>[k1:<span class="number">7</span> k2:<span class="number">13</span>]</span><br><span class="line">v1:  <span class="number">7</span></span><br><span class="line"><span class="built_in">len</span>: <span class="number">2</span></span><br><span class="line"><span class="keyword">map</span>: <span class="keyword">map</span>[k1:<span class="number">7</span>]</span><br><span class="line">prs: <span class="literal">false</span></span><br><span class="line"><span class="keyword">map</span>: <span class="keyword">map</span>[foo:<span class="number">1</span> bar:<span class="number">2</span>]</span><br></pre></td></tr></table></figure><h2 id="range"><a href="#range" class="headerlink" title="range"></a>range</h2><p>在Go语言中，<code>range</code> 是一个非常强大的关键字，用于遍历数组、切片、<code>map</code> 和通道等数据结构。通过 <code>range</code>，可以轻松遍历数据结构的元素，并同时获得索引（或键）和值。</p><h3 id="1-range-遍历数组和切片"><a href="#1-range-遍历数组和切片" class="headerlink" title="1. range 遍历数组和切片"></a>1. <code>range</code> 遍历数组和切片</h3><h4 id="数组-1"><a href="#数组-1" class="headerlink" title="数组"></a>数组</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">arr := [<span class="number">3</span>]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line"><span class="keyword">for</span> index, value := <span class="keyword">range</span> arr &#123;</span><br><span class="line">    fmt.Println(index, value)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在遍历数组时，<code>range</code> 返回两个值：</p><ul><li><code>index</code>：当前元素的索引。</li><li><code>value</code>：当前元素的值。</li></ul><h4 id="切片-1"><a href="#切片-1" class="headerlink" title="切片"></a>切片</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">slice := []<span class="type">string</span>&#123;<span class="string">&quot;apple&quot;</span>, <span class="string">&quot;banana&quot;</span>, <span class="string">&quot;cherry&quot;</span>&#125;</span><br><span class="line"><span class="keyword">for</span> index, value := <span class="keyword">range</span> slice &#123;</span><br><span class="line">    fmt.Println(index, value)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>对于切片，<code>range</code> 也返回两个值：</p><ul><li><code>index</code>：当前元素的索引。</li><li><code>value</code>：当前元素的值。</li></ul><h3 id="2-range-遍历-map"><a href="#2-range-遍历-map" class="headerlink" title="2. range 遍历 map"></a>2. <code>range</code> 遍历 <code>map</code></h3><p>在 <code>map</code> 中，<code>range</code> 返回的是键值对：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">m := <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>&#123;<span class="string">&quot;apple&quot;</span>: <span class="number">5</span>, <span class="string">&quot;banana&quot;</span>: <span class="number">3</span>&#125;</span><br><span class="line"><span class="keyword">for</span> key, value := <span class="keyword">range</span> m &#123;</span><br><span class="line">    fmt.Println(key, value)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>对于 <code>map</code>，<code>range</code> 返回两个值：</p><ul><li><code>key</code>：当前元素的键。</li><li><code>value</code>：当前元素的值。</li></ul><h4 id="注意事项："><a href="#注意事项：" class="headerlink" title="注意事项："></a>注意事项：</h4><ul><li><code>map</code> 的遍历顺序是无序的，每次遍历的顺序可能不同。</li></ul><h3 id="3-range-遍历字符串"><a href="#3-range-遍历字符串" class="headerlink" title="3. range 遍历字符串"></a>3. <code>range</code> 遍历字符串</h3><p><code>range</code> 也可以用于遍历字符串。它会逐个获取字符串中的 Unicode 字符，而不是按字节遍历：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">str := <span class="string">&quot;hello&quot;</span></span><br><span class="line"><span class="keyword">for</span> index, runeValue := <span class="keyword">range</span> str &#123;</span><br><span class="line">    fmt.Println(index, runeValue)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在遍历字符串时，<code>range</code> 返回两个值：</p><ul><li><code>index</code>：当前字符的索引。</li><li><code>runeValue</code>：当前字符的 Unicode 码点值（<code>rune</code> 类型）。</li></ul><h3 id="4-只获取值或索引"><a href="#4-只获取值或索引" class="headerlink" title="4. 只获取值或索引"></a>4. 只获取值或索引</h3><p>你可以通过 <code>_</code> 忽略 <code>range</code> 返回的某些值。</p><ul><li>只获取索引：</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> index := <span class="keyword">range</span> arr &#123;</span><br><span class="line">    fmt.Println(index)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>只获取值：</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> _, value := <span class="keyword">range</span> arr &#123;</span><br><span class="line">    fmt.Println(value)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-range-遍历通道（channel）"><a href="#5-range-遍历通道（channel）" class="headerlink" title="5. range 遍历通道（channel）"></a>5. <code>range</code> 遍历通道（channel）</h3><p><code>range</code> 也可以用来遍历通道（channel）中的元素。当通道关闭时，<code>range</code> 循环会停止。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ch := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>, <span class="number">3</span>)</span><br><span class="line">ch &lt;- <span class="number">1</span></span><br><span class="line">ch &lt;- <span class="number">2</span></span><br><span class="line">ch &lt;- <span class="number">3</span></span><br><span class="line"><span class="built_in">close</span>(ch)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> value := <span class="keyword">range</span> ch &#123;</span><br><span class="line">    fmt.Println(value)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>当通道关闭后，<code>range</code> 会自动遍历通道中的所有元素。</p><h3 id="6-示例：综合使用-range"><a href="#6-示例：综合使用-range" class="headerlink" title="6. 示例：综合使用 range"></a>6. 示例：综合使用 <code>range</code></h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// 遍历数组</span></span><br><span class="line">    arr := [<span class="number">3</span>]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line">    <span class="keyword">for</span> index, value := <span class="keyword">range</span> arr &#123;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;arr[%d] = %d\n&quot;</span>, index, value)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 遍历切片</span></span><br><span class="line">    slice := []<span class="type">string</span>&#123;<span class="string">&quot;apple&quot;</span>, <span class="string">&quot;banana&quot;</span>, <span class="string">&quot;cherry&quot;</span>&#125;</span><br><span class="line">    <span class="keyword">for</span> _, value := <span class="keyword">range</span> slice &#123;</span><br><span class="line">        fmt.Println(value)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 遍历map</span></span><br><span class="line">    m := <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>&#123;<span class="string">&quot;apple&quot;</span>: <span class="number">5</span>, <span class="string">&quot;banana&quot;</span>: <span class="number">3</span>&#125;</span><br><span class="line">    <span class="keyword">for</span> key, value := <span class="keyword">range</span> m &#123;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;%s has %d fruits\n&quot;</span>, key, value)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 遍历字符串</span></span><br><span class="line">    str := <span class="string">&quot;hello&quot;</span></span><br><span class="line">    <span class="keyword">for</span> index, runeValue := <span class="keyword">range</span> str &#123;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;Index: %d, Rune: %c\n&quot;</span>, index, runeValue)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="总结-2"><a href="#总结-2" class="headerlink" title="总结"></a>总结</h3><ul><li><code>range</code> 是 Go 语言中遍历数据结构的关键字，可以遍历数组、切片、<code>map</code>、通道等。</li><li>在遍历 <code>map</code> 时，<code>range</code> 返回的是键和值；遍历数组或切片时，返回的是索引和值。</li><li>可以使用 <code>_</code> 来忽略不需要的返回值（如只关注索引或只关注值）。</li><li><code>range</code> 在处理通道时会在通道关闭时停止。</li></ul><p><code>range</code> 是一个高效且灵活的工具，能够简化代码并提高可读性。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    nums := []<span class="type">int</span>&#123;<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;</span><br><span class="line">    sum := <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> _, num := <span class="keyword">range</span> nums &#123;</span><br><span class="line">        sum += num</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(<span class="string">&quot;sum:&quot;</span>, sum)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i, num := <span class="keyword">range</span> nums &#123;</span><br><span class="line">        <span class="keyword">if</span> num == <span class="number">3</span> &#123;</span><br><span class="line">            fmt.Println(<span class="string">&quot;index:&quot;</span>, i)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    kvs := <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span>&#123;<span class="string">&quot;a&quot;</span>: <span class="string">&quot;apple&quot;</span>, <span class="string">&quot;b&quot;</span>: <span class="string">&quot;banana&quot;</span>&#125;</span><br><span class="line">    <span class="keyword">for</span> k, v := <span class="keyword">range</span> kvs &#123;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;%s -&gt; %s\n&quot;</span>, k, v)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> k := <span class="keyword">range</span> kvs &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;key:&quot;</span>, k)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i, c := <span class="keyword">range</span> <span class="string">&quot;go&quot;</span> &#123;</span><br><span class="line">        fmt.Println(i, c)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="keyword">go</span> run <span class="keyword">range</span>.<span class="keyword">go</span></span><br><span class="line">sum: <span class="number">9</span></span><br><span class="line">index: <span class="number">1</span></span><br><span class="line">a -&gt; apple</span><br><span class="line">b -&gt; banana</span><br><span class="line">key: a</span><br><span class="line">key: b</span><br><span class="line"><span class="number">0</span> <span class="number">103</span></span><br><span class="line"><span class="number">1</span> <span class="number">111</span></span><br></pre></td></tr></table></figure><h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><p>在 Go 语言中，函数（function）是基本的代码结构之一，用于封装一组语句，并通过函数调用来执行这些语句。函数可以有输入参数、返回值，也可以没有参数或返回值。</p><h3 id="1-定义函数"><a href="#1-定义函数" class="headerlink" title="1. 定义函数"></a>1. 定义函数</h3><p>Go 语言使用 <code>func</code> 关键字来定义函数。</p><h4 id="基本函数定义"><a href="#基本函数定义" class="headerlink" title="基本函数定义"></a>基本函数定义</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">(a <span class="type">int</span>, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这个函数的定义包含了：</p><ul><li><code>func</code> 关键字，表示定义一个函数。</li><li><code>add</code>，函数的名称。</li><li><code>(a int, b int)</code>，是函数的参数列表，表示这个函数接收两个 <code>int</code> 类型的参数。</li><li><code>int</code>，是返回值的类型，表示该函数返回一个 <code>int</code> 类型的结果。</li></ul><h3 id="2-调用函数"><a href="#2-调用函数" class="headerlink" title="2. 调用函数"></a>2. 调用函数</h3><p>函数定义后，可以通过函数名调用它，并传递参数：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">result := add(<span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line">fmt.Println(result)  <span class="comment">// 输出 7</span></span><br></pre></td></tr></table></figure><h3 id="3-函数参数"><a href="#3-函数参数" class="headerlink" title="3. 函数参数"></a>3. 函数参数</h3><ul><li><strong>单一参数类型</strong>：可以在函数参数中使用相同类型的多个参数，简化代码。</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">(a, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><strong>可变参数</strong>：Go 支持传递可变数量的参数，使用 <code>...</code> 来表示可变参数。</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sum</span><span class="params">(numbers ...<span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    total := <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> _, number := <span class="keyword">range</span> numbers &#123;</span><br><span class="line">        total += number</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> total</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>调用：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fmt.Println(sum(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>))  <span class="comment">// 输出 10</span></span><br></pre></td></tr></table></figure><h3 id="4-返回值"><a href="#4-返回值" class="headerlink" title="4. 返回值"></a>4. 返回值</h3><p>Go 函数可以返回多个值：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">swap</span><span class="params">(a, b <span class="type">int</span>)</span></span> (<span class="type">int</span>, <span class="type">int</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> b, a</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>调用：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x, y := swap(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">fmt.Println(x, y)  <span class="comment">// 输出 2 1</span></span><br></pre></td></tr></table></figure><h3 id="5-命名返回值"><a href="#5-命名返回值" class="headerlink" title="5. 命名返回值"></a>5. 命名返回值</h3><p>Go 允许给返回值命名，返回值就像局部变量一样，可以在函数体内直接使用。这也简化了代码，使得不需要显式地使用 <code>return</code> 语句。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">(a, b <span class="type">int</span>)</span></span> (sum <span class="type">int</span>) &#123;</span><br><span class="line">    sum = a + b</span><br><span class="line">    <span class="keyword">return</span>  <span class="comment">// 使用命名返回值</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-函数作为值"><a href="#6-函数作为值" class="headerlink" title="6. 函数作为值"></a>6. 函数作为值</h3><p>Go 允许函数作为值传递。这意味着可以将函数赋值给变量或作为参数传递给其他函数。</p><h4 id="将函数赋值给变量"><a href="#将函数赋值给变量" class="headerlink" title="将函数赋值给变量"></a>将函数赋值给变量</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">multiply</span><span class="params">(a, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a * b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> f <span class="function"><span class="keyword">func</span><span class="params">(<span class="type">int</span>, <span class="type">int</span>)</span></span> <span class="type">int</span> = multiply</span><br><span class="line">fmt.Println(f(<span class="number">2</span>, <span class="number">3</span>))  <span class="comment">// 输出 6</span></span><br></pre></td></tr></table></figure><h4 id="函数作为参数"><a href="#函数作为参数" class="headerlink" title="函数作为参数"></a>函数作为参数</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">operate</span><span class="params">(a, b <span class="type">int</span>, op <span class="keyword">func</span>(<span class="type">int</span>, <span class="type">int</span>)</span></span> <span class="type">int</span>) <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> op(a, b)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fmt.Println(operate(<span class="number">2</span>, <span class="number">3</span>, multiply))  <span class="comment">// 输出 6</span></span><br></pre></td></tr></table></figure><h3 id="7-匿名函数"><a href="#7-匿名函数" class="headerlink" title="7. 匿名函数"></a>7. 匿名函数</h3><p>Go 支持匿名函数，即没有函数名的函数。匿名函数常常作为回调函数或临时使用。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;Hello from anonymous function!&quot;</span>)</span><br><span class="line">&#125;()</span><br></pre></td></tr></table></figure><h3 id="8-函数闭包"><a href="#8-函数闭包" class="headerlink" title="8. 函数闭包"></a>8. 函数闭包</h3><p>Go 支持闭包，闭包是一个函数，它可以“记住”并访问其外部作用域中的变量。即使外部函数返回，闭包仍然可以访问这些变量。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">outer</span><span class="params">()</span></span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    x := <span class="number">10</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> <span class="type">int</span> &#123;</span><br><span class="line">        x++</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">increment := outer()</span><br><span class="line">fmt.Println(increment())  <span class="comment">// 输出 11</span></span><br><span class="line">fmt.Println(increment())  <span class="comment">// 输出 12</span></span><br></pre></td></tr></table></figure><p>在上面的例子中，<code>increment</code> 是一个闭包，它记住了 <code>x</code> 的值，并且每次调用时都会更新并返回新的值。</p><h3 id="9-函数的递归调用"><a href="#9-函数的递归调用" class="headerlink" title="9. 函数的递归调用"></a>9. 函数的递归调用</h3><p>Go 支持函数的递归调用，即一个函数在其定义中调用自己。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">factorial</span><span class="params">(n <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> n * factorial(n<span class="number">-1</span>)</span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(factorial(<span class="number">5</span>))  <span class="comment">// 输出 120</span></span><br></pre></td></tr></table></figure><p>在这个例子中，<code>factorial</code> 函数调用自己来计算阶乘。</p><h3 id="10-多返回值函数"><a href="#10-多返回值函数" class="headerlink" title="10. 多返回值函数"></a>10. 多返回值函数</h3><p>Go 允许函数返回多个值，常用于处理错误处理等场景。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">divide</span><span class="params">(a, b <span class="type">int</span>)</span></span> (<span class="type">int</span>, <span class="type">error</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> b == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>, fmt.Errorf(<span class="string">&quot;division by zero&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> a / b, <span class="literal">nil</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">result, err := divide(<span class="number">10</span>, <span class="number">2</span>)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">    fmt.Println(err)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    fmt.Println(result)  <span class="comment">// 输出 5</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="总结-3"><a href="#总结-3" class="headerlink" title="总结"></a>总结</h3><ul><li>Go 语言中的函数是非常灵活的，可以定义单一返回值、多个返回值、可变参数和命名返回值等。</li><li>Go 支持将函数作为值传递，允许匿名函数和闭包等特性。</li><li>函数调用时，可以直接使用返回值，也可以通过传递函数作为参数来进行更高阶的编程。</li></ul><p>基础用法:</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">plus</span><span class="params">(a <span class="type">int</span>, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">plusPlus</span><span class="params">(a, b, c <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b + c</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    res := plus(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">    fmt.Println(<span class="string">&quot;1+2 =&quot;</span>, res)</span><br><span class="line"></span><br><span class="line">    res = plusPlus(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">    fmt.Println(<span class="string">&quot;1+2+3 =&quot;</span>, res)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">	</span><br><span class="line">$ <span class="keyword">go</span> run functions.<span class="keyword">go</span></span><br><span class="line"><span class="number">1</span>+<span class="number">2</span> = <span class="number">3</span></span><br><span class="line"><span class="number">1</span>+<span class="number">2</span>+<span class="number">3</span> = <span class="number">6</span></span><br></pre></td></tr></table></figure><p>多返回值:</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">vals</span><span class="params">()</span></span> (<span class="type">int</span>, <span class="type">int</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">3</span>, <span class="number">7</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    a, b := vals()</span><br><span class="line">    fmt.Println(a)</span><br><span class="line">    fmt.Println(b)</span><br><span class="line"></span><br><span class="line">    _, c := vals()</span><br><span class="line">    fmt.Println(c)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">	</span><br><span class="line">$ <span class="keyword">go</span> run multiple-<span class="keyword">return</span>-values.<span class="keyword">go</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">7</span></span><br><span class="line"><span class="number">7</span></span><br></pre></td></tr></table></figure><p>变参函数:</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sum</span><span class="params">(nums ...<span class="type">int</span>)</span></span> &#123;</span><br><span class="line">    fmt.Print(nums, <span class="string">&quot; &quot;</span>)</span><br><span class="line">    total := <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> _, num := <span class="keyword">range</span> nums &#123;</span><br><span class="line">        total += num</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(total)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    sum(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">    sum(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">    nums := []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;</span><br><span class="line">    sum(nums...)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="keyword">go</span> run variadic-functions.<span class="keyword">go</span> </span><br><span class="line">[<span class="number">1</span> <span class="number">2</span>] <span class="number">3</span></span><br><span class="line">[<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>] <span class="number">6</span></span><br><span class="line">[<span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span>] <span class="number">10</span></span><br></pre></td></tr></table></figure><p>闭包:</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">intSeq</span><span class="params">()</span></span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    i := <span class="number">0</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> <span class="type">int</span> &#123;</span><br><span class="line">        i++</span><br><span class="line">        <span class="keyword">return</span> i</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    nextInt := intSeq()</span><br><span class="line"></span><br><span class="line">    fmt.Println(nextInt())</span><br><span class="line">    fmt.Println(nextInt())</span><br><span class="line">    fmt.Println(nextInt())</span><br><span class="line"></span><br><span class="line">    newInts := intSeq()</span><br><span class="line">    fmt.Println(newInts())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="keyword">go</span> run closures.<span class="keyword">go</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure><p>递归:</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">fact</span><span class="params">(n <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> n * fact(n<span class="number">-1</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    fmt.Println(fact(<span class="number">7</span>))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> fib <span class="function"><span class="keyword">func</span><span class="params">(n <span class="type">int</span>)</span></span> <span class="type">int</span></span><br><span class="line"></span><br><span class="line">    fib = <span class="function"><span class="keyword">func</span><span class="params">(n <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> n &lt; <span class="number">2</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> n</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> fib(n<span class="number">-1</span>) + fib(n<span class="number">-2</span>)</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    fmt.Println(fib(<span class="number">7</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="keyword">go</span> run recursion.<span class="keyword">go</span> </span><br><span class="line"><span class="number">5040</span></span><br><span class="line"><span class="number">13</span></span><br></pre></td></tr></table></figure><h2 id="指针"><a href="#指针" class="headerlink" title="指针"></a>指针</h2><p>在 Go 语言中，指针是存储变量内存地址的类型，它允许程序间接访问变量的值。指针可以非常方便地用于修改函数外部的变量值，以及在内存中操作数据。Go 的指针与 C 语言类似，但它不允许进行指针算术运算，这让它更加安全。</p><h3 id="1-定义和声明指针"><a href="#1-定义和声明指针" class="headerlink" title="1. 定义和声明指针"></a>1. 定义和声明指针</h3><p>在 Go 中，指针的声明方式是使用 <code>*</code> 表示指向某个类型的指针，类型前加 <code>*</code> 表示该变量是该类型的指针。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ptr *<span class="type">int</span></span><br></pre></td></tr></table></figure><p>这意味着 <code>ptr</code> 是一个指向 <code>int</code> 类型的指针，但它当前没有指向任何具体的内存地址。</p><h3 id="2-获取变量的地址（取地址操作符-）"><a href="#2-获取变量的地址（取地址操作符-）" class="headerlink" title="2. 获取变量的地址（取地址操作符 &amp;）"></a>2. 获取变量的地址（取地址操作符 <code>&amp;</code>）</h3><p>要获取一个变量的内存地址，可以使用 <code>&amp;</code> 操作符，它会返回变量的地址。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x := <span class="number">10</span></span><br><span class="line">ptr := &amp;x  <span class="comment">// ptr 是 x 的指针</span></span><br><span class="line">fmt.Println(ptr)  <span class="comment">// 输出 x 的地址</span></span><br></pre></td></tr></table></figure><h3 id="3-解引用指针（取值操作符-）"><a href="#3-解引用指针（取值操作符-）" class="headerlink" title="3. 解引用指针（取值操作符 *）"></a>3. 解引用指针（取值操作符 <code>*</code>）</h3><p>通过指针访问它所指向的变量的值，使用 <code>*</code> 操作符。这个过程叫做“解引用”。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x := <span class="number">10</span></span><br><span class="line">ptr := &amp;x  <span class="comment">// 获取 x 的地址</span></span><br><span class="line">fmt.Println(*ptr)  <span class="comment">// 输出 10，解引用指针，得到 x 的值</span></span><br></pre></td></tr></table></figure><h3 id="4-指针与变量的关系"><a href="#4-指针与变量的关系" class="headerlink" title="4. 指针与变量的关系"></a>4. 指针与变量的关系</h3><ul><li><code>&amp;</code> 获取变量的地址。</li><li><code>*</code> 解引用指针，获取指针所指向的值。</li></ul><p>示例：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x := <span class="number">10</span></span><br><span class="line">ptr := &amp;x       <span class="comment">// 获取 x 的地址</span></span><br><span class="line">fmt.Println(ptr) <span class="comment">// 输出 x 的内存地址</span></span><br><span class="line">fmt.Println(*ptr) <span class="comment">// 输出 10，通过指针访问 x 的值</span></span><br></pre></td></tr></table></figure><h3 id="5-修改变量的值通过指针"><a href="#5-修改变量的值通过指针" class="headerlink" title="5. 修改变量的值通过指针"></a>5. 修改变量的值通过指针</h3><p>指针允许通过间接访问修改原变量的值。通过解引用指针可以修改它指向的变量。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x := <span class="number">10</span></span><br><span class="line">ptr := &amp;x</span><br><span class="line">*ptr = <span class="number">20</span>  <span class="comment">// 修改 x 的值，通过 ptr 指针</span></span><br><span class="line">fmt.Println(x)  <span class="comment">// 输出 20</span></span><br></pre></td></tr></table></figure><h3 id="6-指针作为函数参数"><a href="#6-指针作为函数参数" class="headerlink" title="6. 指针作为函数参数"></a>6. 指针作为函数参数</h3><p>在 Go 中，函数参数是值传递的。如果希望函数修改传入的变量，可以传递变量的指针。这通常用于避免复制大量数据的成本，或允许函数修改传入的参数。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">modifyValue</span><span class="params">(a *<span class="type">int</span>)</span></span> &#123;</span><br><span class="line">    *a = <span class="number">20</span>  <span class="comment">// 通过指针修改原始值</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">x := <span class="number">10</span></span><br><span class="line">modifyValue(&amp;x)  <span class="comment">// 传递 x 的指针</span></span><br><span class="line">fmt.Println(x)  <span class="comment">// 输出 20</span></span><br></pre></td></tr></table></figure><h3 id="7-指针类型与结构体"><a href="#7-指针类型与结构体" class="headerlink" title="7. 指针类型与结构体"></a>7. 指针类型与结构体</h3><p>结构体也可以使用指针，结构体指针常用于修改结构体的成员，避免复制结构体的副本。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Person <span class="keyword">struct</span> &#123;</span><br><span class="line">    Name <span class="type">string</span></span><br><span class="line">    Age  <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">updateAge</span><span class="params">(p *Person)</span></span> &#123;</span><br><span class="line">    p.Age = <span class="number">30</span>  <span class="comment">// 修改 Person 的 Age</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">p := &amp;Person&#123;Name: <span class="string">&quot;John&quot;</span>, Age: <span class="number">25</span>&#125;</span><br><span class="line">fmt.Println(p.Age)  <span class="comment">// 输出 25</span></span><br><span class="line">updateAge(p)</span><br><span class="line">fmt.Println(p.Age)  <span class="comment">// 输出 30</span></span><br></pre></td></tr></table></figure><h3 id="8-nil-指针"><a href="#8-nil-指针" class="headerlink" title="8. nil 指针"></a>8. <code>nil</code> 指针</h3><p>指针可以是 <code>nil</code>，即它不指向任何有效的内存地址。你可以检查指针是否为 <code>nil</code> 来避免解引用空指针。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ptr *<span class="type">int</span></span><br><span class="line"><span class="keyword">if</span> ptr == <span class="literal">nil</span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;ptr is nil&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="9-零值和指针"><a href="#9-零值和指针" class="headerlink" title="9. 零值和指针"></a>9. 零值和指针</h3><p>Go 中，指针的零值是 <code>nil</code>，表示它没有指向任何有效的内存地址。当一个指针没有显式初始化时，它的默认值就是 <code>nil</code>。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ptr *<span class="type">int</span>  <span class="comment">// ptr 默认为 nil</span></span><br><span class="line">fmt.Println(ptr)  <span class="comment">// 输出 nil</span></span><br></pre></td></tr></table></figure><h3 id="10-指针的应用"><a href="#10-指针的应用" class="headerlink" title="10. 指针的应用"></a>10. 指针的应用</h3><ul><li><strong>修改函数外部的变量值</strong>：通过指针参数来修改传入的变量。</li><li><strong>避免大数据的复制</strong>：对于大的数据结构（如数组或结构体），可以通过指针传递，避免复制整个数据结构。</li><li><strong>链表、树等数据结构</strong>：指针广泛应用于实现链表、二叉树等动态数据结构。</li></ul><h3 id="总结-4"><a href="#总结-4" class="headerlink" title="总结"></a>总结</h3><p>指针是 Go 语言中的一个重要特性，它让你能够间接操作内存，并通过引用传递修改变量的值。Go 语言中的指针有如下特点：</p><ul><li>不允许指针算术运算，避免了 C 语言中的很多潜在错误。</li><li>使用 <code>&amp;</code> 获取变量的地址，使用 <code>*</code> 解引用指针。</li><li>可以通过指针修改变量的值，传递指针给函数可以改变函数外的变量。</li></ul><p>指针在 Go 中的使用简单而强大，可以提高程序的效率并且节省内存空间。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">zeroval</span><span class="params">(ival <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">    ival = <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">zeroptr</span><span class="params">(iptr *<span class="type">int</span>)</span></span> &#123;</span><br><span class="line">    *iptr = <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    i := <span class="number">1</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;initial:&quot;</span>, i)</span><br><span class="line"></span><br><span class="line">    zeroval(i)</span><br><span class="line">    fmt.Println(<span class="string">&quot;zeroval:&quot;</span>, i)</span><br><span class="line"></span><br><span class="line">    zeroptr(&amp;i)</span><br><span class="line">    fmt.Println(<span class="string">&quot;zeroptr:&quot;</span>, i)</span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;pointer:&quot;</span>, &amp;i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="keyword">go</span> run pointers.<span class="keyword">go</span></span><br><span class="line">initial: <span class="number">1</span></span><br><span class="line">zeroval: <span class="number">1</span></span><br><span class="line">zeroptr: <span class="number">0</span></span><br><span class="line">pointer: <span class="number">0x42131100</span></span><br></pre></td></tr></table></figure><h2 id="字符串和rune类型"><a href="#字符串和rune类型" class="headerlink" title="字符串和rune类型"></a>字符串和rune类型</h2><h3 id="一、字符串（string）"><a href="#一、字符串（string）" class="headerlink" title="一、字符串（string）"></a><strong>一、字符串（string）</strong></h3><h4 id="1-字符串的定义"><a href="#1-字符串的定义" class="headerlink" title="1. 字符串的定义"></a><strong>1. 字符串的定义</strong></h4><ul><li><strong>不可变性</strong>：字符串是<strong>不可变的</strong>，即一旦创建后，无法直接修改其中的内容。任何修改操作都会生成一个新的字符串。</li><li><strong>底层结构</strong>：字符串底层是一个<strong>只读的字节序列（<code>[]byte</code>）</strong>。</li><li><strong>编码</strong>：通常用来存储 UTF-8 编码的数据，可以包含 ASCII 字符、汉字、特殊符号等。</li></ul><hr><h4 id="2-字符串的常见操作"><a href="#2-字符串的常见操作" class="headerlink" title="2. 字符串的常见操作"></a><strong>2. 字符串的常见操作</strong></h4><h5 id="声明与初始化"><a href="#声明与初始化" class="headerlink" title="声明与初始化"></a><strong>声明与初始化</strong></h5><ul><li>使用双引号声明普通字符串。</li><li>使用反引号声明原始字符串，保留原格式，包括换行和特殊字符。</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s1 := <span class="string">&quot;hello, world&quot;</span>         <span class="comment">// 普通字符串</span></span><br><span class="line">s2 := <span class="string">`hello, </span></span><br><span class="line"><span class="string">world with &quot;quotes&quot;`</span>        <span class="comment">// 原始字符串</span></span><br></pre></td></tr></table></figure><h5 id="获取字符串长度"><a href="#获取字符串长度" class="headerlink" title="获取字符串长度"></a><strong>获取字符串长度</strong></h5><ul><li>使用 <code>len()</code> 获取字符串长度，返回的是字节数而非字符数。</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s := <span class="string">&quot;你好&quot;</span></span><br><span class="line">fmt.Println(<span class="built_in">len</span>(s))  <span class="comment">// 输出：6，因为每个汉字占3个字节</span></span><br></pre></td></tr></table></figure><h5 id="索引访问字符串"><a href="#索引访问字符串" class="headerlink" title="索引访问字符串"></a><strong>索引访问字符串</strong></h5><ul><li>可以通过索引访问字符串中的字节：</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s := <span class="string">&quot;hello&quot;</span></span><br><span class="line">fmt.Println(s[<span class="number">0</span>])       <span class="comment">// 输出：104，&#x27;h&#x27; 的 ASCII 值</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;%c\n&quot;</span>, s[<span class="number">0</span>]) <span class="comment">// 输出：h</span></span><br></pre></td></tr></table></figure><ul><li><strong>注意</strong>：通过索引访问的是单个字节，而不是字符。</li></ul><h5 id="字符串拼接"><a href="#字符串拼接" class="headerlink" title="字符串拼接"></a><strong>字符串拼接</strong></h5><ul><li>使用 <code>+</code> 或 <code>fmt.Sprintf()</code> 拼接字符串。</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">s1 := <span class="string">&quot;hello&quot;</span></span><br><span class="line">s2 := <span class="string">&quot;world&quot;</span></span><br><span class="line">s3 := s1 + <span class="string">&quot;, &quot;</span> + s2 + <span class="string">&quot;!&quot;</span></span><br><span class="line">fmt.Println(s3)  <span class="comment">// 输出：hello, world!</span></span><br></pre></td></tr></table></figure><h5 id="切片操作"><a href="#切片操作" class="headerlink" title="切片操作"></a><strong>切片操作</strong></h5><ul><li>支持通过切片截取子字符串，但结果是字节切片，可能导致截断多字节字符。</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s := <span class="string">&quot;你好世界&quot;</span></span><br><span class="line">sub := s[:<span class="number">3</span>]  <span class="comment">// 截取前3个字节</span></span><br><span class="line">fmt.Println(sub)  <span class="comment">// 输出：乱码（截断了“你”）</span></span><br></pre></td></tr></table></figure><hr><h4 id="3-Go标准库中的字符串方法"><a href="#3-Go标准库中的字符串方法" class="headerlink" title="3. Go标准库中的字符串方法"></a><strong>3. Go标准库中的字符串方法</strong></h4><p>Go 提供了 <code>strings</code> 包来处理字符串，包括查找、替换、切分等操作。</p><h5 id="常用函数"><a href="#常用函数" class="headerlink" title="常用函数"></a><strong>常用函数</strong></h5><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&quot;strings&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 查找子串</span></span><br><span class="line">fmt.Println(strings.Contains(<span class="string">&quot;hello, world&quot;</span>, <span class="string">&quot;world&quot;</span>)) <span class="comment">// true</span></span><br><span class="line">fmt.Println(strings.Index(<span class="string">&quot;hello, world&quot;</span>, <span class="string">&quot;o&quot;</span>))        <span class="comment">// 4</span></span><br><span class="line">fmt.Println(strings.LastIndex(<span class="string">&quot;hello, world&quot;</span>, <span class="string">&quot;o&quot;</span>))    <span class="comment">// 8</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 切分与连接</span></span><br><span class="line">parts := strings.Split(<span class="string">&quot;a,b,c&quot;</span>, <span class="string">&quot;,&quot;</span>)    <span class="comment">// [a b c]</span></span><br><span class="line">joined := strings.Join(parts, <span class="string">&quot;-&quot;</span>)     <span class="comment">// a-b-c</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 替换</span></span><br><span class="line">replaced := strings.ReplaceAll(<span class="string">&quot;hello, hello&quot;</span>, <span class="string">&quot;hello&quot;</span>, <span class="string">&quot;hi&quot;</span>) <span class="comment">// hi, hi</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 大小写转换</span></span><br><span class="line">fmt.Println(strings.ToUpper(<span class="string">&quot;hello&quot;</span>)) <span class="comment">// HELLO</span></span><br><span class="line">fmt.Println(strings.ToLower(<span class="string">&quot;WORLD&quot;</span>)) <span class="comment">// world</span></span><br></pre></td></tr></table></figure><hr><h3 id="二、Rune"><a href="#二、Rune" class="headerlink" title="二、Rune"></a><strong>二、Rune</strong></h3><h4 id="1-Rune的定义"><a href="#1-Rune的定义" class="headerlink" title="1. Rune的定义"></a><strong>1. Rune的定义</strong></h4><ul><li><code>rune</code> 是 Go 的一个别名类型，等价于 <code>int32</code>，用于表示<strong>单个 Unicode 字符</strong>。</li><li>每个 <code>rune</code> 占用4个字节，能够表示所有 Unicode 代码点。</li></ul><hr><h4 id="2-Rune的用途"><a href="#2-Rune的用途" class="headerlink" title="2. Rune的用途"></a><strong>2. Rune的用途</strong></h4><ul><li>用于处理多字节字符（如汉字、emoji）或逐字符操作。</li><li>可以将字符串转换为 <code>[]rune</code>，以逐字符处理，而不是逐字节。</li></ul><hr><h4 id="3-Rune的常见操作"><a href="#3-Rune的常见操作" class="headerlink" title="3. Rune的常见操作"></a><strong>3. Rune的常见操作</strong></h4><h5 id="字符串与Rune的相互转换"><a href="#字符串与Rune的相互转换" class="headerlink" title="字符串与Rune的相互转换"></a><strong>字符串与Rune的相互转换</strong></h5><ul><li><p>将字符串转为 <code>[]rune</code>：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">runes := []<span class="type">rune</span>(<span class="string">&quot;你好世界&quot;</span>)</span><br><span class="line">fmt.Println(runes)  <span class="comment">// [20320 22909 19990 30028]</span></span><br></pre></td></tr></table></figure></li><li><p>将 <code>[]rune</code> 转为字符串：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s := <span class="type">string</span>([]<span class="type">rune</span>&#123;<span class="number">20320</span>, <span class="number">22909</span>, <span class="number">19990</span>, <span class="number">30028</span>&#125;)</span><br><span class="line">fmt.Println(s)  <span class="comment">// 你好世界</span></span><br></pre></td></tr></table></figure></li></ul><h5 id="逐字符处理"><a href="#逐字符处理" class="headerlink" title="逐字符处理"></a><strong>逐字符处理</strong></h5><ul><li><p>使用 <code>for</code>遍历 <code>[]rune</code> 可以逐字符操作：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">s := <span class="string">&quot;hello, 世界&quot;</span></span><br><span class="line"><span class="keyword">for</span> i, r := <span class="keyword">range</span> []<span class="type">rune</span>(s) &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;第%d个字符：%c (Unicode: %U)\n&quot;</span>, i, r, r)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h5 id="修改字符串"><a href="#修改字符串" class="headerlink" title="修改字符串"></a><strong>修改字符串</strong></h5><ul><li><p>字符串不可变，但可以通过 <code>[]rune</code>修改后重新构造：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">s := <span class="string">&quot;hello&quot;</span></span><br><span class="line">runes := []<span class="type">rune</span>(s)</span><br><span class="line">runes[<span class="number">0</span>] = <span class="string">&#x27;H&#x27;</span></span><br><span class="line">s = <span class="type">string</span>(runes)</span><br><span class="line">fmt.Println(s)  <span class="comment">// Hello</span></span><br></pre></td></tr></table></figure></li></ul><h5 id="统计字符数量"><a href="#统计字符数量" class="headerlink" title="统计字符数量"></a><strong>统计字符数量</strong></h5><ul><li><p>使用 <code>len()</code> 获取的是字节数。若要获取字符数，需要将字符串转换为 <code>[]rune</code>：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s := <span class="string">&quot;你好世界&quot;</span></span><br><span class="line">fmt.Println(<span class="built_in">len</span>(s))           <span class="comment">// 12（字节数）</span></span><br><span class="line">fmt.Println(<span class="built_in">len</span>([]<span class="type">rune</span>(s)))   <span class="comment">// 4（字符数）</span></span><br></pre></td></tr></table></figure></li></ul><hr><h3 id="三、字符串与Rune的关系"><a href="#三、字符串与Rune的关系" class="headerlink" title="三、字符串与Rune的关系"></a><strong>三、字符串与Rune的关系</strong></h3><table><thead><tr><th>特性</th><th><strong>字符串（string）</strong></th><th><strong>rune</strong></th></tr></thead><tbody><tr><td><strong>类型</strong></td><td>不可变的字节序列</td><td>表示单个 Unicode 代码点</td></tr><tr><td><strong>内存占用</strong></td><td>每个字符占用 1~4 字节（UTF-8 编码）</td><td>每个字符固定占用 4 字节（int32 类型）</td></tr><tr><td><strong>表示范围</strong></td><td>UTF-8 编码的字节序列</td><td>Unicode 字符</td></tr><tr><td><strong>适用场景</strong></td><td>用于存储和操作整段文本</td><td>用于逐字符处理，支持多字节字符</td></tr><tr><td><strong>索引操作</strong></td><td>索引访问的是字节</td><td>可以通过 <code>[]rune</code> 访问字符</td></tr></tbody></table><hr><h3 id="四、使用场景与注意事项"><a href="#四、使用场景与注意事项" class="headerlink" title="四、使用场景与注意事项"></a><strong>四、使用场景与注意事项</strong></h3><ol><li><strong>字符串处理</strong>：<ul><li>如果主要处理整段文本数据，使用 <code>string</code>。</li><li>避免直接索引多字节字符，否则可能导致错误。</li></ul></li><li><strong>多字节字符处理</strong>：<ul><li>如果需要逐字符操作，使用 <code>[]rune</code>。</li><li>转换为 <code>[]rune</code> 后，才能安全地进行字符级别的索引和修改。</li></ul></li><li><strong>性能权衡</strong>：<ul><li>操作 <code>string</code> 通常更高效，因为底层是只读的 <code>[]byte</code>。</li><li>使用 <code>[]rune</code> 需要额外的内存，适合复杂字符处理场景。</li></ul></li></ol><hr><h3 id="五、总结"><a href="#五、总结" class="headerlink" title="五、总结"></a><strong>五、总结</strong></h3><ul><li><strong>字符串（string）</strong>：主要用于存储和处理文本，适合完整的文本操作。支持丰富的库函数，如查找、替换、切分等。</li><li><strong>Rune</strong>：用来处理单个 Unicode 字符，尤其适合多字节字符和逐字符遍历操作。</li><li><strong>转换技巧</strong>：<code>[]rune</code> 和 <code>string</code> 的相互转换，是处理字符和文本的桥梁。</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;unicode/utf8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> s = <span class="string">&quot;สวัสดี&quot;</span></span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;Len:&quot;</span>, <span class="built_in">len</span>(s))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(s); i++ &#123;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;%x &quot;</span>, s[i])</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println()</span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;Rune count:&quot;</span>, utf8.RuneCountInString(s))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> idx, runeValue := <span class="keyword">range</span> s &#123;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;%#U starts at %d\n&quot;</span>, runeValue, idx)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;\nUsing DecodeRuneInString&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> i, w := <span class="number">0</span>, <span class="number">0</span>; i &lt; <span class="built_in">len</span>(s); i += w &#123;</span><br><span class="line">        runeValue, width := utf8.DecodeRuneInString(s[i:])</span><br><span class="line">        fmt.Printf(<span class="string">&quot;%#U starts at %d\n&quot;</span>, runeValue, i)</span><br><span class="line">        w = width</span><br><span class="line"></span><br><span class="line">        examineRune(runeValue)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">examineRune</span><span class="params">(r <span class="type">rune</span>)</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> r == <span class="string">&#x27;t&#x27;</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;found tee&quot;</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> r == <span class="string">&#x27;ส&#x27;</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;found so sua&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="keyword">go</span> run strings-and-runes.<span class="keyword">go</span></span><br><span class="line">Len: <span class="number">18</span></span><br><span class="line">e0 b8 aa e0 b8 a7 e0 b8 b1 e0 b8 aa e0 b8 <span class="number">94</span> e0 b8 b5</span><br><span class="line">Rune count: <span class="number">6</span></span><br><span class="line">U+<span class="number">0E2</span>A <span class="string">&#x27;ส&#x27;</span> starts at <span class="number">0</span></span><br><span class="line">U+<span class="number">0E27</span> <span class="string">&#x27;ว&#x27;</span> starts at <span class="number">3</span></span><br><span class="line">U+<span class="number">0E31</span> <span class="string">&#x27;ั&#x27;</span> starts at <span class="number">6</span></span><br><span class="line">U+<span class="number">0E2</span>A <span class="string">&#x27;ส&#x27;</span> starts at <span class="number">9</span></span><br><span class="line">U+<span class="number">0E14</span> <span class="string">&#x27;ด&#x27;</span> starts at <span class="number">12</span></span><br><span class="line">U+<span class="number">0E35</span> <span class="string">&#x27;ี&#x27;</span> starts at <span class="number">15</span></span><br><span class="line">Using DecodeRuneInString</span><br><span class="line">U+<span class="number">0E2</span>A <span class="string">&#x27;ส&#x27;</span> starts at <span class="number">0</span></span><br><span class="line">found so sua</span><br><span class="line">U+<span class="number">0E27</span> <span class="string">&#x27;ว&#x27;</span> starts at <span class="number">3</span></span><br><span class="line">U+<span class="number">0E31</span> <span class="string">&#x27;ั&#x27;</span> starts at <span class="number">6</span></span><br><span class="line">U+<span class="number">0E2</span>A <span class="string">&#x27;ส&#x27;</span> starts at <span class="number">9</span></span><br><span class="line">found so sua</span><br><span class="line">U+<span class="number">0E14</span> <span class="string">&#x27;ด&#x27;</span> starts at <span class="number">12</span></span><br><span class="line">U+<span class="number">0E35</span> <span class="string">&#x27;ี&#x27;</span> starts at <span class="number">15</span></span><br></pre></td></tr></table></figure><h2 id="结构体"><a href="#结构体" class="headerlink" title="结构体"></a>结构体</h2><h3 id="1-定义结构体"><a href="#1-定义结构体" class="headerlink" title="1. 定义结构体"></a><strong>1. 定义结构体</strong></h3><p>结构体使用 <code>type</code> 关键字定义，格式如下：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> StructName <span class="keyword">struct</span> &#123;</span><br><span class="line">    Field1 Type1</span><br><span class="line">    Field2 Type2</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="示例："><a href="#示例：" class="headerlink" title="示例："></a>示例：</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Person <span class="keyword">struct</span> &#123;</span><br><span class="line">    Name <span class="type">string</span></span><br><span class="line">    Age  <span class="type">int</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="2-创建结构体实例"><a href="#2-创建结构体实例" class="headerlink" title="2. 创建结构体实例"></a><strong>2. 创建结构体实例</strong></h3><p>创建结构体实例的方式有以下几种：</p><h4 id="2-1-使用结构体字面量"><a href="#2-1-使用结构体字面量" class="headerlink" title="2.1 使用结构体字面量"></a>2.1 使用结构体字面量</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">p := Person&#123;<span class="string">&quot;Alice&quot;</span>, <span class="number">30</span>&#125;</span><br><span class="line">fmt.Println(p)</span><br></pre></td></tr></table></figure><h4 id="2-2-使用字段名初始化（推荐）"><a href="#2-2-使用字段名初始化（推荐）" class="headerlink" title="2.2 使用字段名初始化（推荐）"></a>2.2 使用字段名初始化（推荐）</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">p := Person&#123;Name: <span class="string">&quot;Bob&quot;</span>, Age: <span class="number">25</span>&#125;</span><br><span class="line">fmt.Println(p)</span><br></pre></td></tr></table></figure><h4 id="2-3-创建空结构体并赋值"><a href="#2-3-创建空结构体并赋值" class="headerlink" title="2.3 创建空结构体并赋值"></a>2.3 创建空结构体并赋值</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p Person</span><br><span class="line">p.Name = <span class="string">&quot;Charlie&quot;</span></span><br><span class="line">p.Age = <span class="number">35</span></span><br><span class="line">fmt.Println(p)</span><br></pre></td></tr></table></figure><h4 id="2-4-使用-new-创建结构体指针"><a href="#2-4-使用-new-创建结构体指针" class="headerlink" title="2.4 使用 new 创建结构体指针"></a>2.4 使用 <code>new</code> 创建结构体指针</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">p := <span class="built_in">new</span>(Person)</span><br><span class="line">p.Name = <span class="string">&quot;Diana&quot;</span></span><br><span class="line">p.Age = <span class="number">40</span></span><br><span class="line">fmt.Println(*p)</span><br></pre></td></tr></table></figure><hr><h3 id="3-结构体的零值"><a href="#3-结构体的零值" class="headerlink" title="3. 结构体的零值"></a><strong>3. 结构体的零值</strong></h3><p>结构体的零值是其所有字段的零值，例如：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Example <span class="keyword">struct</span> &#123;</span><br><span class="line">    IntField    <span class="type">int</span></span><br><span class="line">    StringField <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> e Example</span><br><span class="line">fmt.Println(e) <span class="comment">// 输出：&#123;0 &quot;&quot;&#125;</span></span><br></pre></td></tr></table></figure><hr><h3 id="4-结构体字段的访问与修改"><a href="#4-结构体字段的访问与修改" class="headerlink" title="4. 结构体字段的访问与修改"></a><strong>4. 结构体字段的访问与修改</strong></h3><p>结构体字段可以通过点操作符（<code>.</code>）访问和修改：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">p := Person&#123;Name: <span class="string">&quot;Eve&quot;</span>, Age: <span class="number">28</span>&#125;</span><br><span class="line">fmt.Println(p.Name) <span class="comment">// 访问字段</span></span><br><span class="line">p.Age = <span class="number">29</span>          <span class="comment">// 修改字段</span></span><br><span class="line">fmt.Println(p.Age)</span><br></pre></td></tr></table></figure><hr><h3 id="5-结构体的比较"><a href="#5-结构体的比较" class="headerlink" title="5. 结构体的比较"></a><strong>5. 结构体的比较</strong></h3><p>两个结构体实例可以直接比较，但前提是它们的所有字段都支持比较操作。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">p1 := Person&#123;Name: <span class="string">&quot;Alice&quot;</span>, Age: <span class="number">30</span>&#125;</span><br><span class="line">p2 := Person&#123;Name: <span class="string">&quot;Alice&quot;</span>, Age: <span class="number">30</span>&#125;</span><br><span class="line">fmt.Println(p1 == p2) <span class="comment">// 输出：true</span></span><br></pre></td></tr></table></figure><hr><h3 id="6-匿名字段"><a href="#6-匿名字段" class="headerlink" title="6. 匿名字段"></a><strong>6. 匿名字段</strong></h3><p>结构体支持匿名字段（嵌套结构体），可以通过类型名直接使用：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Address <span class="keyword">struct</span> &#123;</span><br><span class="line">    City, State <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> User <span class="keyword">struct</span> &#123;</span><br><span class="line">    Name    <span class="type">string</span></span><br><span class="line">    Age     <span class="type">int</span></span><br><span class="line">    Address <span class="comment">// 匿名字段</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">u := User&#123;Name: <span class="string">&quot;Frank&quot;</span>, Age: <span class="number">32</span>, Address: Address&#123;City: <span class="string">&quot;New York&quot;</span>, State: <span class="string">&quot;NY&quot;</span>&#125;&#125;</span><br><span class="line">fmt.Println(u.City) <span class="comment">// 直接访问匿名字段的成员</span></span><br></pre></td></tr></table></figure><hr><h3 id="7-结构体的方法"><a href="#7-结构体的方法" class="headerlink" title="7. 结构体的方法"></a><strong>7. 结构体的方法</strong></h3><p>Go 中的方法是绑定到特定类型（包括结构体）的函数。</p><h4 id="7-1-定义方法"><a href="#7-1-定义方法" class="headerlink" title="7.1 定义方法"></a>7.1 定义方法</h4><p>方法定义时，必须有一个接收者（receiver）。接收者可以是值类型或指针类型。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p Person)</span></span> SayHello() &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;Hello, my name is %s\n&quot;</span>, p.Name)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="7-2-调用方法"><a href="#7-2-调用方法" class="headerlink" title="7.2 调用方法"></a>7.2 调用方法</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">p := Person&#123;Name: <span class="string">&quot;Grace&quot;</span>, Age: <span class="number">24</span>&#125;</span><br><span class="line">p.SayHello() <span class="comment">// 调用方法</span></span><br></pre></td></tr></table></figure><h4 id="7-3-值接收者-vs-指针接收者"><a href="#7-3-值接收者-vs-指针接收者" class="headerlink" title="7.3 值接收者 vs 指针接收者"></a>7.3 值接收者 vs 指针接收者</h4><ul><li><strong>值接收者</strong>：方法操作的是结构体的副本，不会修改原始数据。</li><li><strong>指针接收者</strong>：方法操作的是结构体的指针，可以修改原始数据。</li></ul><h5 id="示例：-1"><a href="#示例：-1" class="headerlink" title="示例："></a>示例：</h5><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p Person)</span></span> ChangeName(newName <span class="type">string</span>) &#123;</span><br><span class="line">    p.Name = newName <span class="comment">// 只修改副本，不影响原始数据</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p *Person)</span></span> UpdateName(newName <span class="type">string</span>) &#123;</span><br><span class="line">    p.Name = newName <span class="comment">// 修改原始数据</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">p := Person&#123;Name: <span class="string">&quot;Hank&quot;</span>, Age: <span class="number">26</span>&#125;</span><br><span class="line">p.ChangeName(<span class="string">&quot;Ivan&quot;</span>)</span><br><span class="line">fmt.Println(p.Name) <span class="comment">// 输出：Hank</span></span><br><span class="line"></span><br><span class="line">p.UpdateName(<span class="string">&quot;Jack&quot;</span>)</span><br><span class="line">fmt.Println(p.Name) <span class="comment">// 输出：Jack</span></span><br></pre></td></tr></table></figure><hr><h3 id="8-嵌套结构体"><a href="#8-嵌套结构体" class="headerlink" title="8. 嵌套结构体"></a><strong>8. 嵌套结构体</strong></h3><p>结构体可以嵌套另一个结构体以实现更复杂的数据结构：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Company <span class="keyword">struct</span> &#123;</span><br><span class="line">    Name    <span class="type">string</span></span><br><span class="line">    Address Address</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">c := Company&#123;Name: <span class="string">&quot;Tech Corp&quot;</span>, Address: Address&#123;City: <span class="string">&quot;San Francisco&quot;</span>, State: <span class="string">&quot;CA&quot;</span>&#125;&#125;</span><br><span class="line">fmt.Println(c.Address.City)</span><br></pre></td></tr></table></figure><hr><h3 id="9-JSON-与结构体"><a href="#9-JSON-与结构体" class="headerlink" title="9. JSON 与结构体"></a><strong>9. JSON 与结构体</strong></h3><p>结构体可以与 JSON 数据相互转换，需使用 <code>encoding/json</code> 包。</p><h4 id="9-1-转换为-JSON"><a href="#9-1-转换为-JSON" class="headerlink" title="9.1 转换为 JSON"></a>9.1 转换为 JSON</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&quot;encoding/json&quot;</span></span><br><span class="line"></span><br><span class="line">p := Person&#123;Name: <span class="string">&quot;Lily&quot;</span>, Age: <span class="number">22</span>&#125;</span><br><span class="line">jsonData, _ := json.Marshal(p)</span><br><span class="line">fmt.Println(<span class="type">string</span>(jsonData))</span><br></pre></td></tr></table></figure><h4 id="9-2-从-JSON-转换为结构体"><a href="#9-2-从-JSON-转换为结构体" class="headerlink" title="9.2 从 JSON 转换为结构体"></a>9.2 从 JSON 转换为结构体</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">jsonStr := <span class="string">`&#123;&quot;Name&quot;: &quot;Mike&quot;, &quot;Age&quot;: 29&#125;`</span></span><br><span class="line"><span class="keyword">var</span> p Person</span><br><span class="line">_ = json.Unmarshal([]<span class="type">byte</span>(jsonStr), &amp;p)</span><br><span class="line">fmt.Println(p)</span><br></pre></td></tr></table></figure><h4 id="9-3-使用标签自定义-JSON-字段"><a href="#9-3-使用标签自定义-JSON-字段" class="headerlink" title="9.3 使用标签自定义 JSON 字段"></a>9.3 使用标签自定义 JSON 字段</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Person <span class="keyword">struct</span> &#123;</span><br><span class="line">    Name <span class="type">string</span> <span class="string">`json:&quot;name&quot;`</span></span><br><span class="line">    Age  <span class="type">int</span>    <span class="string">`json:&quot;age&quot;`</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="10-结构体的内存布局"><a href="#10-结构体的内存布局" class="headerlink" title="10. 结构体的内存布局"></a><strong>10. 结构体的内存布局</strong></h3><p>结构体的内存分配是连续的，字段的顺序会影响内存对齐和大小。</p><h4 id="优化内存对齐"><a href="#优化内存对齐" class="headerlink" title="优化内存对齐"></a>优化内存对齐</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Optimized <span class="keyword">struct</span> &#123;</span><br><span class="line">    A <span class="type">int64</span></span><br><span class="line">    B <span class="type">int32</span></span><br><span class="line">    C <span class="type">int16</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> NonOptimized <span class="keyword">struct</span> &#123;</span><br><span class="line">    B <span class="type">int32</span></span><br><span class="line">    C <span class="type">int16</span></span><br><span class="line">    A <span class="type">int64</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>Optimized</code> 的字段顺序可以减少内存填充，提高内存使用效率。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> person <span class="keyword">struct</span> &#123;</span><br><span class="line">    name <span class="type">string</span></span><br><span class="line">    age  <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">newPerson</span><span class="params">(name <span class="type">string</span>)</span></span> *person &#123;</span><br><span class="line"></span><br><span class="line">    p := person&#123;name: name&#125;</span><br><span class="line">    p.age = <span class="number">42</span></span><br><span class="line">    <span class="keyword">return</span> &amp;p</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    fmt.Println(person&#123;<span class="string">&quot;Bob&quot;</span>, <span class="number">20</span>&#125;)</span><br><span class="line"></span><br><span class="line">    fmt.Println(person&#123;name: <span class="string">&quot;Alice&quot;</span>, age: <span class="number">30</span>&#125;)</span><br><span class="line"></span><br><span class="line">    fmt.Println(person&#123;name: <span class="string">&quot;Fred&quot;</span>&#125;)</span><br><span class="line"></span><br><span class="line">    fmt.Println(&amp;person&#123;name: <span class="string">&quot;Ann&quot;</span>, age: <span class="number">40</span>&#125;)</span><br><span class="line"></span><br><span class="line">    fmt.Println(newPerson(<span class="string">&quot;Jon&quot;</span>))</span><br><span class="line"></span><br><span class="line">    s := person&#123;name: <span class="string">&quot;Sean&quot;</span>, age: <span class="number">50</span>&#125;</span><br><span class="line">    fmt.Println(s.name)</span><br><span class="line"></span><br><span class="line">    sp := &amp;s</span><br><span class="line">    fmt.Println(sp.age)</span><br><span class="line"></span><br><span class="line">    sp.age = <span class="number">51</span></span><br><span class="line">    fmt.Println(sp.age)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="keyword">go</span> run structs.<span class="keyword">go</span></span><br><span class="line">&#123;Bob <span class="number">20</span>&#125;</span><br><span class="line">&#123;Alice <span class="number">30</span>&#125;</span><br><span class="line">&#123;Fred <span class="number">0</span>&#125;</span><br><span class="line">&amp;&#123;Ann <span class="number">40</span>&#125;</span><br><span class="line">&amp;&#123;Jon <span class="number">42</span>&#125;</span><br><span class="line">Sean</span><br><span class="line"><span class="number">50</span></span><br><span class="line"><span class="number">51</span></span><br></pre></td></tr></table></figure><h2 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h2><p>在Go语言中，结构体（<code>struct</code>）是一种用户定义的数据类型，它由一组字段（<code>fields</code>）组成，字段可以是不同类型的数据。结构体的方法（<code>methods</code>）是与结构体相关的函数，它们能够操作结构体中的数据。</p><h3 id="1-定义结构体-1"><a href="#1-定义结构体-1" class="headerlink" title="1. 定义结构体"></a>1. 定义结构体</h3><p>首先，我们需要定义一个结构体。结构体的定义使用关键字 <code>type</code> 来创建，格式如下：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> StructName <span class="keyword">struct</span> &#123;</span><br><span class="line">    Field1 Type1</span><br><span class="line">    Field2 Type2</span><br><span class="line">    <span class="comment">// ... 更多字段</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-结构体的方法"><a href="#2-结构体的方法" class="headerlink" title="2. 结构体的方法"></a>2. 结构体的方法</h3><p>结构体方法是与结构体类型相关联的函数。Go 语言通过“方法接收器”（<code>method receiver</code>）来将方法与结构体关联。方法接收器可以是结构体类型的指针或值。</p><h4 id="方法接收器"><a href="#方法接收器" class="headerlink" title="方法接收器"></a>方法接收器</h4><ul><li><strong>值接收器</strong>：方法接收器是结构体的值拷贝。</li><li><strong>指针接收器</strong>：方法接收器是结构体的指针，可以修改结构体的内容。</li></ul><h3 id="3-定义结构体的方法"><a href="#3-定义结构体的方法" class="headerlink" title="3. 定义结构体的方法"></a>3. 定义结构体的方法</h3><h4 id="3-1-使用值接收器"><a href="#3-1-使用值接收器" class="headerlink" title="3.1 使用值接收器"></a>3.1 使用值接收器</h4><p>值接收器的好处是可以避免修改原始结构体，适合那些不需要修改数据的方法。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义结构体</span></span><br><span class="line"><span class="keyword">type</span> Person <span class="keyword">struct</span> &#123;</span><br><span class="line">    Name <span class="type">string</span></span><br><span class="line">    Age  <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义一个方法，使用值接收器</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p Person)</span></span> Greet() &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;Hello, my name is&quot;</span>, p.Name)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    p := Person&#123;Name: <span class="string">&quot;Alice&quot;</span>, Age: <span class="number">30</span>&#125;</span><br><span class="line">    p.Greet() <span class="comment">// 调用结构体方法</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-2-使用指针接收器"><a href="#3-2-使用指针接收器" class="headerlink" title="3.2 使用指针接收器"></a>3.2 使用指针接收器</h4><p>指针接收器的好处是可以直接修改结构体的内容，适合需要修改结构体数据的方法。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义结构体</span></span><br><span class="line"><span class="keyword">type</span> Person <span class="keyword">struct</span> &#123;</span><br><span class="line">    Name <span class="type">string</span></span><br><span class="line">    Age  <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义一个方法，使用指针接收器</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p *Person)</span></span> CelebrateBirthday() &#123;</span><br><span class="line">    p.Age++  <span class="comment">// 修改结构体的字段</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;Happy Birthday, I am now&quot;</span>, p.Age, <span class="string">&quot;years old!&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    p := Person&#123;Name: <span class="string">&quot;Alice&quot;</span>, Age: <span class="number">30</span>&#125;</span><br><span class="line">    p.CelebrateBirthday() <span class="comment">// 调用结构体方法</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;I am now&quot;</span>, p.Age, <span class="string">&quot;years old.&quot;</span>) <span class="comment">// 修改后的值</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-值接收器与指针接收器的区别"><a href="#4-值接收器与指针接收器的区别" class="headerlink" title="4. 值接收器与指针接收器的区别"></a>4. 值接收器与指针接收器的区别</h3><ul><li><p>值接收器</p><p>：方法会接收结构体的副本，修改副本不会影响原始结构体。</p><ul><li>适用于方法不需要修改结构体字段的情况。</li><li>如果结构体较小，传递副本开销不大。</li></ul></li><li><p>指针接收器</p><p>：方法会接收结构体的指针，方法内部修改会影响到原始结构体。</p><ul><li>适用于方法需要修改结构体字段的情况。</li><li>如果结构体较大，使用指针可以避免拷贝开销。</li></ul></li></ul><h3 id="5-示例：结构体和方法结合的复杂应用"><a href="#5-示例：结构体和方法结合的复杂应用" class="headerlink" title="5. 示例：结构体和方法结合的复杂应用"></a>5. 示例：结构体和方法结合的复杂应用</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义一个结构体</span></span><br><span class="line"><span class="keyword">type</span> Rectangle <span class="keyword">struct</span> &#123;</span><br><span class="line">    Width, Height <span class="type">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用值接收器计算矩形的面积</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(r Rectangle)</span></span> Area() <span class="type">float64</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> r.Width * r.Height</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用指针接收器改变矩形的大小</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(r *Rectangle)</span></span> Scale(factor <span class="type">float64</span>) &#123;</span><br><span class="line">    r.Width *= factor</span><br><span class="line">    r.Height *= factor</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    rect := Rectangle&#123;Width: <span class="number">3</span>, Height: <span class="number">4</span>&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 调用值接收器方法，计算面积</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;Area of rectangle:&quot;</span>, rect.Area()) <span class="comment">// 输出: Area of rectangle: 12</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 调用指针接收器方法，改变矩形大小</span></span><br><span class="line">    rect.Scale(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 输出更新后的矩形</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;New dimensions:&quot;</span>, rect.Width, <span class="string">&quot;x&quot;</span>, rect.Height) <span class="comment">// 输出: New dimensions: 6 x 8</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-方法重载与接口"><a href="#6-方法重载与接口" class="headerlink" title="6. 方法重载与接口"></a>6. 方法重载与接口</h3><p>Go语言不像C++或Java那样支持方法重载（即相同名字的多个方法），但可以通过接口来实现类似的效果。通过定义接口类型，可以让不同类型（即使它们有相同的方法签名）在同一方法中调用。</p><h3 id="7-总结"><a href="#7-总结" class="headerlink" title="7. 总结"></a>7. 总结</h3><ul><li>在Go语言中，结构体的方法可以通过值接收器和指针接收器来定义。</li><li>值接收器不会修改结构体本身，而指针接收器可以修改结构体。</li><li>通常推荐使用指针接收器，特别是在方法可能会修改结构体时，或者结构体较大时，以避免不必要的拷贝。</li></ul><h2 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h2><p>Go 语言中的接口是一个非常重要的概念，它定义了一组方法的集合，但是并不包含方法的具体实现。接口类型非常灵活，Go 语言的接口使用起来比许多其他编程语言中的接口要简单和直观。下面详细讲解一下 Go 语言接口的各个方面。</p><h3 id="1-接口定义"><a href="#1-接口定义" class="headerlink" title="1. 接口定义"></a>1. <strong>接口定义</strong></h3><p>Go 语言的接口是通过 <code>interface</code> 关键字来定义的。接口可以包含多个方法，但接口本身并不实现这些方法。接口的定义只是声明了“哪些方法应该被实现”，但没有提供具体的实现细节。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义一个接口</span></span><br><span class="line"><span class="keyword">type</span> Speaker <span class="keyword">interface</span> &#123;</span><br><span class="line">    Speak() <span class="comment">// 接口方法</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Person <span class="keyword">struct</span> &#123;</span><br><span class="line">    Name <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Person 类型实现了 Speak 方法</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p Person)</span></span> Speak() &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;Hello, my name is&quot;</span>, p.Name)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> s Speaker</span><br><span class="line">    p := Person&#123;Name: <span class="string">&quot;John&quot;</span>&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// s 被赋值为 Person 类型的实例，Person 实现了 Speak 方法</span></span><br><span class="line">    s = p</span><br><span class="line">    </span><br><span class="line">    s.Speak() <span class="comment">// 调用接口方法</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在这个例子中：</p><ul><li><code>Speaker</code> 是一个接口，包含一个 <code>Speak()</code> 方法。</li><li><code>Person</code> 类型实现了 <code>Speak()</code> 方法，所以 <code>Person</code> 就实现了 <code>Speaker</code> 接口。</li></ul><h3 id="2-隐式实现"><a href="#2-隐式实现" class="headerlink" title="2. 隐式实现"></a>2. <strong>隐式实现</strong></h3><p>Go 的接口与其他语言不同，不需要显式地声明某个类型实现了某个接口。只要某个类型实现了接口中的所有方法，这个类型就自动实现了这个接口。也就是说，你不需要写类似于 <code>type Person implements Speaker</code> 这样的代码。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Dog <span class="keyword">struct</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(d Dog)</span></span> Speak() &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;Woof!&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> s Speaker</span><br><span class="line">    d := Dog&#123;&#125;</span><br><span class="line">    s = d <span class="comment">// Dog 类型也隐式实现了 Speaker 接口</span></span><br><span class="line">    s.Speak()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这里，<code>Dog</code> 类型同样实现了 <code>Speak()</code> 方法，所以它也隐式地实现了 <code>Speaker</code> 接口。</p><h3 id="3-空接口-interface"><a href="#3-空接口-interface" class="headerlink" title="3. 空接口 (interface{})"></a>3. <strong>空接口 (<code>interface&#123;&#125;</code>)</strong></h3><p>空接口是 Go 中非常特殊的接口类型。空接口没有任何方法，因此所有的类型都实现了空接口。空接口可以用来表示任何类型的数据。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Print</span><span class="params">(v <span class="keyword">interface</span>&#123;&#125;)</span></span> &#123;</span><br><span class="line">    fmt.Println(v)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    Print(<span class="number">42</span>)         <span class="comment">// 打印 int</span></span><br><span class="line">    Print(<span class="string">&quot;Hello&quot;</span>)    <span class="comment">// 打印 string</span></span><br><span class="line">    Print([]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;) <span class="comment">// 打印切片</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-接口的类型断言"><a href="#4-接口的类型断言" class="headerlink" title="4. 接口的类型断言"></a>4. <strong>接口的类型断言</strong></h3><p>Go 语言提供了类型断言功能，用于从接口类型转换回具体的类型。类型断言可以检查接口的实际类型，并根据检查结果进行相应的处理。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Describe</span><span class="params">(i <span class="keyword">interface</span>&#123;&#125;)</span></span> &#123;</span><br><span class="line">    <span class="keyword">switch</span> v := i.(<span class="keyword">type</span>) &#123; <span class="comment">// 类型断言</span></span><br><span class="line">    <span class="keyword">case</span> <span class="type">int</span>:</span><br><span class="line">        fmt.Println(<span class="string">&quot;It&#x27;s an int:&quot;</span>, v)</span><br><span class="line">    <span class="keyword">case</span> <span class="type">string</span>:</span><br><span class="line">        fmt.Println(<span class="string">&quot;It&#x27;s a string:&quot;</span>, v)</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        fmt.Println(<span class="string">&quot;Unknown type&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    Describe(<span class="number">42</span>)        <span class="comment">// It&#x27;s an int: 42</span></span><br><span class="line">    Describe(<span class="string">&quot;hello&quot;</span>)   <span class="comment">// It&#x27;s a string: hello</span></span><br><span class="line">    Describe(<span class="number">3.14</span>)      <span class="comment">// Unknown type</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在上面的例子中，我们使用了 <code>i.(type)</code> 来检查接口 <code>i</code> 的实际类型。<code>switch</code> 语句允许我们根据不同的类型执行不同的代码。</p><h3 id="5-接口的值"><a href="#5-接口的值" class="headerlink" title="5. 接口的值"></a>5. <strong>接口的值</strong></h3><p>接口类型的变量实际上包含了两个信息：</p><ul><li>一个指向具体数据的指针</li><li>一个指向该数据实现方法的表（即方法集）</li></ul><p>如果你给接口赋值一个具体的类型实例，那么接口变量就包含了该类型实例的值和该类型的方法集。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Animal <span class="keyword">interface</span> &#123;</span><br><span class="line">    Speak() <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Dog <span class="keyword">struct</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(d Dog)</span></span> Speak() <span class="type">string</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Woof&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Cat <span class="keyword">struct</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(c Cat)</span></span> Speak() <span class="type">string</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Meow&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> animal Animal</span><br><span class="line">    </span><br><span class="line">    animal = Dog&#123;&#125;</span><br><span class="line">    fmt.Println(animal.Speak()) <span class="comment">// 输出 Woof</span></span><br><span class="line">    </span><br><span class="line">    animal = Cat&#123;&#125;</span><br><span class="line">    fmt.Println(animal.Speak()) <span class="comment">// 输出 Meow</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-空接口与反射"><a href="#6-空接口与反射" class="headerlink" title="6. 空接口与反射"></a>6. <strong>空接口与反射</strong></h3><p>空接口 <code>interface&#123;&#125;</code> 通常用于接受任何类型的值，结合反射包 <code>reflect</code>，可以对空接口中的值进行进一步的操作和检查。反射可以用来动态地获取类型信息并执行操作。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;reflect&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> x <span class="keyword">interface</span>&#123;&#125;</span><br><span class="line">    x = <span class="number">42</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 使用反射获取类型信息</span></span><br><span class="line">    t := reflect.TypeOf(x)</span><br><span class="line">    fmt.Println(<span class="string">&quot;Type:&quot;</span>, t) <span class="comment">// Type: int</span></span><br><span class="line">    </span><br><span class="line">    v := reflect.ValueOf(x)</span><br><span class="line">    fmt.Println(<span class="string">&quot;Value:&quot;</span>, v) <span class="comment">// Value: 42</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="7-接口的组合"><a href="#7-接口的组合" class="headerlink" title="7. 接口的组合"></a>7. <strong>接口的组合</strong></h3><p>Go 语言中的接口可以通过组合其他接口来创建更复杂的接口。你可以将多个接口的集合组合在一起，形成一个新的接口。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Animal <span class="keyword">interface</span> &#123;</span><br><span class="line">    Speak() <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Walker <span class="keyword">interface</span> &#123;</span><br><span class="line">    Walk() <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Dog <span class="keyword">struct</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(d Dog)</span></span> Speak() <span class="type">string</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Woof&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(d Dog)</span></span> Walk() <span class="type">string</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Walking on four legs&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> DogWalker <span class="keyword">interface</span> &#123;</span><br><span class="line">    Animal</span><br><span class="line">    Walker</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> dog DogWalker = Dog&#123;&#125;</span><br><span class="line">    fmt.Println(dog.Speak()) <span class="comment">// 输出 Woof</span></span><br><span class="line">    fmt.Println(dog.Walk())  <span class="comment">// 输出 Walking on four legs</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="8-接口的使用场景"><a href="#8-接口的使用场景" class="headerlink" title="8. 接口的使用场景"></a>8. <strong>接口的使用场景</strong></h3><p>接口通常用于以下几种场景：</p><ul><li><strong>多态性</strong>：不同类型实现相同接口，允许在不同类型之间进行操作，而不关心具体类型。</li><li><strong>解耦</strong>：接口使得类型间的关系更加松散，允许通过接口而不是具体实现来设计和测试代码。</li><li><strong>扩展性</strong>：通过定义接口，可以为现有系统添加新的功能而不修改已有代码。</li></ul><h3 id="总结-5"><a href="#总结-5" class="headerlink" title="总结"></a>总结</h3><p>Go 语言的接口非常灵活，支持隐式实现、多态、组合等特性，可以使代码更加简洁、可扩展。通过空接口，我们能够处理不同类型的数据，结合反射等技术，Go 的接口在实际开发中非常有用。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;math&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> geometry <span class="keyword">interface</span> &#123;</span><br><span class="line">    area() <span class="type">float64</span></span><br><span class="line">    perim() <span class="type">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> rect <span class="keyword">struct</span> &#123;</span><br><span class="line">    width, height <span class="type">float64</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> circle <span class="keyword">struct</span> &#123;</span><br><span class="line">    radius <span class="type">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(r rect)</span></span> area() <span class="type">float64</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> r.width * r.height</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(r rect)</span></span> perim() <span class="type">float64</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span>*r.width + <span class="number">2</span>*r.height</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(c circle)</span></span> area() <span class="type">float64</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> math.Pi * c.radius * c.radius</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(c circle)</span></span> perim() <span class="type">float64</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span> * math.Pi * c.radius</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">measure</span><span class="params">(g geometry)</span></span> &#123;</span><br><span class="line">    fmt.Println(g)</span><br><span class="line">    fmt.Println(g.area())</span><br><span class="line">    fmt.Println(g.perim())</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    r := rect&#123;width: <span class="number">3</span>, height: <span class="number">4</span>&#125;</span><br><span class="line">    c := circle&#123;radius: <span class="number">5</span>&#125;</span><br><span class="line"></span><br><span class="line">    measure(r)</span><br><span class="line">    measure(c)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="keyword">go</span> run interfaces.<span class="keyword">go</span></span><br><span class="line">&#123;<span class="number">3</span> <span class="number">4</span>&#125;</span><br><span class="line"><span class="number">12</span></span><br><span class="line"><span class="number">14</span></span><br><span class="line">&#123;<span class="number">5</span>&#125;</span><br><span class="line"><span class="number">78.53981633974483</span></span><br><span class="line"><span class="number">31.41592653589793</span></span><br></pre></td></tr></table></figure><h2 id="Embedding"><a href="#Embedding" class="headerlink" title="Embedding"></a>Embedding</h2><p>Go 语言中的 <strong>Embedding</strong>（嵌入）是指在一个类型中嵌入另一个类型，常常用于实现代码复用、继承和接口组合等功能。Go 语言没有传统的类继承机制，而是通过嵌入其他类型（通常是结构体或接口）来实现类似的功能。嵌入使得一个类型能够访问另一个类型的方法和字段，但它并不会强制要求显示继承关系，这使得 Go 在设计上更简洁和灵活。</p><h3 id="1-结构体嵌入"><a href="#1-结构体嵌入" class="headerlink" title="1. 结构体嵌入"></a>1. <strong>结构体嵌入</strong></h3><p>结构体嵌入是 Go 中最常见的嵌入方式。通过嵌入其他结构体，一个结构体可以拥有另一个结构体的字段和方法。嵌入的结构体不需要显式声明字段名称，这样可以直接访问被嵌入结构体的字段和方法。</p><h4 id="示例：结构体嵌入"><a href="#示例：结构体嵌入" class="headerlink" title="示例：结构体嵌入"></a>示例：结构体嵌入</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义一个结构体</span></span><br><span class="line"><span class="keyword">type</span> Address <span class="keyword">struct</span> &#123;</span><br><span class="line">    City, State <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义另一个结构体，嵌入 Address 结构体</span></span><br><span class="line"><span class="keyword">type</span> Person <span class="keyword">struct</span> &#123;</span><br><span class="line">    Name    <span class="type">string</span></span><br><span class="line">    Age     <span class="type">int</span></span><br><span class="line">    Address <span class="comment">// Person 结构体嵌入 Address</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// 创建一个 Person 实例</span></span><br><span class="line">    p := Person&#123;</span><br><span class="line">        Name:   <span class="string">&quot;John&quot;</span>,</span><br><span class="line">        Age:    <span class="number">30</span>,</span><br><span class="line">        Address: Address&#123;</span><br><span class="line">            City:  <span class="string">&quot;New York&quot;</span>,</span><br><span class="line">            State: <span class="string">&quot;NY&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 直接访问嵌入的 Address 字段</span></span><br><span class="line">    fmt.Println(p.Name)      <span class="comment">// John</span></span><br><span class="line">    fmt.Println(p.Age)       <span class="comment">// 30</span></span><br><span class="line">    fmt.Println(p.City)      <span class="comment">// New York</span></span><br><span class="line">    fmt.Println(p.State)     <span class="comment">// NY</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在上面的例子中，<code>Person</code> 结构体嵌入了 <code>Address</code> 结构体，因此 <code>Person</code> 类型拥有了 <code>Address</code> 类型的所有字段（<code>City</code> 和 <code>State</code>）。可以直接通过 <code>p.City</code> 和 <code>p.State</code> 访问嵌入的字段。</p><h3 id="2-方法的继承"><a href="#2-方法的继承" class="headerlink" title="2. 方法的继承"></a>2. <strong>方法的继承</strong></h3><p>嵌入不仅仅是让一个结构体继承另一个结构体的字段，还可以让一个结构体继承另一个结构体的方法。被嵌入的结构体的方法可以被外部结构体直接调用。</p><h4 id="示例：方法继承"><a href="#示例：方法继承" class="headerlink" title="示例：方法继承"></a>示例：方法继承</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义一个结构体</span></span><br><span class="line"><span class="keyword">type</span> Address <span class="keyword">struct</span> &#123;</span><br><span class="line">    City, State <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 为 Address 定义一个方法</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(a Address)</span></span> FullAddress() <span class="type">string</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a.City + <span class="string">&quot;, &quot;</span> + a.State</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义另一个结构体，嵌入 Address 结构体</span></span><br><span class="line"><span class="keyword">type</span> Person <span class="keyword">struct</span> &#123;</span><br><span class="line">    Name    <span class="type">string</span></span><br><span class="line">    Age     <span class="type">int</span></span><br><span class="line">    Address <span class="comment">// 嵌入 Address</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// 创建一个 Person 实例</span></span><br><span class="line">    p := Person&#123;</span><br><span class="line">        Name:   <span class="string">&quot;John&quot;</span>,</span><br><span class="line">        Age:    <span class="number">30</span>,</span><br><span class="line">        Address: Address&#123;</span><br><span class="line">            City:  <span class="string">&quot;New York&quot;</span>,</span><br><span class="line">            State: <span class="string">&quot;NY&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 直接调用嵌入的 Address 的方法</span></span><br><span class="line">    fmt.Println(p.FullAddress()) <span class="comment">// New York, NY</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在这个例子中，<code>Person</code> 结构体继承了 <code>Address</code> 的方法 <code>FullAddress()</code>，因此你可以通过 <code>p.FullAddress()</code> 来调用 <code>Address</code> 结构体的方法。嵌入的结构体的所有方法都会自动被嵌入到外部结构体中，无需显式继承。</p><h3 id="3-方法重写"><a href="#3-方法重写" class="headerlink" title="3. 方法重写"></a>3. <strong>方法重写</strong></h3><p>在 Go 语言中，你可以通过嵌入的方式覆盖（重写）嵌入结构体的某些方法。通过这种方式，你可以在外部结构体中实现自定义的行为。</p><h4 id="示例：方法重写"><a href="#示例：方法重写" class="headerlink" title="示例：方法重写"></a>示例：方法重写</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义一个结构体</span></span><br><span class="line"><span class="keyword">type</span> Animal <span class="keyword">struct</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(a Animal)</span></span> Speak() &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;Animal speaks&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义另一个结构体，嵌入 Animal 结构体</span></span><br><span class="line"><span class="keyword">type</span> Dog <span class="keyword">struct</span> &#123;</span><br><span class="line">    Animal <span class="comment">// 嵌入 Animal</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(d Dog)</span></span> Speak() &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;Woof!&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    d := Dog&#123;&#125;</span><br><span class="line">    d.Speak() <span class="comment">// Woof!</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在这个例子中，<code>Dog</code> 结构体嵌入了 <code>Animal</code> 结构体，并且重写了 <code>Speak()</code> 方法。因此，调用 <code>d.Speak()</code> 时，输出的是 <code>Woof!</code> 而不是 <code>Animal speaks</code>。</p><h3 id="4-接口的嵌入"><a href="#4-接口的嵌入" class="headerlink" title="4. 接口的嵌入"></a>4. <strong>接口的嵌入</strong></h3><p>接口类型也可以嵌套其他接口，从而形成更复杂的接口组合。通过接口嵌入，你可以组合多个接口的行为，形成更强大的抽象。</p><h4 id="示例：接口嵌入"><a href="#示例：接口嵌入" class="headerlink" title="示例：接口嵌入"></a>示例：接口嵌入</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Speaker <span class="keyword">interface</span> &#123;</span><br><span class="line">    Speak() <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Eater <span class="keyword">interface</span> &#123;</span><br><span class="line">    Eat() <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Person <span class="keyword">struct</span> &#123;</span><br><span class="line">    Name <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Person 实现了 Speaker 接口</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p Person)</span></span> Speak() <span class="type">string</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Hello!&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Person 实现了 Eater 接口</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p Person)</span></span> Eat() <span class="type">string</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Eating...&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义一个新的接口，组合 Speaker 和 Eater 接口</span></span><br><span class="line"><span class="keyword">type</span> Human <span class="keyword">interface</span> &#123;</span><br><span class="line">    Speaker</span><br><span class="line">    Eater</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    p := Person&#123;Name: <span class="string">&quot;John&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 由于 Person 实现了 Speaker 和 Eater 接口，所以它也实现了 Human 接口</span></span><br><span class="line">    <span class="keyword">var</span> h Human = p</span><br><span class="line"></span><br><span class="line">    fmt.Println(h.Speak()) <span class="comment">// Hello!</span></span><br><span class="line">    fmt.Println(h.Eat())   <span class="comment">// Eating...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在这个例子中，<code>Human</code> 接口嵌入了 <code>Speaker</code> 和 <code>Eater</code> 接口，因此任何实现了这两个接口的方法的类型（如 <code>Person</code>）也自动实现了 <code>Human</code> 接口。这样，你可以组合多个接口，从而使得类型具有更多的行为。</p><h3 id="5-匿名字段"><a href="#5-匿名字段" class="headerlink" title="5. 匿名字段"></a>5. <strong>匿名字段</strong></h3><p>Go 语言中的嵌入可以使用匿名字段。匿名字段是指在结构体中直接嵌入另一个类型，而不需要为其起一个名称。这样做可以简化代码，使得代码更简洁。</p><h4 id="示例：匿名字段"><a href="#示例：匿名字段" class="headerlink" title="示例：匿名字段"></a>示例：匿名字段</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义一个结构体</span></span><br><span class="line"><span class="keyword">type</span> Address <span class="keyword">struct</span> &#123;</span><br><span class="line">    City, State <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义另一个结构体，匿名嵌入 Address</span></span><br><span class="line"><span class="keyword">type</span> Person <span class="keyword">struct</span> &#123;</span><br><span class="line">    Name <span class="type">string</span></span><br><span class="line">    Age  <span class="type">int</span></span><br><span class="line">    Address <span class="comment">// 匿名嵌入</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    p := Person&#123;</span><br><span class="line">        Name:   <span class="string">&quot;John&quot;</span>,</span><br><span class="line">        Age:    <span class="number">30</span>,</span><br><span class="line">        Address: Address&#123;</span><br><span class="line">            City:  <span class="string">&quot;New York&quot;</span>,</span><br><span class="line">            State: <span class="string">&quot;NY&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 通过匿名嵌入字段直接访问</span></span><br><span class="line">    fmt.Println(p.Name)   <span class="comment">// John</span></span><br><span class="line">    fmt.Println(p.City)   <span class="comment">// New York</span></span><br><span class="line">    fmt.Println(p.State)  <span class="comment">// NY</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在这个例子中，<code>Address</code> 作为匿名字段直接嵌入了 <code>Person</code> 结构体。<code>Person</code> 结构体可以直接访问 <code>Address</code> 的字段 <code>City</code> 和 <code>State</code>。</p><h3 id="6-嵌入的使用场景"><a href="#6-嵌入的使用场景" class="headerlink" title="6. 嵌入的使用场景"></a>6. <strong>嵌入的使用场景</strong></h3><ul><li><strong>代码复用</strong>：通过嵌入类型，可以在不继承的情况下重用另一个类型的方法和字段。</li><li><strong>实现接口</strong>：通过嵌入结构体或接口，可以实现多个接口，增强类型的灵活性。</li><li><strong>接口组合</strong>：通过嵌套多个接口，能够实现更复杂的接口设计。</li><li><strong>简化结构体设计</strong>：匿名字段和嵌入使得结构体设计更简洁，代码更易于维护。</li></ul><h3 id="总结-6"><a href="#总结-6" class="headerlink" title="总结"></a>总结</h3><p>Go 语言的嵌入（Embedding）是实现代码复用、模拟继承以及接口组合的重要手段。通过嵌入，Go 不仅避免了传统继承模型中的复杂性，同时又能够灵活地组合和扩展现有类型的功能。嵌入可以显著提高代码的简洁性和可维护性，是 Go 语言设计中的一个重要特性。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> base <span class="keyword">struct</span> &#123;</span><br><span class="line">    num <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(b base)</span></span> describe() <span class="type">string</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> fmt.Sprintf(<span class="string">&quot;base with num=%v&quot;</span>, b.num)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> container <span class="keyword">struct</span> &#123;</span><br><span class="line">    base</span><br><span class="line">    str <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    co := container&#123;</span><br><span class="line">        base: base&#123;</span><br><span class="line">            num: <span class="number">1</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        str: <span class="string">&quot;some name&quot;</span>,</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    fmt.Printf(<span class="string">&quot;co=&#123;num: %v, str: %v&#125;\n&quot;</span>, co.num, co.str)</span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;also num:&quot;</span>, co.base.num)</span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;describe:&quot;</span>, co.describe())</span><br><span class="line"></span><br><span class="line">    <span class="keyword">type</span> describer <span class="keyword">interface</span> &#123;</span><br><span class="line">        describe() <span class="type">string</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> d describer = co</span><br><span class="line">    fmt.Println(<span class="string">&quot;describer:&quot;</span>, d.describe())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="keyword">go</span> run embedding.<span class="keyword">go</span></span><br><span class="line">co=&#123;num: <span class="number">1</span>, str: some name&#125;</span><br><span class="line">also num: <span class="number">1</span></span><br><span class="line">describe: base with num=<span class="number">1</span></span><br><span class="line">describer: base with num=<span class="number">1</span></span><br></pre></td></tr></table></figure><h2 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h2><p>Go语言的泛型（Generics）是在 Go 1.18 版本引入的一个重要特性，允许你编写更具通用性和复用性的代码。在没有泛型之前，Go语言的类型系统要求程序员在许多情况下编写重复的代码，而泛型使得函数、数据结构和算法能够适应不同类型，而无需手动复制代码。</p><p>下面我会简略而全面地讲解 Go 语言泛型的核心知识点。</p><h3 id="1-泛型基础"><a href="#1-泛型基础" class="headerlink" title="1. 泛型基础"></a>1. 泛型基础</h3><p>泛型的核心思想是让函数、类型或数据结构在编写时不指定特定的类型，而是在调用时由用户指定类型。Go通过类型参数（type parameters）来实现这一点。</p><p>在Go语言中，泛型的语法是通过 <code>type</code> 关键字来声明类型参数。</p><h3 id="2-定义泛型函数"><a href="#2-定义泛型函数" class="headerlink" title="2. 定义泛型函数"></a>2. 定义泛型函数</h3><p>我们可以定义一个泛型函数，接受一个类型参数，并在函数体内根据类型参数进行操作。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义一个泛型函数，T表示类型参数</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Print</span>[<span class="title">T</span> <span class="title">any</span>]<span class="params">(value T)</span></span> &#123;</span><br><span class="line">    fmt.Println(value)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    Print(<span class="number">42</span>)      <span class="comment">// 输出: 42</span></span><br><span class="line">    Print(<span class="string">&quot;Hello&quot;</span>) <span class="comment">// 输出: Hello</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在这个例子中，<code>T</code> 是一个类型参数，它可以是任何类型（由 <code>any</code> 关键字表示，<code>any</code> 是 <code>interface&#123;&#125;</code> 的别名）。<code>Print</code> 函数接收任何类型的值并打印它。</p><h3 id="3-泛型类型约束"><a href="#3-泛型类型约束" class="headerlink" title="3. 泛型类型约束"></a>3. 泛型类型约束</h3><p>Go语言的泛型允许为类型参数添加约束，确保类型参数符合某些条件。通过接口来实现约束。例如，我们可以要求类型参数必须是数字类型。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义一个只接受数字类型的泛型函数</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Add</span>[<span class="title">T</span> <span class="title">int</span> | <span class="title">int64</span> | <span class="title">float64</span>]<span class="params">(a, b T)</span></span> T &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    fmt.Println(Add(<span class="number">1</span>, <span class="number">2</span>))           <span class="comment">// 输出: 3</span></span><br><span class="line">    fmt.Println(Add(<span class="number">1.5</span>, <span class="number">2.5</span>))       <span class="comment">// 输出: 4</span></span><br><span class="line">    fmt.Println(Add(<span class="type">int64</span>(<span class="number">10</span>), <span class="type">int64</span>(<span class="number">20</span>))) <span class="comment">// 输出: 30</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在这个例子中，<code>Add</code> 函数的类型参数 <code>T</code> 被约束为 <code>int</code>、<code>int64</code> 或 <code>float64</code> 之一。</p><h3 id="4-泛型数据结构"><a href="#4-泛型数据结构" class="headerlink" title="4. 泛型数据结构"></a>4. 泛型数据结构</h3><p>泛型不仅可以用于函数，还可以用于数据结构（如数组、切片、映射等）。通过泛型数据结构，我们可以避免为每种类型编写重复的代码。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义一个泛型栈（Stack）类型</span></span><br><span class="line"><span class="keyword">type</span> Stack[T any] <span class="keyword">struct</span> &#123;</span><br><span class="line">    items []T</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *Stack[T])</span></span> Push(item T) &#123;</span><br><span class="line">    s.items = <span class="built_in">append</span>(s.items, item)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *Stack[T])</span></span> Pop() T &#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(s.items) == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> zero T</span><br><span class="line">        <span class="keyword">return</span> zero</span><br><span class="line">    &#125;</span><br><span class="line">    item := s.items[<span class="built_in">len</span>(s.items)<span class="number">-1</span>]</span><br><span class="line">    s.items = s.items[:<span class="built_in">len</span>(s.items)<span class="number">-1</span>]</span><br><span class="line">    <span class="keyword">return</span> item</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// 操作 int 类型的栈</span></span><br><span class="line">    intStack := Stack[<span class="type">int</span>]&#123;&#125;</span><br><span class="line">    intStack.Push(<span class="number">1</span>)</span><br><span class="line">    intStack.Push(<span class="number">2</span>)</span><br><span class="line">    fmt.Println(intStack.Pop()) <span class="comment">// 输出: 2</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 操作 string 类型的栈</span></span><br><span class="line">    stringStack := Stack[<span class="type">string</span>]&#123;&#125;</span><br><span class="line">    stringStack.Push(<span class="string">&quot;hello&quot;</span>)</span><br><span class="line">    stringStack.Push(<span class="string">&quot;world&quot;</span>)</span><br><span class="line">    fmt.Println(stringStack.Pop()) <span class="comment">// 输出: world</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-any-和-interface"><a href="#5-any-和-interface" class="headerlink" title="5. any 和 interface{}"></a>5. <code>any</code> 和 <code>interface&#123;&#125;</code></h3><p>在 Go 泛型中，<code>any</code> 是一种通用类型，表示任何类型，它是 <code>interface&#123;&#125;</code> 的别名。在 Go 1.18 版本及之后，你可以用 <code>any</code> 来表示可以接受任何类型的类型参数。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 两者是等价的</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Print</span>[<span class="title">T</span> <span class="title">any</span>]<span class="params">(value T)</span></span> &#123;</span><br><span class="line">    fmt.Println(value)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Print</span>[<span class="title">T</span> <span class="title">interface</span></span>&#123;&#125;](value T) &#123;</span><br><span class="line">    fmt.Println(value)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-泛型约束类型的组合"><a href="#6-泛型约束类型的组合" class="headerlink" title="6. 泛型约束类型的组合"></a>6. 泛型约束类型的组合</h3><p>Go 支持组合多个约束，可以将多个接口约束组合在一起，从而使得类型参数更为灵活。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义一个接受可比较类型的泛型函数</span></span><br><span class="line"><span class="keyword">type</span> Comparable <span class="keyword">interface</span> &#123;</span><br><span class="line">    <span class="type">int</span> | <span class="type">float64</span> | <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Max</span>[<span class="title">T</span> <span class="title">Comparable</span>]<span class="params">(a, b T)</span></span> T &#123;</span><br><span class="line">    <span class="keyword">if</span> a &gt; b &#123;</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    fmt.Println(Max(<span class="number">1</span>, <span class="number">2</span>))           <span class="comment">// 输出: 2</span></span><br><span class="line">    fmt.Println(Max(<span class="number">1.5</span>, <span class="number">2.5</span>))       <span class="comment">// 输出: 2.5</span></span><br><span class="line">    fmt.Println(Max(<span class="string">&quot;apple&quot;</span>, <span class="string">&quot;banana&quot;</span>)) <span class="comment">// 输出: banana</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="7-类型推断"><a href="#7-类型推断" class="headerlink" title="7. 类型推断"></a>7. 类型推断</h3><p>在调用泛型函数时，Go会自动推断类型参数。如果没有显式指定类型，Go会根据传入的参数类型推断出类型。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Print</span>[<span class="title">T</span> <span class="title">any</span>]<span class="params">(value T)</span></span> &#123;</span><br><span class="line">    fmt.Println(value)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    Print(<span class="number">10</span>)          <span class="comment">// Go 推断 T 为 int</span></span><br><span class="line">    Print(<span class="string">&quot;Hello&quot;</span>)     <span class="comment">// Go 推断 T 为 string</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="8-使用泛型接口"><a href="#8-使用泛型接口" class="headerlink" title="8. 使用泛型接口"></a>8. 使用泛型接口</h3><p>你也可以为接口定义泛型，使得接口更加灵活和可重用。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Stringer[T any] <span class="keyword">interface</span> &#123;</span><br><span class="line">    String() <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Person <span class="keyword">struct</span> &#123;</span><br><span class="line">    Name <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p Person)</span></span> String() <span class="type">string</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Name: &quot;</span> + p.Name</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">PrintString</span>[<span class="title">T</span> <span class="title">Stringer</span>[<span class="title">T</span>]]<span class="params">(s T)</span></span> &#123;</span><br><span class="line">    fmt.Println(s.String())</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    p := Person&#123;Name: <span class="string">&quot;John&quot;</span>&#125;</span><br><span class="line">    PrintString(p) <span class="comment">// 输出: Name: John</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="9-总结"><a href="#9-总结" class="headerlink" title="9. 总结"></a>9. 总结</h3><p>Go 语言的泛型使得编写更加通用和可重用的代码成为可能，它通过类型参数和约束来实现这一点。泛型能够提高代码的灵活性和可维护性，减少代码重复，但同时也需要保持类型的安全性。</p><p>泛型的核心语法和概念包括：</p><ul><li>使用 <code>type</code> 定义类型参数。</li><li>使用 <code>any</code> 或 <code>interface&#123;&#125;</code> 来表示可以接受任何类型。</li><li>通过类型约束限制类型参数的范围。</li><li>使用泛型数据结构（如栈、队列等）来实现通用的数据结构。</li></ul><p>你可以使用泛型来优化你的代码，避免编写大量的重复逻辑，特别是在需要处理多种类型时。</p></article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/basic-img/avatar.jpg" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/basic-img/avatar.jpg" title="头像" alt="头像"></a><div class="post-copyright__author_name">寻觅~流光</div><div class="post-copyright__author_desc"></div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="https://8023time.github.io/2024/12/22/GO/">原创</a><a class="post-copyright-title"><span onclick='rm.copyPageUrl("https://8023time.github.io/2024/12/22/GO/")'>Go</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"><div class="post-reward" onclick="anzhiyu.addRewardMask()"><div class="reward-button button--animated" title="赞赏作者"><i class="anzhiyufont anzhiyu-icon-hand-heart-fill"></i>打赏作者</div><div class="reward-main"><div class="reward-all"><span class="reward-title">感谢你赐予我前进的力量</span><ul class="reward-group"><li class="reward-item"><a href="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/basic-img/wechat.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/basic-img/wechat.jpg" alt="微信"></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/img/owner/alipay-qrcode.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/owner/alipay-qrcode.jpg" alt="支付宝"></a><div class="post-qr-code-desc">支付宝</div></li></ul><a class="reward-main-btn" href="/about/#about-reward" target="_blank"><div class="reward-text">赞赏者名单</div><div class="reward-dec">因为你们的支持让我意识到写文章的价值🙏</div></a></div></div></div><div id="quit-box" onclick="anzhiyu.removeRewardMask()" style="display:none"></div></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="https://8023time.github.io/2024/12/22/GO/"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=Go&amp;url=https://8023time.github.io/2024/12/22/GO/&amp;pic=https://cdn.jsdelivr.net/gh/8023time/image-storage-address/Go-image/20241222013233.png" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><script>function copyCurrentPageUrl(){var e=window.location.href,t=document.createElement("input");t.setAttribute("value",e),document.body.appendChild(t),t.select(),t.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(t)}</script><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="copyCurrentPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://8023time.github.io" target="_blank">寻觅~流光</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/go/"><span class="tags-punctuation"><i class="anzhiyufont anzhiyu-icon-tag"></i></span>go<span class="tagsPageCount">1</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/basic-img/background-002.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/12/22/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/Data-structure-image/32e10902c2444e034349a106b816ecf.png" onerror='onerror=null,src="/img/404.jpg"' alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">数据结构课程设计</div></div></a></div><div class="next-post pull-right"><a href="/2024/12/23/%E7%AE%97%E6%B3%95-%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE%E8%AF%A6%E8%A7%A3%5B%E5%A4%9A%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0%5D/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/Data-structure-image/32e10902c2444e034349a106b816ecf.png" onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">算法-二分查找详解[多语言实现]</div></div></a></div></nav><hr><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="anzhiyufont anzhiyu-icon-comments"></i><span> 评论</span></div><div class="comment-randomInfo"><a onclick="anzhiyu.addRandomCommentInfo()" href="javascript:void(0)">匿名评论</a><a href="/privacy" style="margin-left:4px">隐私政策</a></div><div class="comment-switch"><span class="first-comment">Twikoo</span><span id="switch-btn"></span><span class="second-comment">Waline</span></div><div class="comment-tips" id="comment-tips"><span>✅ 你无需删除空行，直接评论以获取最佳展示效果</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div><div><div id="waline-wrap"></div></div></div></div><div class="comment-barrage"></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info__sayhi" id="author-info__sayhi" onclick="anzhiyu.changeSayHelloText()"></div><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/basic-img/avatar.jpg" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"><div class="author-status"><img class="g-status" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/basic-img/avatar.jpg" alt="status"></div></div><div class="author-info__description"></div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/"><h1 class="author-info__name">寻觅~流光</h1><div class="author-info__desc"></div></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/8023time" target="_blank" title="Github"></a></div></div></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bullhorn anzhiyu-shake"></i><span>公告</span></div><div class="announcement_content"><div style="text-align:center">云雾依稀折柳枝,<br>凭栏更待青云月.<br>请君莫辞凌烟走,<br>惟愿神秀尽前时.</div><div style="text-align:right">-----2023年6月8日</div></div></div><div class="card-widget anzhiyu-right-widget" id="card-wechat"><div id="flip-wrapper"><div id="flip-content"><div class="face" style="background:url(https://bu.dusays.com/2023/01/13/63c02edf44033.png) center center/100% no-repeat"></div><div class="back face" style="background:url(https://bu.dusays.com/2023/05/13/645fa415e8694.png) center center/100% no-repeat"></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Go"><span class="toc-text">Go</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%A7%8B"><span class="toc-text">开始</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%98%E9%87%8F"><span class="toc-text">变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E9%87%8F"><span class="toc-text">常量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF"><span class="toc-text">循环</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#if-else%E5%88%86%E6%94%AF"><span class="toc-text">if&#x2F;else分支</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#switch%E5%88%86%E6%94%AF"><span class="toc-text">switch分支</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E7%BB%84"><span class="toc-text">数组</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%95%B0%E7%BB%84%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="toc-text">1. 数组的定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%95%B0%E7%BB%84%E7%9A%84%E8%AE%BF%E9%97%AE%E5%92%8C%E4%BF%AE%E6%94%B9"><span class="toc-text">2. 数组的访问和修改</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%95%B0%E7%BB%84%E7%9A%84%E9%95%BF%E5%BA%A6"><span class="toc-text">3. 数组的长度</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%95%B0%E7%BB%84%E7%9A%84%E4%BC%A0%E9%80%92"><span class="toc-text">4. 数组的传递</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E5%A4%9A%E7%BB%B4%E6%95%B0%E7%BB%84"><span class="toc-text">5. 多维数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E6%95%B0%E7%BB%84%E7%9A%84%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-text">6. 数组的初始化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E6%95%B0%E7%BB%84%E4%B8%8E%E5%88%87%E7%89%87%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">7. 数组与切片的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-%E6%95%B0%E7%BB%84%E7%9A%84%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">8. 数组的应用场景</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%87%E7%89%87"><span class="toc-text">切片</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%88%9B%E5%BB%BA%E5%88%87%E7%89%87"><span class="toc-text">1. 创建切片</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%88%87%E7%89%87%E7%9A%84%E5%B1%9E%E6%80%A7"><span class="toc-text">2. 切片的属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%88%87%E7%89%87%E7%9A%84%E5%88%87%E5%89%B2%E6%93%8D%E4%BD%9C"><span class="toc-text">3. 切片的切割操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%8A%A8%E6%80%81%E6%89%A9%E5%B1%95%E5%88%87%E7%89%87"><span class="toc-text">4. 动态扩展切片</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E5%88%A0%E9%99%A4%E5%88%87%E7%89%87%E5%85%83%E7%B4%A0"><span class="toc-text">5. 删除切片元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E5%88%87%E7%89%87%E7%9A%84%E5%8F%8D%E8%BD%AC"><span class="toc-text">6. 切片的反转</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E5%88%87%E7%89%87%E7%9A%84%E6%9F%A5%E6%89%BE"><span class="toc-text">7. 切片的查找</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-%E5%88%87%E7%89%87%E7%9A%84%E5%88%86%E5%9D%97"><span class="toc-text">8. 切片的分块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-%E5%88%87%E7%89%87%E6%8E%92%E5%BA%8F"><span class="toc-text">9. 切片排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-%E5%88%A0%E9%99%A4%E9%87%8D%E5%A4%8D%E5%85%83%E7%B4%A0"><span class="toc-text">10. 删除重复元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-copy-%E5%87%BD%E6%95%B0"><span class="toc-text">11. copy 函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-1"><span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#map"><span class="toc-text">map</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%88%9B%E5%BB%BA-map"><span class="toc-text">1. 创建 map</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-make-%E5%87%BD%E6%95%B0"><span class="toc-text">使用 make 函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%AD%97%E9%9D%A2%E9%87%8F%EF%BC%88literal%EF%BC%89%E5%88%9B%E5%BB%BA"><span class="toc-text">使用字面量（literal）创建</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%90%91-map-%E4%B8%AD%E6%B7%BB%E5%8A%A0%E5%92%8C%E6%9B%B4%E6%96%B0%E5%85%83%E7%B4%A0"><span class="toc-text">2. 向 map 中添加和更新元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E8%8E%B7%E5%8F%96-map-%E4%B8%AD%E7%9A%84%E5%80%BC"><span class="toc-text">3. 获取 map 中的值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%88%A0%E9%99%A4-map-%E4%B8%AD%E7%9A%84%E5%85%83%E7%B4%A0"><span class="toc-text">4. 删除 map 中的元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E6%A3%80%E6%9F%A5%E9%94%AE%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8"><span class="toc-text">5. 检查键是否存在</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E9%81%8D%E5%8E%86-map"><span class="toc-text">6. 遍历 map</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-map-%E7%9A%84%E7%89%B9%E6%80%A7"><span class="toc-text">7. map 的特性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-map-%E7%9A%84%E5%AE%B9%E9%87%8F"><span class="toc-text">8. map 的容量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-%E7%A9%BA-map-%E5%92%8C-nil-map"><span class="toc-text">9. 空 map 和 nil map</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%EF%BC%9A"><span class="toc-text">示例代码：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#range"><span class="toc-text">range</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-range-%E9%81%8D%E5%8E%86%E6%95%B0%E7%BB%84%E5%92%8C%E5%88%87%E7%89%87"><span class="toc-text">1. range 遍历数组和切片</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E7%BB%84-1"><span class="toc-text">数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%87%E7%89%87-1"><span class="toc-text">切片</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-range-%E9%81%8D%E5%8E%86-map"><span class="toc-text">2. range 遍历 map</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%EF%BC%9A"><span class="toc-text">注意事项：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-range-%E9%81%8D%E5%8E%86%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">3. range 遍历字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%8F%AA%E8%8E%B7%E5%8F%96%E5%80%BC%E6%88%96%E7%B4%A2%E5%BC%95"><span class="toc-text">4. 只获取值或索引</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-range-%E9%81%8D%E5%8E%86%E9%80%9A%E9%81%93%EF%BC%88channel%EF%BC%89"><span class="toc-text">5. range 遍历通道（channel）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E7%A4%BA%E4%BE%8B%EF%BC%9A%E7%BB%BC%E5%90%88%E4%BD%BF%E7%94%A8-range"><span class="toc-text">6. 示例：综合使用 range</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-2"><span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-text">函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0"><span class="toc-text">1. 定义函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89"><span class="toc-text">基本函数定义</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E8%B0%83%E7%94%A8%E5%87%BD%E6%95%B0"><span class="toc-text">2. 调用函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0"><span class="toc-text">3. 函数参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-text">4. 返回值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E5%91%BD%E5%90%8D%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-text">5. 命名返回值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E5%87%BD%E6%95%B0%E4%BD%9C%E4%B8%BA%E5%80%BC"><span class="toc-text">6. 函数作为值</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B0%86%E5%87%BD%E6%95%B0%E8%B5%8B%E5%80%BC%E7%BB%99%E5%8F%98%E9%87%8F"><span class="toc-text">将函数赋值给变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E4%BD%9C%E4%B8%BA%E5%8F%82%E6%95%B0"><span class="toc-text">函数作为参数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0"><span class="toc-text">7. 匿名函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-%E5%87%BD%E6%95%B0%E9%97%AD%E5%8C%85"><span class="toc-text">8. 函数闭包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-%E5%87%BD%E6%95%B0%E7%9A%84%E9%80%92%E5%BD%92%E8%B0%83%E7%94%A8"><span class="toc-text">9. 函数的递归调用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-%E5%A4%9A%E8%BF%94%E5%9B%9E%E5%80%BC%E5%87%BD%E6%95%B0"><span class="toc-text">10. 多返回值函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-3"><span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%87%E9%92%88"><span class="toc-text">指针</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%AE%9A%E4%B9%89%E5%92%8C%E5%A3%B0%E6%98%8E%E6%8C%87%E9%92%88"><span class="toc-text">1. 定义和声明指针</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E8%8E%B7%E5%8F%96%E5%8F%98%E9%87%8F%E7%9A%84%E5%9C%B0%E5%9D%80%EF%BC%88%E5%8F%96%E5%9C%B0%E5%9D%80%E6%93%8D%E4%BD%9C%E7%AC%A6-%EF%BC%89"><span class="toc-text">2. 获取变量的地址（取地址操作符 &amp;）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E8%A7%A3%E5%BC%95%E7%94%A8%E6%8C%87%E9%92%88%EF%BC%88%E5%8F%96%E5%80%BC%E6%93%8D%E4%BD%9C%E7%AC%A6-%EF%BC%89"><span class="toc-text">3. 解引用指针（取值操作符 *）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%8C%87%E9%92%88%E4%B8%8E%E5%8F%98%E9%87%8F%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-text">4. 指针与变量的关系</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E4%BF%AE%E6%94%B9%E5%8F%98%E9%87%8F%E7%9A%84%E5%80%BC%E9%80%9A%E8%BF%87%E6%8C%87%E9%92%88"><span class="toc-text">5. 修改变量的值通过指针</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E6%8C%87%E9%92%88%E4%BD%9C%E4%B8%BA%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0"><span class="toc-text">6. 指针作为函数参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E6%8C%87%E9%92%88%E7%B1%BB%E5%9E%8B%E4%B8%8E%E7%BB%93%E6%9E%84%E4%BD%93"><span class="toc-text">7. 指针类型与结构体</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-nil-%E6%8C%87%E9%92%88"><span class="toc-text">8. nil 指针</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-%E9%9B%B6%E5%80%BC%E5%92%8C%E6%8C%87%E9%92%88"><span class="toc-text">9. 零值和指针</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-%E6%8C%87%E9%92%88%E7%9A%84%E5%BA%94%E7%94%A8"><span class="toc-text">10. 指针的应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-4"><span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8Crune%E7%B1%BB%E5%9E%8B"><span class="toc-text">字符串和rune类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%EF%BC%88string%EF%BC%89"><span class="toc-text">一、字符串（string）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="toc-text">1. 字符串的定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E5%B8%B8%E8%A7%81%E6%93%8D%E4%BD%9C"><span class="toc-text">2. 字符串的常见操作</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A3%B0%E6%98%8E%E4%B8%8E%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-text">声明与初始化</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%95%BF%E5%BA%A6"><span class="toc-text">获取字符串长度</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95%E8%AE%BF%E9%97%AE%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">索引访问字符串</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8B%BC%E6%8E%A5"><span class="toc-text">字符串拼接</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%87%E7%89%87%E6%93%8D%E4%BD%9C"><span class="toc-text">切片操作</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-Go%E6%A0%87%E5%87%86%E5%BA%93%E4%B8%AD%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%96%B9%E6%B3%95"><span class="toc-text">3. Go标准库中的字符串方法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0"><span class="toc-text">常用函数</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E3%80%81Rune"><span class="toc-text">二、Rune</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-Rune%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="toc-text">1. Rune的定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-Rune%E7%9A%84%E7%94%A8%E9%80%94"><span class="toc-text">2. Rune的用途</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-Rune%E7%9A%84%E5%B8%B8%E8%A7%81%E6%93%8D%E4%BD%9C"><span class="toc-text">3. Rune的常见操作</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%8ERune%E7%9A%84%E7%9B%B8%E4%BA%92%E8%BD%AC%E6%8D%A2"><span class="toc-text">字符串与Rune的相互转换</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%80%90%E5%AD%97%E7%AC%A6%E5%A4%84%E7%90%86"><span class="toc-text">逐字符处理</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">修改字符串</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BB%9F%E8%AE%A1%E5%AD%97%E7%AC%A6%E6%95%B0%E9%87%8F"><span class="toc-text">统计字符数量</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%8ERune%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-text">三、字符串与Rune的关系</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF%E4%B8%8E%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-text">四、使用场景与注意事项</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E6%80%BB%E7%BB%93"><span class="toc-text">五、总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93"><span class="toc-text">结构体</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%AE%9A%E4%B9%89%E7%BB%93%E6%9E%84%E4%BD%93"><span class="toc-text">1. 定义结构体</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B%EF%BC%9A"><span class="toc-text">示例：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%88%9B%E5%BB%BA%E7%BB%93%E6%9E%84%E4%BD%93%E5%AE%9E%E4%BE%8B"><span class="toc-text">2. 创建结构体实例</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-%E4%BD%BF%E7%94%A8%E7%BB%93%E6%9E%84%E4%BD%93%E5%AD%97%E9%9D%A2%E9%87%8F"><span class="toc-text">2.1 使用结构体字面量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-%E4%BD%BF%E7%94%A8%E5%AD%97%E6%AE%B5%E5%90%8D%E5%88%9D%E5%A7%8B%E5%8C%96%EF%BC%88%E6%8E%A8%E8%8D%90%EF%BC%89"><span class="toc-text">2.2 使用字段名初始化（推荐）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-%E5%88%9B%E5%BB%BA%E7%A9%BA%E7%BB%93%E6%9E%84%E4%BD%93%E5%B9%B6%E8%B5%8B%E5%80%BC"><span class="toc-text">2.3 创建空结构体并赋值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-%E4%BD%BF%E7%94%A8-new-%E5%88%9B%E5%BB%BA%E7%BB%93%E6%9E%84%E4%BD%93%E6%8C%87%E9%92%88"><span class="toc-text">2.4 使用 new 创建结构体指针</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E7%BB%93%E6%9E%84%E4%BD%93%E7%9A%84%E9%9B%B6%E5%80%BC"><span class="toc-text">3. 结构体的零值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E7%BB%93%E6%9E%84%E4%BD%93%E5%AD%97%E6%AE%B5%E7%9A%84%E8%AE%BF%E9%97%AE%E4%B8%8E%E4%BF%AE%E6%94%B9"><span class="toc-text">4. 结构体字段的访问与修改</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E7%BB%93%E6%9E%84%E4%BD%93%E7%9A%84%E6%AF%94%E8%BE%83"><span class="toc-text">5. 结构体的比较</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E5%8C%BF%E5%90%8D%E5%AD%97%E6%AE%B5"><span class="toc-text">6. 匿名字段</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E7%BB%93%E6%9E%84%E4%BD%93%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-text">7. 结构体的方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#7-1-%E5%AE%9A%E4%B9%89%E6%96%B9%E6%B3%95"><span class="toc-text">7.1 定义方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-2-%E8%B0%83%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-text">7.2 调用方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-3-%E5%80%BC%E6%8E%A5%E6%94%B6%E8%80%85-vs-%E6%8C%87%E9%92%88%E6%8E%A5%E6%94%B6%E8%80%85"><span class="toc-text">7.3 值接收者 vs 指针接收者</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B%EF%BC%9A-1"><span class="toc-text">示例：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-%E5%B5%8C%E5%A5%97%E7%BB%93%E6%9E%84%E4%BD%93"><span class="toc-text">8. 嵌套结构体</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-JSON-%E4%B8%8E%E7%BB%93%E6%9E%84%E4%BD%93"><span class="toc-text">9. JSON 与结构体</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#9-1-%E8%BD%AC%E6%8D%A2%E4%B8%BA-JSON"><span class="toc-text">9.1 转换为 JSON</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-2-%E4%BB%8E-JSON-%E8%BD%AC%E6%8D%A2%E4%B8%BA%E7%BB%93%E6%9E%84%E4%BD%93"><span class="toc-text">9.2 从 JSON 转换为结构体</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-3-%E4%BD%BF%E7%94%A8%E6%A0%87%E7%AD%BE%E8%87%AA%E5%AE%9A%E4%B9%89-JSON-%E5%AD%97%E6%AE%B5"><span class="toc-text">9.3 使用标签自定义 JSON 字段</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-%E7%BB%93%E6%9E%84%E4%BD%93%E7%9A%84%E5%86%85%E5%AD%98%E5%B8%83%E5%B1%80"><span class="toc-text">10. 结构体的内存布局</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%98%E5%8C%96%E5%86%85%E5%AD%98%E5%AF%B9%E9%BD%90"><span class="toc-text">优化内存对齐</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B9%E6%B3%95"><span class="toc-text">方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%AE%9A%E4%B9%89%E7%BB%93%E6%9E%84%E4%BD%93-1"><span class="toc-text">1. 定义结构体</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E7%BB%93%E6%9E%84%E4%BD%93%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-text">2. 结构体的方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E6%8E%A5%E6%94%B6%E5%99%A8"><span class="toc-text">方法接收器</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%AE%9A%E4%B9%89%E7%BB%93%E6%9E%84%E4%BD%93%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-text">3. 定义结构体的方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-%E4%BD%BF%E7%94%A8%E5%80%BC%E6%8E%A5%E6%94%B6%E5%99%A8"><span class="toc-text">3.1 使用值接收器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-%E4%BD%BF%E7%94%A8%E6%8C%87%E9%92%88%E6%8E%A5%E6%94%B6%E5%99%A8"><span class="toc-text">3.2 使用指针接收器</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%80%BC%E6%8E%A5%E6%94%B6%E5%99%A8%E4%B8%8E%E6%8C%87%E9%92%88%E6%8E%A5%E6%94%B6%E5%99%A8%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">4. 值接收器与指针接收器的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E7%A4%BA%E4%BE%8B%EF%BC%9A%E7%BB%93%E6%9E%84%E4%BD%93%E5%92%8C%E6%96%B9%E6%B3%95%E7%BB%93%E5%90%88%E7%9A%84%E5%A4%8D%E6%9D%82%E5%BA%94%E7%94%A8"><span class="toc-text">5. 示例：结构体和方法结合的复杂应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E6%96%B9%E6%B3%95%E9%87%8D%E8%BD%BD%E4%B8%8E%E6%8E%A5%E5%8F%A3"><span class="toc-text">6. 方法重载与接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E6%80%BB%E7%BB%93"><span class="toc-text">7. 总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3"><span class="toc-text">接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%8E%A5%E5%8F%A3%E5%AE%9A%E4%B9%89"><span class="toc-text">1. 接口定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E9%9A%90%E5%BC%8F%E5%AE%9E%E7%8E%B0"><span class="toc-text">2. 隐式实现</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E7%A9%BA%E6%8E%A5%E5%8F%A3-interface"><span class="toc-text">3. 空接口 (interface{})</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%8E%A5%E5%8F%A3%E7%9A%84%E7%B1%BB%E5%9E%8B%E6%96%AD%E8%A8%80"><span class="toc-text">4. 接口的类型断言</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%80%BC"><span class="toc-text">5. 接口的值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E7%A9%BA%E6%8E%A5%E5%8F%A3%E4%B8%8E%E5%8F%8D%E5%B0%84"><span class="toc-text">6. 空接口与反射</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E6%8E%A5%E5%8F%A3%E7%9A%84%E7%BB%84%E5%90%88"><span class="toc-text">7. 接口的组合</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-%E6%8E%A5%E5%8F%A3%E7%9A%84%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">8. 接口的使用场景</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-5"><span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Embedding"><span class="toc-text">Embedding</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%BB%93%E6%9E%84%E4%BD%93%E5%B5%8C%E5%85%A5"><span class="toc-text">1. 结构体嵌入</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B%EF%BC%9A%E7%BB%93%E6%9E%84%E4%BD%93%E5%B5%8C%E5%85%A5"><span class="toc-text">示例：结构体嵌入</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%96%B9%E6%B3%95%E7%9A%84%E7%BB%A7%E6%89%BF"><span class="toc-text">2. 方法的继承</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B%EF%BC%9A%E6%96%B9%E6%B3%95%E7%BB%A7%E6%89%BF"><span class="toc-text">示例：方法继承</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%96%B9%E6%B3%95%E9%87%8D%E5%86%99"><span class="toc-text">3. 方法重写</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B%EF%BC%9A%E6%96%B9%E6%B3%95%E9%87%8D%E5%86%99"><span class="toc-text">示例：方法重写</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%B5%8C%E5%85%A5"><span class="toc-text">4. 接口的嵌入</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B%EF%BC%9A%E6%8E%A5%E5%8F%A3%E5%B5%8C%E5%85%A5"><span class="toc-text">示例：接口嵌入</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E5%8C%BF%E5%90%8D%E5%AD%97%E6%AE%B5"><span class="toc-text">5. 匿名字段</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B%EF%BC%9A%E5%8C%BF%E5%90%8D%E5%AD%97%E6%AE%B5"><span class="toc-text">示例：匿名字段</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E5%B5%8C%E5%85%A5%E7%9A%84%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">6. 嵌入的使用场景</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-6"><span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B"><span class="toc-text">泛型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%B3%9B%E5%9E%8B%E5%9F%BA%E7%A1%80"><span class="toc-text">1. 泛型基础</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%AE%9A%E4%B9%89%E6%B3%9B%E5%9E%8B%E5%87%BD%E6%95%B0"><span class="toc-text">2. 定义泛型函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%B3%9B%E5%9E%8B%E7%B1%BB%E5%9E%8B%E7%BA%A6%E6%9D%9F"><span class="toc-text">3. 泛型类型约束</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%B3%9B%E5%9E%8B%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-text">4. 泛型数据结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-any-%E5%92%8C-interface"><span class="toc-text">5. any 和 interface{}</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E6%B3%9B%E5%9E%8B%E7%BA%A6%E6%9D%9F%E7%B1%BB%E5%9E%8B%E7%9A%84%E7%BB%84%E5%90%88"><span class="toc-text">6. 泛型约束类型的组合</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E7%B1%BB%E5%9E%8B%E6%8E%A8%E6%96%AD"><span class="toc-text">7. 类型推断</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-%E4%BD%BF%E7%94%A8%E6%B3%9B%E5%9E%8B%E6%8E%A5%E5%8F%A3"><span class="toc-text">8. 使用泛型接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-%E6%80%BB%E7%BB%93"><span class="toc-text">9. 总结</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/05/22/playwright%E5%89%8D%E7%AB%AF%E6%B5%8B%E8%AF%95/" title="playwright 测试"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/basic-img/background-002.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="playwright 测试"></a><div class="content"><a class="title" href="/2025/05/22/playwright%E5%89%8D%E7%AB%AF%E6%B5%8B%E8%AF%95/" title="playwright 测试">playwright 测试</a><time datetime="2025-05-21T16:00:00.000Z" title="发表于 2025-05-22 00:00:00">2025-05-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/05/20/HTML-CSS-%E8%A1%A5%E5%85%85%E5%AD%A6%E4%B9%A0/" title="HTML-CSS-补充学习"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/basic-img/background-001.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="HTML-CSS-补充学习"></a><div class="content"><a class="title" href="/2025/05/20/HTML-CSS-%E8%A1%A5%E5%85%85%E5%AD%A6%E4%B9%A0/" title="HTML-CSS-补充学习">HTML-CSS-补充学习</a><time datetime="2025-05-19T16:00:00.000Z" title="发表于 2025-05-20 00:00:00">2025-05-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/04/20/JavaScript-%E5%85%AB%E8%82%A1/" title="JavaScript---八股"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/basic-img/background-003.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="JavaScript---八股"></a><div class="content"><a class="title" href="/2025/04/20/JavaScript-%E5%85%AB%E8%82%A1/" title="JavaScript---八股">JavaScript---八股</a><time datetime="2025-04-19T16:00:00.000Z" title="发表于 2025-04-20 00:00:00">2025-04-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/04/10/cst-exam/" title="cst-exam 项目复盘"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/basic-img/background-002.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="cst-exam 项目复盘"></a><div class="content"><a class="title" href="/2025/04/10/cst-exam/" title="cst-exam 项目复盘">cst-exam 项目复盘</a><time datetime="2025-04-09T16:00:00.000Z" title="发表于 2025-04-10 00:00:00">2025-04-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/03/09/react/" title="React"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/basic-img/background-006.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="React"></a><div class="content"><a class="title" href="/2025/03/09/react/" title="React">React</a><time datetime="2025-03-08T16:00:00.000Z" title="发表于 2025-03-09 00:00:00">2025-03-09</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div id="footer_deal"><a class="deal_link" href="mailto:2162105974@qq.com" title="email"><i class="anzhiyufont anzhiyu-icon-envelope"></i></a><a class="deal_link" href="/img/owner/wechat.jpg" title="微信"><i class="anzhiyufont anzhiyu-icon-comments"></i></a><a class="deal_link" href="tencent://message/?uin=2162105974&amp;Site=&amp;Menu=yes" title="QQ"><i class="anzhiyufont anzhiyu-icon-qq"></i></a><img class="footer_mini_logo" title="返回顶部" alt="返回顶部" onclick="anzhiyu.scrollToDest(0,500)" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/basic-img/avatar.jpg" size="50px"><a class="deal_link" target="_blank" rel="noopener" href="https://github.com/8023time" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a><a class="deal_link" target="_blank" rel="noopener" href="https://space.bilibili.com/1906238729" title="Bilibili"><i class="anzhiyufont anzhiyu-icon-bilibili"></i></a><a class="deal_link" target="_blank" rel="noopener" href="https://v.douyin.com/TG56J_9Qz4Q" title="抖音"><i class="anzhiyufont anzhiyu-icon-tiktok"></i></a></div><div id="workboard"><img class="workSituationImg boardsign" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img.shields.io/badge/%E5%8A%AA%E5%8A%9B%E5%AD%A6%E4%B9%A0%E4%B8%AD-white?style=social&amp;logo=%E5%AF%BB%E8%A7%85~%E6%B5%81%E5%85%89&amp;logoSize=auto&amp;label=%E5%AF%BB%E8%A7%85~%E6%B5%81%E5%85%89&amp;labelColor=%23ADD8E6&amp;color=fedcba&amp;cacheSeconds=3600&amp;link=https%3A%2F%2Fwww.8023time.com%2F" alt="上课学习中,卷起来~" title="上课学习中,卷起来~"><div id="runtimeTextTip"></div></div><div id="anzhiyu-footer"><div class="footer-group"><div class="footer-title">文章杂记</div><div class="footer-links"><a class="footer-item" title="全部文章" href="/archives/">全部文章</a><a class="footer-item" title="分类查看" href="/categories/">分类查看</a><a class="footer-item" title="标签汇总" href="/h/tags/">标签汇总</a></div></div><div class="footer-group"><div class="footer-title">生活日常</div><div class="footer-links"><a class="footer-item" title="友人帐簿" href="/link/">友人帐簿</a><a class="footer-item" title="好友动态" href="/fcircle/">好友动态</a><a class="footer-item" title="留言互动" href="/comments/">留言互动</a></div></div><div class="footer-group"><div class="footer-title">我的空间</div><div class="footer-links"><a class="footer-item" title="音乐天地" href="/music/?id=8789842957&amp;server=netease">音乐天地</a><a class="footer-item" title="番剧收藏" href="/bangumis/">番剧收藏</a><a class="footer-item" title="精彩相册" href="/album/">精彩相册</a></div></div><div class="footer-group"><div class="footer-title">关于本站</div><div class="footer-links"><a class="footer-item" title="关于博主" href="/about/">关于博主</a><a class="footer-item" title="随想记录" href="/essay/">随想记录</a><a class="footer-item" title="随机漫游" href="avascript:toRandomPost()">随机漫游</a></div></div><div class="footer-group"><div class="footer-title-group"><div class="footer-title">友链</div><a class="random-friends-btn" id="footer-random-friends-btn" href="javascript:addFriendLinksInFooter();" title="换一批友情链接"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right"></i></a></div><div class="footer-links" id="friend-links-in-footer"></div></div></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" data-title="博客框架为Hexo_v5.4.0" title="博客框架为Hexo_v5.4.0"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.1.5/img/badge/Frame-Hexo.svg" alt="博客框架为Hexo_v5.4.0"></a><a class="github-badge" target="_blank" href="https://blog.anheyu.com/" style="margin-inline:5px" data-title="本站使用AnZhiYu主题" title="本站使用AnZhiYu主题"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.9/img/Theme-AnZhiYu-2E67D3.svg" alt="本站使用AnZhiYu主题"></a><a class="github-badge" target="_blank" href="https://www.dogecloud.com/" style="margin-inline:5px" data-title="本站使用多吉云为静态资源提供CDN加速" title="本站使用多吉云为静态资源提供CDN加速"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.2.0/img/badge/CDN-多吉云-3693F3.svg" alt="本站使用多吉云为静态资源提供CDN加速"></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" data-title="本站项目由Github托管" title="本站项目由Github托管"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.1.5/img/badge/Source-Github.svg" alt="本站项目由Github托管"></a><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" data-title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可" title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.2.0/img/badge/Copyright-BY-NC-SA.svg" alt="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"></a></p></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2024 - 2025 By <a class="footer-bar-link" href="/" title="寻觅~流光" target="_blank">寻觅~流光</a></div></div><div id="footer-type-tips"></div><div class="js-pjax"><script>function subtitleType(){getScript("https://sdk.jinrishici.com/v2/browser/jinrishici.js").then(()=>{jinrishici.load(t=>{var e=[],t=t.data.content;e.unshift(t),window.typed=new Typed("#footer-type-tips",{strings:e,startDelay:300,typeSpeed:150,loop:!0,backSpeed:50})})})}"function"==typeof Typed?subtitleType():getScript("https://cdn.cbd.int/typed.js@2.1.0/dist/typed.umd.js").then(subtitleType)</script></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu" title="主题">主题</a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">58</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">40</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">16</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="显示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>显示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">AI助手</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://chatgpt.com/" title="ChatGPT"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/basic-img/chatgpt.jpg" alt="ChatGPT"><span class="back-menu-item-text">ChatGPT</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://gemini.google.com/app" title="Gemini"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/basic-img/f4a855188450701.65b6d6903dc33.png" alt="Gemini"><span class="back-menu-item-text">Gemini</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://www.doubao.com/" title="豆包"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/basic-img/logo_new.png" alt="豆包"><span class="back-menu-item-text">豆包</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">日常网站</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://leetcode.cn/" title="力扣"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/basic-img/LeetCode.jpg" alt="力扣"><span class="back-menu-item-text">力扣</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://www.bilibili.com/" title="bilibili"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/basic-img/bilibili.jpg" alt="bilibili"><span class="back-menu-item-text">bilibili</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://github.com/" title="GitHub"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/basic-img/github.jpg" alt="GitHub"><span class="back-menu-item-text">GitHub</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>文章杂记</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size:.9em"></i><span> 全部文章</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size:.9em"></i><span> 分类查看</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size:.9em"></i><span> 标签汇总</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>生活日常</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size:.9em"></i><span> 友人帐簿</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/fcircle/"><i class="anzhiyufont anzhiyu-icon-artstation faa-tada" style="font-size:.9em"></i><span> 好友动态</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size:.9em"></i><span> 留言互动</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>我的空间</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/?id=8789842957&amp;server=netease"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size:.9em"></i><span> 音乐天地</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/bangumis/"><i class="anzhiyufont anzhiyu-icon-bilibili faa-tada" style="font-size:.9em"></i><span> 番剧收藏</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size:.9em"></i><span> 精彩相册</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>关于本站</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size:.9em"></i><span> 关于博主</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size:.9em"></i><span> 随想记录</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size:.9em"></i><span> 随机漫游</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/C-C/" style="font-size:.88rem">C/C++<sup>25</sup></a><a href="/tags/CSS/" style="font-size:.88rem">CSS<sup>1</sup></a><a href="/tags/HTML/" style="font-size:.88rem">HTML<sup>1</sup></a><a href="/tags/JavaScript/" style="font-size:.88rem">JavaScript<sup>20</sup></a><a href="/tags/React/" style="font-size:.88rem">React<sup>1</sup></a><a href="/tags/STL%E5%AE%B9%E5%99%A8/" style="font-size:.88rem">STL容器<sup>8</sup></a><a href="/tags/Svelte/" style="font-size:.88rem">Svelte<sup>1</sup></a><a href="/tags/css/" style="font-size:.88rem">css<sup>3</sup></a><a href="/tags/cst/" style="font-size:.88rem">cst<sup>1</sup></a><a href="/tags/git/" style="font-size:.88rem">git<sup>1</sup></a><a href="/tags/go/" style="font-size:.88rem">go<sup>1</sup></a><a href="/tags/hexo/" style="font-size:.88rem">hexo<sup>1</sup></a><a href="/tags/html/" style="font-size:.88rem">html<sup>3</sup></a><a href="/tags/http/" style="font-size:.88rem">http<sup>1</sup></a><a href="/tags/java/" style="font-size:.88rem">java<sup>1</sup></a><a href="/tags/leetcode/" style="font-size:.88rem">leetcode<sup>7</sup></a><a href="/tags/vue/" style="font-size:.88rem">vue<sup>1</sup></a><a href="/tags/vue3/" style="font-size:.88rem">vue3<sup>1</sup></a><a href="/tags/%E4%BA%8C%E5%8F%89%E6%A0%91/" style="font-size:.88rem">二叉树<sup>1</sup></a><a href="/tags/%E5%85%AB%E8%82%A1/" style="font-size:.88rem">八股<sup>1</sup></a><a href="/tags/%E5%88%86%E5%9D%97%E6%9F%A5%E6%89%BE/" style="font-size:.88rem">分块查找<sup>1</sup></a><a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size:.88rem;font-weight:500;color:var(--anzhiyu-lighttext)">前端<sup>2</sup></a><a href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" style="font-size:.88rem">前端开发<sup>3</sup></a><a href="/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" style="font-size:.88rem">动态规划<sup>1</sup></a><a href="/tags/%E5%8D%9A%E5%AE%A2/" style="font-size:.88rem">博客<sup>1</sup></a><a href="/tags/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/" style="font-size:.88rem">后端开发<sup>1</sup></a><a href="/tags/%E5%93%88%E5%B8%8C/" style="font-size:.88rem">哈希<sup>1</sup></a><a href="/tags/%E5%9B%BE%E8%AE%BA/" style="font-size:.88rem">图论<sup>1</sup></a><a href="/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/" style="font-size:.88rem">字符串<sup>1</sup></a><a href="/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/" style="font-size:.88rem">微信小程序<sup>1</sup></a><a href="/tags/%E6%8E%92%E5%BA%8F/" style="font-size:.88rem">排序<sup>1</sup></a><a href="/tags/%E6%8E%92%E5%BA%8F%E4%BA%8C%E5%8F%89%E6%A0%91/" style="font-size:.88rem">排序二叉树<sup>1</sup></a><a href="/tags/%E6%95%B0%E5%AD%A6/" style="font-size:.88rem">数学<sup>1</sup></a><a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size:.88rem">数据结构<sup>15</sup></a><a href="/tags/%E6%95%B0%E7%BB%84/" style="font-size:.88rem">数组<sup>1</sup></a><a href="/tags/%E6%B5%8B%E8%AF%95/" style="font-size:.88rem">测试<sup>1</sup></a><a href="/tags/%E8%93%9D%E6%A1%A5%E6%9D%AF/" style="font-size:.88rem">蓝桥杯<sup>1</sup></a><a href="/tags/%E9%80%92%E5%BD%92/" style="font-size:.88rem">递归<sup>1</sup></a><a href="/tags/%E9%93%BE%E8%A1%A8/" style="font-size:.88rem">链表<sup>1</sup></a><a href="/tags/%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/" style="font-size:.88rem">项目复盘<sup>1</sup></a></div></div><hr></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="anzhiyufont anzhiyu-icon-comments"></i></a><a id="switch-commentBarrage" href="javascript:anzhiyu.switchCommentBarrage();" title="开关弹幕"><i class="anzhiyufont anzhiyu-icon-danmu"></i></a><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="8152976493" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random" volume="0.7"></meting-js></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size:1rem"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8802438608&quot;, &quot;_blank&quot;);" style="display:none"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><script>function panguFn(){"object"==typeof pangu?pangu.autoSpacingPage():getScript("https://cdn.cbd.int/pangu@4.0.7/dist/browser/pangu.min.js").then(()=>{pangu.autoSpacingPage()})}function panguInit(){panguFn()}document.addEventListener("DOMContentLoaded",panguInit)</script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>var HoldLog=console.log;console.log=function(){};let now1=new Date;queueMicrotask(()=>{function o(){HoldLog.apply(console,arguments)}var c=new Date("10/15/2024 00:00:00"),c=(now1.setTime(now1.getTime()+250),(now1-c)/1e3/60/60/24),c=["欢迎使用安知鱼!","生活明朗, 万物可爱",`
        
       █████╗ ███╗   ██╗███████╗██╗  ██╗██╗██╗   ██╗██╗   ██╗
      ██╔══██╗████╗  ██║╚══███╔╝██║  ██║██║╚██╗ ██╔╝██║   ██║
      ███████║██╔██╗ ██║  ███╔╝ ███████║██║ ╚████╔╝ ██║   ██║
      ██╔══██║██║╚██╗██║ ███╔╝  ██╔══██║██║  ╚██╔╝  ██║   ██║
      ██║  ██║██║ ╚████║███████╗██║  ██║██║   ██║   ╚██████╔╝
      ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝   ╚═╝    ╚═════╝
        
        `,"已上线",Math.floor(c),"天","©2024 By 安知鱼 V1.6.14"],e=["NCC2-036","调用前置摄像头拍照成功，识别为【小笨蛋】.","Photo captured: ","🤪"];setTimeout(o.bind(console,`
%c${c[0]} %c ${c[1]} %c ${c[2]} %c${c[3]}%c ${c[4]}%c ${c[5]}

%c ${c[6]}
`,"color:#425AEF","","color:#425AEF","color:#425AEF","","color:#425AEF","")),setTimeout(o.bind(console,`%c ${e[0]} %c ${e[1]} %c 
${e[2]} %c
${e[3]}
`,"color:white; background-color:#4fd953","","",'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%')),setTimeout(o.bind(console,"%c WELCOME %c 你好，小笨蛋.","color:white; background-color:#4f90d9","")),setTimeout(console.warn.bind(console,"%c ⚡ Powered by 安知鱼 %c 你正在访问 寻觅~流光 的博客.","color:white; background-color:#f0ad4e","")),setTimeout(o.bind(console,"%c W23-12 %c 你已打开控制台.","color:white; background-color:#4f90d9","")),setTimeout(console.warn.bind(console,"%c S013-782 %c 你现在正处于监控中.","color:white; background-color:#d9534f",""))})</script><script async src="/anzhiyu/random.js"></script><script async>(()=>{var o,a,n,l,i,e=new Date("10/15/2024 00:00:00"),r=new Date;setInterval(()=>{var t;if(r=new Date,i=r.getHours(),t=(r-e)/1e3/60/60/24,o=Math.floor(t),t=(r-e)/1e3/60/60-24*o,a=Math.floor(t),1==String(a).length&&(a="0"+a),t=(r-e)/1e3/60-1440*o-60*a,n=Math.floor(t),1==String(n).length&&(n="0"+n),t=(r-e)/1e3-86400*o-3600*a-60*n,l=Math.round(t),1==String(l).length&&(l="0"+l),document.getElementById("footer")){let e="";e=(i<18&&9<=i||null!=(t=document.querySelector("#workboard .workSituationImg"))&&(t.src="https://img.shields.io/badge/%E5%8A%AA%E5%8A%9B%E5%AD%A6%E4%B9%A0%E4%B8%AD-white?style=social&amp;logo=%E5%AF%BB%E8%A7%85~%E6%B5%81%E5%85%89&amp;logoSize=auto&amp;label=%E5%AF%BB%E8%A7%85~%E6%B5%81%E5%85%89&amp;labelColor=%23ADD8E6&amp;color=fedcba&amp;cacheSeconds=3600&amp;link=https%3A%2F%2Fwww.8023time.com%2F",t.title="下课了也要卷起来，嘿嘿~",t.alt="下课了也要卷起来，嘿嘿~"),`本站居然运行了 ${o} 天<span id='runtime'> ${a} 小时 ${n} 分 ${l} 秒 </span><i class='anzhiyufont anzhiyu-icon-heartbeat' style='color:red'></i>`),document.getElementById("runtimeTextTip")&&(document.getElementById("runtimeTextTip").innerHTML=e)}},1e3)})()</script><div class="js-pjax"><script>(()=>{let t=()=>{twikoo.init(Object.assign({el:"#twikoo-wrap",envId:"https://twikoo.8023time.com/",region:"",onCommentLoaded:()=>{anzhiyu.loadLightbox(document.querySelectorAll("#twikoo .tk-content img:not(.tk-owo-emotion)"))}},null))};var o=()=>{"object"==typeof twikoo?setTimeout(n,0):getScript("https://cdn.cbd.int/twikoo@1.6.39/dist/twikoo.all.min.js").then(n)};let e=()=>{let o=document.getElementById("twikoo-count");o&&twikoo.getCommentsCount({envId:"https://twikoo.8023time.com/",region:"",urls:[window.location.pathname],includeReply:!1}).then(t=>{o.textContent=t[0].count}).catch(t=>{console.error(t)})},n=()=>{t(),GLOBAL_CONFIG_SITE.isPost&&e()};anzhiyu.loadComment(document.getElementById("twikoo-wrap"),o)})()</script><script>(()=>{let n=window.walineFn||null,i=a=>{let n=a(Object.assign({el:"#waline-wrap",serverURL:"",pageview:!1,dark:'html[data-theme="dark"]',path:window.location.pathname,comment:!1,imageUploader:!0},null));anzhiyu.addGlobalFn("pjax",()=>{n.destroy()},"destroyWaline")};var a=async()=>{var a;n?i(n):(await getCSS("https://cdn.cbd.int/@waline/client@3.1.3/dist/waline.css"),a=(await import("https://cdn.cbd.int/@waline/client@3.1.3/dist/waline.js")).init,n=a||Waline.init,i(n),window.walineFn=n)};window.loadOtherComment=a})()</script><input type="hidden" name="page-type" id="page-type" value="post"></div><script>window.addEventListener("load",()=>{let t=e=>e=""!==e&&150<(e=(e=(e=(e=e.replace(/<img.*?src="(.*?)"?[^\>]+>/gi,"[图片]")).replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi,"[链接]")).replace(/<pre><code>.*?<\/pre>/gi,"[代码]")).replace(/<[^>]+>/g,"")).length?e.substring(0,150)+"...":e,a=t=>{let a="";if(t.length)for(let e=0;e<t.length;e++)a=(a=(a+="<div class='aside-list-item'>")+`<a href='${t[e].url}' class='thumbnail'><img data-lazy-src='${t[e].avatar}' alt='${t[e].nick}'><div class='name'><span>${t[e].nick} </span></div></a>`)+`<div class='content'>
        <a class='comment' href='${t[e].url}' title='${t[e].content}'>${t[e].content}</a>
        <time datetime="${t[e].date}">${anzhiyu.diffDate(t[e].date,!0)}</time></div>
        </div>`;else a+="没有评论";var e=document.querySelector("#card-newest-comments .aside-list");e&&(e.innerHTML=a),window.lazyLoadInstance&&window.lazyLoadInstance.update(),window.pjax&&window.pjax.refresh(e)};var e=()=>{var e;document.querySelector("#card-newest-comments .aside-list")&&((e=saveToLocal.get("twikoo-newest-comments"))?a(JSON.parse(e)):(e=()=>{twikoo.getRecentComments({envId:"https://twikoo.8023time.com/",region:"",pageSize:6,includeReply:!0}).then(function(e){e=e.map(e=>({content:t(e.comment),avatar:e.avatar,nick:e.nick,url:e.url+"#"+e.id,date:new Date(e.created).toISOString()}));saveToLocal.set("twikoo-newest-comments",JSON.stringify(e),10/1440),a(e)}).catch(function(e){document.querySelector("#card-newest-comments .aside-list").textContent="无法获取评论，请确认相关配置是否正确"})},"object"==typeof twikoo?e():getScript("https://cdn.cbd.int/twikoo@1.6.39/dist/twikoo.all.min.js").then(e)))};e(),document.addEventListener("pjax:complete",e)})</script><script async data-pjax src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.1/bubble/bubble.js"></script><script>var visitorMail=""</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload='this.media="all"'><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors=['meta[property="og:image"]','meta[property="og:title"]','meta[property="og:url"]','meta[property="og:type"]','meta[property="og:site_name"]','meta[property="og:description"]',"head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"];var pjax=new Pjax({elements:'a:not([target="_blank"])',selectors:pjaxSelectors,cacheBust:!1,analytics:!1,scrollRestoration:!1});document.addEventListener("pjax:send",function(){if(anzhiyu.removeGlobalFnEvent("pjax"),anzhiyu.removeGlobalFnEvent("themeChange"),document.getElementById("rightside").classList.remove("rightside-show"),window.aplayers)for(let e=0;e<window.aplayers.length;e++)window.aplayers[e].options.fixed||window.aplayers[e].destroy();"object"==typeof typed&&typed.destroy();var e=document.body.classList;e.contains("read-mode")&&e.remove("read-mode")}),document.addEventListener("pjax:complete",function(){window.refreshFn(),document.querySelectorAll("script[data-pjax]").forEach(e=>{let t=document.createElement("script");var a=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach(e=>t.setAttribute(e.name,e.value)),t.appendChild(document.createTextNode(a)),e.parentNode.replaceChild(t,e)}),GLOBAL_CONFIG.islazyload&&window.lazyLoadInstance.update(),"function"==typeof panguInit&&panguInit(),"function"==typeof gtag&&gtag("config","",{page_path:window.location.pathname}),"object"==typeof _hmt&&_hmt.push(["_trackPageview",window.location.pathname]),"function"==typeof loadMeting&&document.getElementsByClassName("aplayer").length&&loadMeting(),"object"==typeof Prism&&Prism.highlightAll()}),document.addEventListener("pjax:error",e=>{404===e.request.status&&pjax.loadUrl("/404.html")})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"position":"left","width":200,"height":400},"mobile":{"show":false},"log":false});</script></body></html>