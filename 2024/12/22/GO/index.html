<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>Go | 寻觅~流光</title><meta name="author" content="寻觅~流光"><meta name="copyright" content="寻觅~流光"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Go开始1234567package mainimport &quot;fmt&quot;func main() &#123;    fmt.Println(&quot;hello world&quot;)&#125;  123456789101112要运行这个程序，先将将代码放到名为 hello-world.go 的文件中，然后执行 go run$ go run hello-world.gohe"><meta property="og:type" content="article"><meta property="og:title" content="Go"><meta property="og:url" content="https://8023time.github.io/2024/12/22/GO/index.html"><meta property="og:site_name" content="寻觅~流光"><meta property="og:description" content="Go开始1234567package mainimport &quot;fmt&quot;func main() &#123;    fmt.Println(&quot;hello world&quot;)&#125;  123456789101112要运行这个程序，先将将代码放到名为 hello-world.go 的文件中，然后执行 go run$ go run hello-world.gohe"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/Go-image/20241222013233.png"><meta property="article:published_time" content="2024-12-21T16:00:00.000Z"><meta property="article:modified_time" content="2024-12-22T15:28:21.868Z"><meta property="article:author" content="寻觅~流光"><meta property="article:tag" content="go"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/Go-image/20241222013233.png"><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/basic-img/avatar.jpg"><link rel="canonical" href="https://8023time.github.io/2024/12/22/GO/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>(()=>{let t={set:(e,t,a)=>{a&&(a=Date.now()+864e5*a,localStorage.setItem(e,JSON.stringify({value:t,expiry:a})))},get:e=>{var t=localStorage.getItem(e);if(t){var{value:t,expiry:a}=JSON.parse(t);if(!(Date.now()>a))return t;localStorage.removeItem(e)}}},a=(window.btf={saveToLocal:t,getScript:(o,r={})=>new Promise((e,t)=>{let a=document.createElement("script");a.src=o,a.async=!0,Object.entries(r).forEach(([e,t])=>a.setAttribute(e,t)),a.onload=a.onreadystatechange=()=>{a.readyState&&!/loaded|complete/.test(a.readyState)||e()},a.onerror=t,document.head.appendChild(a)}),getCSS:(o,r)=>new Promise((e,t)=>{let a=document.createElement("link");a.rel="stylesheet",a.href=o,r&&(a.id=r),a.onload=a.onreadystatechange=()=>{a.readyState&&!/loaded|complete/.test(a.readyState)||e()},a.onerror=t,document.head.appendChild(a)}),addGlobalFn:(e,t,a=!1,o=window)=>{var r;e.startsWith("pjax")||((r=o.globalFn||{})[e]=r[e]||{},a&&r[e][a])||(r[e][a||Object.keys(r[e]).length]=t,o.globalFn=r)}},()=>{document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")}),o=()=>{document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};btf.activateDarkMode=a,btf.activateLightMode=o;var r=t.get("theme"),n=window.matchMedia("(prefers-color-scheme: dark)"),d=window.matchMedia("(prefers-color-scheme: light)"),d=(void 0===r?((!d.matches&&(n.matches||(d=(new Date).getHours())<=8||21<=d)?a:o)(),n.addEventListener("change",()=>{void 0===t.get("theme")&&(e.matches?a:o)()})):("light"===r?o:a)(),t.get("aside-status"));void 0!==d&&document.documentElement.classList.toggle("hide-aside","hide"===d);/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})()</script><script>let GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:void 0,translate:void 0,noticeOutdate:void 0,highlight:{plugin:"highlight.js",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:!1,highlightFullpage:!1,highlightMacStyle:!0},copy:{success:"复制成功",error:"复制失败",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!1},runtime:"天",dateSuffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:void 0,lightbox:"null",Snackbar:void 0,infinitegrid:{js:"https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js",buttonText:"加载更多"},isPhotoFigcaption:!1,islazyload:!0,isAnchor:!1,percent:{toc:!0,rightside:!0},autoDarkmode:!0}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"Go",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2024-12-22 23:28:21"}</script><link rel="stylesheet" href="/css/universe.css"><meta name="generator" content="Hexo 7.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>(()=>{let e=document.getElementById("loading-box"),d=document.body;const o=()=>{d.style.overflow="",e.classList.add("loaded")},l=()=>{d.style.overflow="hidden",e.classList.remove("loaded")};l(),window.addEventListener("load",o)})()</script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/basic-img/avatar.jpg" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">43</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">34</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">11</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友联</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header" style="background-image:url(https://cdn.jsdelivr.net/gh/8023time/image-storage-address/Go-image/20241222013233.png)"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/basic-img/avatar.jpg" alt="Logo"><span class="site-name">寻觅~流光</span></a><a class="nav-page-title" href="/"><span class="site-name">Go</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友联</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">Go</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon far fa-calendar-alt"></i><span class="post-meta-label">发表于</span><time datetime="2024-12-21T16:00:00.000Z" title="发表于 2024-12-22 00:00:00">2024-12-22</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/go/">go</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">8.4k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>34分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="Go"><a href="#Go" class="headerlink" title="Go"></a>Go</h1><h2 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;hello world&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">要运行这个程序，先将将代码放到名为 hello-world.<span class="keyword">go</span> 的文件中，然后执行 <span class="keyword">go</span> run</span><br><span class="line">$ <span class="keyword">go</span> run hello-world.<span class="keyword">go</span></span><br><span class="line">hello world</span><br><span class="line"></span><br><span class="line">如果我们想将程序编译成二进制文件（Windows 平台是 .exe 可执行文件）， 可以通过 <span class="keyword">go</span> build 来达到目的。</span><br><span class="line">$ <span class="keyword">go</span> build hello-world.<span class="keyword">go</span></span><br><span class="line">$ ls</span><br><span class="line">hello-world    hello-world.<span class="keyword">go</span></span><br><span class="line"></span><br><span class="line">然后我们可以直接运行这个二进制文件。</span><br><span class="line">$ ./hello-world</span><br><span class="line">hello world</span><br></pre></td></tr></table></figure><h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// var 声明 1 个或者多个变量。</span></span><br><span class="line">    <span class="keyword">var</span> a = <span class="string">&quot;initial&quot;</span></span><br><span class="line">    fmt.Println(a)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> b, c <span class="type">int</span> = <span class="number">1</span>, <span class="number">2</span></span><br><span class="line">    fmt.Println(b, c)</span><br><span class="line">	<span class="comment">// Go 会自动推断已经有初始值的变量的类型。</span></span><br><span class="line">    <span class="keyword">var</span> d = <span class="literal">true</span></span><br><span class="line">    fmt.Println(d)</span><br><span class="line">	<span class="comment">// 声明后却没有给出对应的初始值时，变量将会初始化为 零值 </span></span><br><span class="line">    <span class="keyword">var</span> e <span class="type">int</span></span><br><span class="line">    fmt.Println(e)</span><br><span class="line">	<span class="comment">// := 语法是声明并初始化变量的简写， 例如 var f string = &quot;short&quot; 可以简写为右边这样</span></span><br><span class="line">    f := <span class="string">&quot;short&quot;</span></span><br><span class="line">    fmt.Println(f)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="keyword">go</span> run variables.<span class="keyword">go</span></span><br><span class="line">initial</span><br><span class="line"><span class="number">1</span> <span class="number">2</span></span><br><span class="line"><span class="literal">true</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line">short</span><br></pre></td></tr></table></figure><h2 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;math&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> s <span class="type">string</span> = <span class="string">&quot;constant&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    fmt.Println(s)</span><br><span class="line">	<span class="comment">// const 语句可以出现在任何 var 语句可以出现的地方</span></span><br><span class="line">    <span class="keyword">const</span> n = <span class="number">500000000</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> d = <span class="number">3e20</span> / n</span><br><span class="line">    fmt.Println(d)</span><br><span class="line">	<span class="comment">// 数值型常量没有确定的类型，直到被给定某个类型，比如显式类型转化。</span></span><br><span class="line">    fmt.Println(<span class="type">int64</span>(d))</span><br><span class="line">	<span class="comment">// 一个数字可以根据上下文的需要（比如变量赋值、函数调用）自动确定类型。</span></span><br><span class="line">    fmt.Println(math.Sin(n))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="keyword">go</span> run constant.<span class="keyword">go</span> </span><br><span class="line">constant</span><br><span class="line"><span class="number">6e+11</span></span><br><span class="line"><span class="number">600000000000</span></span><br><span class="line"><span class="number">-0.28470407323754404</span></span><br></pre></td></tr></table></figure><h2 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h2><blockquote><p><code>for</code> 是 Go 中唯一的循环结构。这里会展示 <code>for</code> 循环的一些基本使用方式。</p></blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    i := <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> i &lt;= <span class="number">3</span> &#123;</span><br><span class="line">        fmt.Println(i)</span><br><span class="line">        i = i + <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> j := <span class="number">7</span>; j &lt;= <span class="number">9</span>; j++ &#123;</span><br><span class="line">        fmt.Println(j)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;loop&quot;</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> n := <span class="number">0</span>; n &lt;= <span class="number">5</span>; n++ &#123;</span><br><span class="line">        <span class="keyword">if</span> n%<span class="number">2</span> == <span class="number">0</span> &#123;</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Println(n)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="keyword">go</span> run <span class="keyword">for</span>.<span class="keyword">go</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">7</span></span><br><span class="line"><span class="number">8</span></span><br><span class="line"><span class="number">9</span></span><br><span class="line">loop</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">5</span></span><br></pre></td></tr></table></figure><h2 id="if-else分支"><a href="#if-else分支" class="headerlink" title="if&#x2F;else分支"></a>if&#x2F;else分支</h2><blockquote><p>注意，在 Go 中，条件语句的圆括号不是必需的，但是花括号是必需的。</p><p>Go 没有三目运算符， 即使是基本的条件判断，依然需要使用完整的 <code>if</code> 语句。</p></blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="number">7</span>%<span class="number">2</span> == <span class="number">0</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;7 is even&quot;</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;7 is odd&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="number">8</span>%<span class="number">4</span> == <span class="number">0</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;8 is divisible by 4&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> num := <span class="number">9</span>; num &lt; <span class="number">0</span> &#123;</span><br><span class="line">        fmt.Println(num, <span class="string">&quot;is negative&quot;</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> num &lt; <span class="number">10</span> &#123;</span><br><span class="line">        fmt.Println(num, <span class="string">&quot;has 1 digit&quot;</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        fmt.Println(num, <span class="string">&quot;has multiple digits&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="keyword">go</span> run <span class="keyword">if</span>-<span class="keyword">else</span>.<span class="keyword">go</span> </span><br><span class="line"><span class="number">7</span> is odd</span><br><span class="line"><span class="number">8</span> is divisible by <span class="number">4</span></span><br><span class="line"><span class="number">9</span> has <span class="number">1</span> digit</span><br></pre></td></tr></table></figure><h2 id="switch分支"><a href="#switch分支" class="headerlink" title="switch分支"></a>switch分支</h2><blockquote><p><em>switch</em> 是多分支情况时快捷的条件语句。</p></blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    i := <span class="number">2</span></span><br><span class="line">    fmt.Print(<span class="string">&quot;write &quot;</span>, i, <span class="string">&quot; as &quot;</span>)</span><br><span class="line">    <span class="keyword">switch</span> i &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        fmt.Println(<span class="string">&quot;one&quot;</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">        fmt.Println(<span class="string">&quot;two&quot;</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">        fmt.Println(<span class="string">&quot;three&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">switch</span> time.Now().Weekday() &#123;</span><br><span class="line">    <span class="keyword">case</span> time.Saturday, time.Sunday:</span><br><span class="line">        fmt.Println(<span class="string">&quot;It&#x27;s the weekend&quot;</span>)</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        fmt.Println(<span class="string">&quot;It&#x27;s a weekday&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    t := time.Now()</span><br><span class="line">    <span class="keyword">switch</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> t.Hour() &lt; <span class="number">12</span>:</span><br><span class="line">        fmt.Println(<span class="string">&quot;It&#x27;s before noon&quot;</span>)</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        fmt.Println(<span class="string">&quot;It&#x27;s after noon&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    whatAmI := <span class="function"><span class="keyword">func</span><span class="params">(i <span class="keyword">interface</span>&#123;&#125;)</span></span> &#123;</span><br><span class="line">        <span class="keyword">switch</span> t := i.(<span class="keyword">type</span>) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="type">bool</span>:</span><br><span class="line">            fmt.Println(<span class="string">&quot;I&#x27;m a bool&quot;</span>)</span><br><span class="line">        <span class="keyword">case</span> <span class="type">int</span>:</span><br><span class="line">            fmt.Println(<span class="string">&quot;I&#x27;m an int&quot;</span>)</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            fmt.Printf(<span class="string">&quot;Don&#x27;t know type %T\n&quot;</span>, t)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    whatAmI(<span class="literal">true</span>)</span><br><span class="line">    whatAmI(<span class="number">1</span>)</span><br><span class="line">    whatAmI(<span class="string">&quot;hey&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="keyword">go</span> run <span class="keyword">switch</span>.<span class="keyword">go</span></span><br><span class="line">Write <span class="number">2</span> as two</span><br><span class="line">It<span class="string">&#x27;s a weekday</span></span><br><span class="line"><span class="string">It&#x27;</span>s after noon</span><br><span class="line">I<span class="string">&#x27;m a bool</span></span><br><span class="line"><span class="string">I&#x27;</span>m an <span class="type">int</span></span><br><span class="line">Don<span class="string">&#x27;t know type string</span></span><br></pre></td></tr></table></figure><h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><p>在 Go 语言中，数组（Array）是一种固定长度的集合类型，它存储一组同类型的元素。数组的长度是固定的，一旦定义了数组的大小，就不能改变。</p><h3 id="1-数组的定义"><a href="#1-数组的定义" class="headerlink" title="1. 数组的定义"></a>1. 数组的定义</h3><p>数组的定义包括指定元素的类型和数组的长度。例如，一个存储 5 个整数的数组可以这样定义：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr [<span class="number">5</span>]<span class="type">int</span>  <span class="comment">// 定义一个长度为 5 的整数数组</span></span><br></pre></td></tr></table></figure><p>也可以在定义时直接初始化数组的元素：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">3</span>]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;  <span class="comment">// 定义并初始化数组</span></span><br></pre></td></tr></table></figure><p>或者 Go 支持根据初始化值自动推导数组的长度：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [...]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;  <span class="comment">// 自动推导长度为 3</span></span><br></pre></td></tr></table></figure><h3 id="2-数组的访问和修改"><a href="#2-数组的访问和修改" class="headerlink" title="2. 数组的访问和修改"></a>2. 数组的访问和修改</h3><p>数组的元素通过索引访问，索引从 0 开始。可以通过下标访问和修改数组的元素：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">arr := [<span class="number">3</span>]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line">fmt.Println(arr[<span class="number">0</span>])  <span class="comment">// 输出 1</span></span><br><span class="line">arr[<span class="number">1</span>] = <span class="number">10</span>         <span class="comment">// 修改第二个元素</span></span><br><span class="line">fmt.Println(arr[<span class="number">1</span>])  <span class="comment">// 输出 10</span></span><br></pre></td></tr></table></figure><h3 id="3-数组的长度"><a href="#3-数组的长度" class="headerlink" title="3. 数组的长度"></a>3. 数组的长度</h3><p>数组的长度是固定的，可以使用 <code>len()</code> 函数获取数组的长度：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr := [<span class="number">3</span>]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line">fmt.Println(<span class="built_in">len</span>(arr))  <span class="comment">// 输出 3</span></span><br></pre></td></tr></table></figure><h3 id="4-数组的传递"><a href="#4-数组的传递" class="headerlink" title="4. 数组的传递"></a>4. 数组的传递</h3><p>在 Go 中，数组是值类型，当你将一个数组作为参数传递给函数时，实际上是传递了该数组的副本。如果你修改了副本中的元素，原始数组不会受到影响。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">modifyArray</span><span class="params">(arr [3]<span class="type">int</span>)</span></span> &#123;</span><br><span class="line">    arr[<span class="number">0</span>] = <span class="number">100</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">arr := [<span class="number">3</span>]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line">modifyArray(arr)</span><br><span class="line">fmt.Println(arr)  <span class="comment">// 输出 [1, 2, 3]，原始数组没有被修改</span></span><br></pre></td></tr></table></figure><p>如果你希望修改原数组的内容，可以传递指向数组的指针：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">modifyArray</span><span class="params">(arr *[3]<span class="type">int</span>)</span></span> &#123;</span><br><span class="line">    arr[<span class="number">0</span>] = <span class="number">100</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">arr := [<span class="number">3</span>]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line">modifyArray(&amp;arr)</span><br><span class="line">fmt.Println(arr)  <span class="comment">// 输出 [100, 2, 3]，原数组已被修改</span></span><br></pre></td></tr></table></figure><h3 id="5-多维数组"><a href="#5-多维数组" class="headerlink" title="5. 多维数组"></a>5. 多维数组</h3><p>Go 支持多维数组，可以通过嵌套的方式定义多维数组。例如，定义一个 2 行 3 列的数组：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr [<span class="number">2</span>][<span class="number">3</span>]<span class="type">int</span></span><br><span class="line">arr[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">1</span></span><br><span class="line">arr[<span class="number">0</span>][<span class="number">1</span>] = <span class="number">2</span></span><br><span class="line">arr[<span class="number">0</span>][<span class="number">2</span>] = <span class="number">3</span></span><br><span class="line">arr[<span class="number">1</span>][<span class="number">0</span>] = <span class="number">4</span></span><br><span class="line">arr[<span class="number">1</span>][<span class="number">1</span>] = <span class="number">5</span></span><br><span class="line">arr[<span class="number">1</span>][<span class="number">2</span>] = <span class="number">6</span></span><br><span class="line">fmt.Println(arr)</span><br></pre></td></tr></table></figure><p>输出：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[[<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>] [<span class="number">4</span> <span class="number">5</span> <span class="number">6</span>]]</span><br></pre></td></tr></table></figure><h3 id="6-数组的初始化"><a href="#6-数组的初始化" class="headerlink" title="6. 数组的初始化"></a>6. 数组的初始化</h3><p>数组可以在声明时进行初始化，也可以在定义之后进行逐一赋值。以下是几种初始化数组的方式：</p><ul><li><p>声明并初始化：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr := [<span class="number">3</span>]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;  <span class="comment">// 定义并初始化数组</span></span><br></pre></td></tr></table></figure></li><li><p>使用 <code>...</code> 自动推导数组长度：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr := [...]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;  <span class="comment">// 自动推导数组长度为 3</span></span><br></pre></td></tr></table></figure></li><li><p>使用 <code>new</code> 函数创建一个指向数组的指针：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">arr := <span class="built_in">new</span>([<span class="number">3</span>]<span class="type">int</span>)  <span class="comment">// 创建一个指向长度为 3 的数组的指针</span></span><br><span class="line">arr[<span class="number">0</span>] = <span class="number">10</span></span><br><span class="line">fmt.Println(arr)  <span class="comment">// 输出 &amp;[10 0 0]</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="7-数组与切片的区别"><a href="#7-数组与切片的区别" class="headerlink" title="7. 数组与切片的区别"></a>7. 数组与切片的区别</h3><p>数组和切片的区别是一个重要的概念，尤其是 Go 语言的切片（Slice）非常常用。切片是对数组的一个抽象，允许灵活的动态扩展和缩减，而数组的大小是固定的。</p><ul><li><strong>数组</strong>：长度固定，类型和值传递。</li><li><strong>切片</strong>：动态大小，引用传递，可以灵活扩展。</li></ul><p>示例，使用切片：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">arr := [<span class="number">3</span>]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;    <span class="comment">// 数组</span></span><br><span class="line">slice := arr[:]           <span class="comment">// 切片</span></span><br><span class="line">fmt.Println(slice)        <span class="comment">// 输出 [1 2 3]</span></span><br></pre></td></tr></table></figure><h3 id="8-数组的应用场景"><a href="#8-数组的应用场景" class="headerlink" title="8. 数组的应用场景"></a>8. 数组的应用场景</h3><p>数组在 Go 中通常用于以下几种情况：</p><ul><li>当需要固定大小的数据集合时。</li><li>需要用到固定大小的内存时（例如嵌入式系统或性能优化的场景）。</li><li>数组的值传递方式可以避免不必要的内存共享，确保数据不会被意外修改。</li></ul><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><ul><li>Go 语言中的数组是固定长度的，定义时需要指定数组的长度。</li><li>数组通过下标访问和修改元素，且下标从 0 开始。</li><li>Go 中的数组是值类型，传递数组时会复制副本。如果希望修改原始数组，需要传递指针。</li><li>Go 支持多维数组，可以使用嵌套方式定义。</li><li>数组与切片不同，切片更灵活且常用于实际编程中。</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> a [<span class="number">5</span>]<span class="type">int</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;emp:&quot;</span>, a)</span><br><span class="line"></span><br><span class="line">    a[<span class="number">4</span>] = <span class="number">100</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;set:&quot;</span>, a)</span><br><span class="line">    fmt.Println(<span class="string">&quot;get:&quot;</span>, a[<span class="number">4</span>])</span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;len:&quot;</span>, <span class="built_in">len</span>(a))</span><br><span class="line"></span><br><span class="line">    b := [<span class="number">5</span>]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line">    fmt.Println(<span class="string">&quot;dcl:&quot;</span>, b)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> twoD [<span class="number">2</span>][<span class="number">3</span>]<span class="type">int</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">2</span>; i++ &#123;</span><br><span class="line">        <span class="keyword">for</span> j := <span class="number">0</span>; j &lt; <span class="number">3</span>; j++ &#123;</span><br><span class="line">            twoD[i][j] = i + j</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(<span class="string">&quot;2d: &quot;</span>, twoD)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="keyword">go</span> run arrays.<span class="keyword">go</span></span><br><span class="line">emp: [<span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span>]</span><br><span class="line">set: [<span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">100</span>]</span><br><span class="line">get: <span class="number">100</span></span><br><span class="line"><span class="built_in">len</span>: <span class="number">5</span></span><br><span class="line">dcl: [<span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span>]</span><br><span class="line"><span class="number">2</span>d:  [[<span class="number">0</span> <span class="number">1</span> <span class="number">2</span>] [<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]]</span><br></pre></td></tr></table></figure><h2 id="切片"><a href="#切片" class="headerlink" title="切片"></a>切片</h2><p>在 Go 语言中，<code>slice</code>（切片）是一种灵活、动态的数组类型，它是对数组的一个引用，具有更高效的内存管理和更灵活的功能。切片不像数组那样具有固定的长度，它可以动态增长和缩小。</p><h3 id="1-创建切片"><a href="#1-创建切片" class="headerlink" title="1. 创建切片"></a>1. <strong>创建切片</strong></h3><ul><li><p>切片的创建有几种方式：</p><ul><li><p><strong>使用 <code>make</code> 函数：</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">slice := <span class="built_in">make</span>([]<span class="type">int</span>, <span class="number">5</span>) <span class="comment">// 创建一个长度为5的切片</span></span><br></pre></td></tr></table></figure><p>你还可以指定切片的容量：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">slice := <span class="built_in">make</span>([]<span class="type">int</span>, <span class="number">5</span>, <span class="number">10</span>) <span class="comment">// 创建一个长度为5，容量为10的切片</span></span><br></pre></td></tr></table></figure></li><li><p><strong>直接使用数组字面量：</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">slice := []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125; <span class="comment">// 创建一个包含5个元素的切片</span></span><br></pre></td></tr></table></figure></li></ul></li></ul><h3 id="2-切片的属性"><a href="#2-切片的属性" class="headerlink" title="2. 切片的属性"></a>2. <strong>切片的属性</strong></h3><ul><li><p>每个切片都包含三个基本属性：</p><ul><li><strong>指针（Pointer）：</strong> 指向底层数组的指针。</li><li><strong>长度（Length）：</strong> 切片中元素的数量。</li><li><strong>容量（Capacity）：</strong> 切片底层数组的大小，从切片的起始位置到底层数组的末尾。</li></ul><p>你可以通过 <code>len()</code> 和 <code>cap()</code> 函数获取切片的长度和容量：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fmt.Println(<span class="built_in">len</span>(slice)) <span class="comment">// 输出切片的长度</span></span><br><span class="line">fmt.Println(<span class="built_in">cap</span>(slice)) <span class="comment">// 输出切片的容量</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="3-切片的切割操作"><a href="#3-切片的切割操作" class="headerlink" title="3. 切片的切割操作"></a>3. <strong>切片的切割操作</strong></h3><ul><li><p>切片可以从另一个切片或数组中通过索引和范围来切割：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">slice := []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line">subSlice := slice[<span class="number">1</span>:<span class="number">4</span>] <span class="comment">// 获取从索引1到索引3的元素</span></span><br><span class="line">fmt.Println(subSlice)  <span class="comment">// 输出: [2 3 4]</span></span><br></pre></td></tr></table></figure><p>你还可以指定切片的容量：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">subSlice := slice[<span class="number">1</span>:<span class="number">4</span>:<span class="number">5</span>] <span class="comment">// 切片从索引1到索引3，容量为5</span></span><br><span class="line">fmt.Println(subSlice)    <span class="comment">// 输出: [2 3 4]</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="4-动态扩展切片"><a href="#4-动态扩展切片" class="headerlink" title="4. 动态扩展切片"></a>4. <strong>动态扩展切片</strong></h3><ul><li><p>使用 <code>append</code> 扩展切片：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">slice := []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line">slice = <span class="built_in">append</span>(slice, <span class="number">4</span>, <span class="number">5</span>) <span class="comment">// 扩展切片</span></span><br><span class="line">fmt.Println(slice)          <span class="comment">// 输出: [1 2 3 4 5]</span></span><br></pre></td></tr></table></figure></li></ul><p>​	<code>append</code> 函数用于向切片中添加元素，并且如果需要，它会自动调整切片的容量。</p><h3 id="5-删除切片元素"><a href="#5-删除切片元素" class="headerlink" title="5. 删除切片元素"></a>5. <strong>删除切片元素</strong></h3><ul><li><p>删除指定索引的元素：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">slice = <span class="built_in">append</span>(slice[:index], slice[index+<span class="number">1</span>:]...)</span><br><span class="line">slice := []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line">slice = <span class="built_in">append</span>(slice[:<span class="number">2</span>], slice[<span class="number">3</span>:]...) <span class="comment">// 删除索引2的元素</span></span><br><span class="line">fmt.Println(slice)  <span class="comment">// 输出: [1 2 4 5]</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="6-切片的反转"><a href="#6-切片的反转" class="headerlink" title="6. 切片的反转"></a>6. <strong>切片的反转</strong></h3><ul><li><p>反转切片元素：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(slice)/<span class="number">2</span>; i++ &#123;</span><br><span class="line">    slice[i], slice[<span class="built_in">len</span>(slice)<span class="number">-1</span>-i] = slice[<span class="built_in">len</span>(slice)<span class="number">-1</span>-i], slice[i]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="7-切片的查找"><a href="#7-切片的查找" class="headerlink" title="7. 切片的查找"></a>7. <strong>切片的查找</strong></h3><ul><li><p>查找指定元素：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">found := <span class="literal">false</span></span><br><span class="line"><span class="keyword">for</span> _, v := <span class="keyword">range</span> slice &#123;</span><br><span class="line">    <span class="keyword">if</span> v == target &#123;</span><br><span class="line">        found = <span class="literal">true</span></span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="8-切片的分块"><a href="#8-切片的分块" class="headerlink" title="8. 切片的分块"></a>8. <strong>切片的分块</strong></h3><ul><li><p>将切片分割成多个小块：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">chunk</span><span class="params">(slice []<span class="type">int</span>, size <span class="type">int</span>)</span></span> [][]<span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> chunks [][]<span class="type">int</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(slice); i += size &#123;</span><br><span class="line">        end := i + size</span><br><span class="line">        <span class="keyword">if</span> end &gt; <span class="built_in">len</span>(slice) &#123;</span><br><span class="line">            end = <span class="built_in">len</span>(slice)</span><br><span class="line">        &#125;</span><br><span class="line">        chunks = <span class="built_in">append</span>(chunks, slice[i:end])</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> chunks</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="9-切片排序"><a href="#9-切片排序" class="headerlink" title="9. 切片排序"></a>9. <strong>切片排序</strong></h3><ul><li><p>对切片进行排序：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&quot;sort&quot;</span></span><br><span class="line">sort.Ints(slice)  <span class="comment">// 对整数切片进行升序排序</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="10-删除重复元素"><a href="#10-删除重复元素" class="headerlink" title="10. 删除重复元素"></a>10. <strong>删除重复元素</strong></h3><ul><li><p>去除切片中的重复元素：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">removeDuplicates</span><span class="params">(slice []<span class="type">int</span>)</span></span> []<span class="type">int</span> &#123;</span><br><span class="line">    seen := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">int</span>]<span class="keyword">struct</span>&#123;&#125;)</span><br><span class="line">    result := []<span class="type">int</span>&#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> _, v := <span class="keyword">range</span> slice &#123;</span><br><span class="line">        <span class="keyword">if</span> _, ok := seen[v]; !ok &#123;</span><br><span class="line">            seen[v] = <span class="keyword">struct</span>&#123;&#125;&#123;&#125;</span><br><span class="line">            result = <span class="built_in">append</span>(result, v)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="11-copy-函数"><a href="#11-copy-函数" class="headerlink" title="11. copy 函数"></a>11. <strong><code>copy</code> 函数</strong></h3><ul><li><p>复制切片内容：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">copy</span>(dst, src) <span class="comment">// 将 src 的内容复制到 dst</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h3><p>Go 切片提供了高效且灵活的操作方式，以下是常见的切片操作总结：</p><ul><li><strong>创建</strong>：通过 <code>make</code> 或字面量创建。</li><li><strong>切割</strong>：使用切片操作符可以截取切片的部分。</li><li><strong>扩展</strong>：通过 <code>append</code> 函数动态扩展切片。</li><li><strong>删除</strong>：通过 <code>append</code> 删除切片中的元素。</li><li><strong>反转</strong>：通过交换元素实现反转。</li><li><strong>查找</strong>：通过遍历切片查找元素。</li><li><strong>分块</strong>：将切片分割成多个小块。</li><li><strong>排序</strong>：使用标准库中的 <code>sort</code> 对切片进行排序。</li><li><strong>去重</strong>：通过 <code>map</code> 去除切片中的重复元素。</li><li><strong>复制</strong>：使用 <code>copy</code> 将一个切片的内容复制到另一个切片中。</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    s := <span class="built_in">make</span>([]<span class="type">string</span>, <span class="number">3</span>)</span><br><span class="line">    fmt.Println(<span class="string">&quot;emp:&quot;</span>, s)</span><br><span class="line"></span><br><span class="line">    s[<span class="number">0</span>] = <span class="string">&quot;a&quot;</span></span><br><span class="line">    s[<span class="number">1</span>] = <span class="string">&quot;b&quot;</span></span><br><span class="line">    s[<span class="number">2</span>] = <span class="string">&quot;c&quot;</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;set:&quot;</span>, s)</span><br><span class="line">    fmt.Println(<span class="string">&quot;get:&quot;</span>, s[<span class="number">2</span>])</span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;len:&quot;</span>, <span class="built_in">len</span>(s))</span><br><span class="line"></span><br><span class="line">    s = <span class="built_in">append</span>(s, <span class="string">&quot;d&quot;</span>)</span><br><span class="line">    s = <span class="built_in">append</span>(s, <span class="string">&quot;e&quot;</span>, <span class="string">&quot;f&quot;</span>)</span><br><span class="line">    fmt.Println(<span class="string">&quot;apd:&quot;</span>, s)</span><br><span class="line"></span><br><span class="line">    c := <span class="built_in">make</span>([]<span class="type">string</span>, <span class="built_in">len</span>(s))</span><br><span class="line">    <span class="built_in">copy</span>(c, s)</span><br><span class="line">    fmt.Println(<span class="string">&quot;cpy:&quot;</span>, c)</span><br><span class="line"></span><br><span class="line">    l := s[<span class="number">2</span>:<span class="number">5</span>]</span><br><span class="line">    fmt.Println(<span class="string">&quot;sl1:&quot;</span>, l)</span><br><span class="line"></span><br><span class="line">    l = s[:<span class="number">5</span>]</span><br><span class="line">    fmt.Println(<span class="string">&quot;sl2:&quot;</span>, l)</span><br><span class="line"></span><br><span class="line">    l = s[<span class="number">2</span>:]</span><br><span class="line">    fmt.Println(<span class="string">&quot;sl3:&quot;</span>, l)</span><br><span class="line"></span><br><span class="line">    t := []<span class="type">string</span>&#123;<span class="string">&quot;g&quot;</span>, <span class="string">&quot;h&quot;</span>, <span class="string">&quot;i&quot;</span>&#125;</span><br><span class="line">    fmt.Println(<span class="string">&quot;dcl:&quot;</span>, t)</span><br><span class="line"></span><br><span class="line">    twoD := <span class="built_in">make</span>([][]<span class="type">int</span>, <span class="number">3</span>)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">3</span>; i++ &#123;</span><br><span class="line">        innerLen := i + <span class="number">1</span></span><br><span class="line">        twoD[i] = <span class="built_in">make</span>([]<span class="type">int</span>, innerLen)</span><br><span class="line">        <span class="keyword">for</span> j := <span class="number">0</span>; j &lt; innerLen; j++ &#123;</span><br><span class="line">            twoD[i][j] = i + j</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(<span class="string">&quot;2d: &quot;</span>, twoD)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="keyword">go</span> run slices.<span class="keyword">go</span></span><br><span class="line">emp: [  ]</span><br><span class="line">set: [a b c]</span><br><span class="line">get: c</span><br><span class="line"><span class="built_in">len</span>: <span class="number">3</span></span><br><span class="line">apd: [a b c d e f]</span><br><span class="line">cpy: [a b c d e f]</span><br><span class="line">sl1: [c d e]</span><br><span class="line">sl2: [a b c d e]</span><br><span class="line">sl3: [c d e f]</span><br><span class="line">dcl: [g h i]</span><br><span class="line"><span class="number">2</span>d:  [[<span class="number">0</span>] [<span class="number">1</span> <span class="number">2</span>] [<span class="number">2</span> <span class="number">3</span> <span class="number">4</span>]]</span><br></pre></td></tr></table></figure><h2 id="map"><a href="#map" class="headerlink" title="map"></a>map</h2><p>在Go语言中，<code>map</code> 是一种内建的数据类型，用于存储键值对（key-value pairs）。它类似于其他语言中的哈希表或字典，能够快速地根据键查找对应的值。</p><h3 id="1-创建-map"><a href="#1-创建-map" class="headerlink" title="1. 创建 map"></a>1. 创建 <code>map</code></h3><p>Go语言中的 <code>map</code> 可以通过内建的 <code>make</code> 函数或者字面量（literal）来创建。</p><h4 id="使用-make-函数"><a href="#使用-make-函数" class="headerlink" title="使用 make 函数"></a>使用 <code>make</code> 函数</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">m := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>)</span><br></pre></td></tr></table></figure><p>上面的代码创建了一个空的 <code>map</code>，键为 <code>string</code> 类型，值为 <code>int</code> 类型。</p><h4 id="使用字面量（literal）创建"><a href="#使用字面量（literal）创建" class="headerlink" title="使用字面量（literal）创建"></a>使用字面量（literal）创建</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">m := <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>&#123;</span><br><span class="line">    <span class="string">&quot;apple&quot;</span>:  <span class="number">5</span>,</span><br><span class="line">    <span class="string">&quot;banana&quot;</span>: <span class="number">3</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>上面的代码创建了一个初始包含两个键值对的 <code>map</code>。</p><h3 id="2-向-map-中添加和更新元素"><a href="#2-向-map-中添加和更新元素" class="headerlink" title="2. 向 map 中添加和更新元素"></a>2. 向 <code>map</code> 中添加和更新元素</h3><p>你可以直接通过键来添加或更新值：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">m[<span class="string">&quot;apple&quot;</span>] = <span class="number">10</span>  <span class="comment">// 更新值</span></span><br><span class="line">m[<span class="string">&quot;orange&quot;</span>] = <span class="number">7</span>  <span class="comment">// 添加新元素</span></span><br></pre></td></tr></table></figure><h3 id="3-获取-map-中的值"><a href="#3-获取-map-中的值" class="headerlink" title="3. 获取 map 中的值"></a>3. 获取 <code>map</code> 中的值</h3><p>通过键来访问对应的值：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">value := m[<span class="string">&quot;apple&quot;</span>]</span><br><span class="line">fmt.Println(value)  <span class="comment">// 输出 10</span></span><br></pre></td></tr></table></figure><h3 id="4-删除-map-中的元素"><a href="#4-删除-map-中的元素" class="headerlink" title="4. 删除 map 中的元素"></a>4. 删除 <code>map</code> 中的元素</h3><p>使用 <code>delete</code> 函数来删除指定键的元素：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">delete</span>(m, <span class="string">&quot;banana&quot;</span>)  <span class="comment">// 删除键为&quot;banana&quot;的元素</span></span><br></pre></td></tr></table></figure><h3 id="5-检查键是否存在"><a href="#5-检查键是否存在" class="headerlink" title="5. 检查键是否存在"></a>5. 检查键是否存在</h3><p>通过多返回值的方式来判断键是否存在。如果键存在，第二个返回值为 <code>true</code>，否则为 <code>false</code>。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">value, ok := m[<span class="string">&quot;apple&quot;</span>]</span><br><span class="line"><span class="keyword">if</span> ok &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;Found:&quot;</span>, value)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;Not found&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-遍历-map"><a href="#6-遍历-map" class="headerlink" title="6. 遍历 map"></a>6. 遍历 <code>map</code></h3><p>使用 <code>for</code> 循环来遍历 <code>map</code> 的所有键值对：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> key, value := <span class="keyword">range</span> m &#123;</span><br><span class="line">    fmt.Println(key, value)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="7-map-的特性"><a href="#7-map-的特性" class="headerlink" title="7. map 的特性"></a>7. <code>map</code> 的特性</h3><ul><li><strong>无序性</strong>：<code>map</code> 中的元素是无序的，遍历时顺序是随机的。</li><li><strong>线程不安全</strong>：在多线程（goroutines）中并发修改同一个 <code>map</code> 时，Go 运行时会引发恐慌（panic）。如果需要并发访问 <code>map</code>，应使用 <code>sync.Mutex</code> 或者 <code>sync.RWMutex</code> 来加锁。</li></ul><h3 id="8-map-的容量"><a href="#8-map-的容量" class="headerlink" title="8. map 的容量"></a>8. <code>map</code> 的容量</h3><p>可以使用 <code>len()</code> 函数获取 <code>map</code> 中元素的数量：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fmt.Println(<span class="built_in">len</span>(m))  <span class="comment">// 输出 map 中的元素个数</span></span><br></pre></td></tr></table></figure><h3 id="9-空-map-和-nil-map"><a href="#9-空-map-和-nil-map" class="headerlink" title="9. 空 map 和 nil map"></a>9. 空 <code>map</code> 和 <code>nil</code>map</h3><ul><li>如果 <code>map</code> 没有被初始化（<code>nil</code>），则它的行为类似于空 <code>map</code>，但是尝试向 <code>nil</code> <code>map</code> 中添加或删除元素会引发运行时错误。</li><li>可以使用 <code>make</code> 函数初始化一个空 <code>map</code>。</li></ul><h4 id="示例代码："><a href="#示例代码：" class="headerlink" title="示例代码："></a>示例代码：</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// 创建一个 map</span></span><br><span class="line">    m := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 向 map 中添加元素</span></span><br><span class="line">    m[<span class="string">&quot;apple&quot;</span>] = <span class="number">5</span></span><br><span class="line">    m[<span class="string">&quot;banana&quot;</span>] = <span class="number">2</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 更新元素</span></span><br><span class="line">    m[<span class="string">&quot;apple&quot;</span>] = <span class="number">10</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取元素</span></span><br><span class="line">    <span class="keyword">if</span> value, ok := m[<span class="string">&quot;apple&quot;</span>]; ok &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;Apple:&quot;</span>, value)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 删除元素</span></span><br><span class="line">    <span class="built_in">delete</span>(m, <span class="string">&quot;banana&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 遍历 map</span></span><br><span class="line">    <span class="keyword">for</span> key, value := <span class="keyword">range</span> m &#123;</span><br><span class="line">        fmt.Println(key, value)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取 map 的长度</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;Length of map:&quot;</span>, <span class="built_in">len</span>(m))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    m := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>)</span><br><span class="line"></span><br><span class="line">    m[<span class="string">&quot;k1&quot;</span>] = <span class="number">7</span></span><br><span class="line">    m[<span class="string">&quot;k2&quot;</span>] = <span class="number">13</span></span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;map:&quot;</span>, m)</span><br><span class="line"></span><br><span class="line">    v1 := m[<span class="string">&quot;k1&quot;</span>]</span><br><span class="line">    fmt.Println(<span class="string">&quot;v1: &quot;</span>, v1)</span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;len:&quot;</span>, <span class="built_in">len</span>(m))</span><br><span class="line"></span><br><span class="line">    <span class="built_in">delete</span>(m, <span class="string">&quot;k2&quot;</span>)</span><br><span class="line">    fmt.Println(<span class="string">&quot;map:&quot;</span>, m)</span><br><span class="line"></span><br><span class="line">    _, prs := m[<span class="string">&quot;k2&quot;</span>]</span><br><span class="line">    fmt.Println(<span class="string">&quot;prs:&quot;</span>, prs)</span><br><span class="line"></span><br><span class="line">    n := <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>&#123;<span class="string">&quot;foo&quot;</span>: <span class="number">1</span>, <span class="string">&quot;bar&quot;</span>: <span class="number">2</span>&#125;</span><br><span class="line">    fmt.Println(<span class="string">&quot;map:&quot;</span>, n)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="keyword">go</span> run maps.<span class="keyword">go</span> </span><br><span class="line"><span class="keyword">map</span>: <span class="keyword">map</span>[k1:<span class="number">7</span> k2:<span class="number">13</span>]</span><br><span class="line">v1:  <span class="number">7</span></span><br><span class="line"><span class="built_in">len</span>: <span class="number">2</span></span><br><span class="line"><span class="keyword">map</span>: <span class="keyword">map</span>[k1:<span class="number">7</span>]</span><br><span class="line">prs: <span class="literal">false</span></span><br><span class="line"><span class="keyword">map</span>: <span class="keyword">map</span>[foo:<span class="number">1</span> bar:<span class="number">2</span>]</span><br></pre></td></tr></table></figure><h2 id="range"><a href="#range" class="headerlink" title="range"></a>range</h2><p>在Go语言中，<code>range</code> 是一个非常强大的关键字，用于遍历数组、切片、<code>map</code> 和通道等数据结构。通过 <code>range</code>，可以轻松遍历数据结构的元素，并同时获得索引（或键）和值。</p><h3 id="1-range-遍历数组和切片"><a href="#1-range-遍历数组和切片" class="headerlink" title="1. range 遍历数组和切片"></a>1. <code>range</code> 遍历数组和切片</h3><h4 id="数组-1"><a href="#数组-1" class="headerlink" title="数组"></a>数组</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">arr := [<span class="number">3</span>]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line"><span class="keyword">for</span> index, value := <span class="keyword">range</span> arr &#123;</span><br><span class="line">    fmt.Println(index, value)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在遍历数组时，<code>range</code> 返回两个值：</p><ul><li><code>index</code>：当前元素的索引。</li><li><code>value</code>：当前元素的值。</li></ul><h4 id="切片-1"><a href="#切片-1" class="headerlink" title="切片"></a>切片</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">slice := []<span class="type">string</span>&#123;<span class="string">&quot;apple&quot;</span>, <span class="string">&quot;banana&quot;</span>, <span class="string">&quot;cherry&quot;</span>&#125;</span><br><span class="line"><span class="keyword">for</span> index, value := <span class="keyword">range</span> slice &#123;</span><br><span class="line">    fmt.Println(index, value)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>对于切片，<code>range</code> 也返回两个值：</p><ul><li><code>index</code>：当前元素的索引。</li><li><code>value</code>：当前元素的值。</li></ul><h3 id="2-range-遍历-map"><a href="#2-range-遍历-map" class="headerlink" title="2. range 遍历 map"></a>2. <code>range</code> 遍历 <code>map</code></h3><p>在 <code>map</code> 中，<code>range</code> 返回的是键值对：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">m := <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>&#123;<span class="string">&quot;apple&quot;</span>: <span class="number">5</span>, <span class="string">&quot;banana&quot;</span>: <span class="number">3</span>&#125;</span><br><span class="line"><span class="keyword">for</span> key, value := <span class="keyword">range</span> m &#123;</span><br><span class="line">    fmt.Println(key, value)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>对于 <code>map</code>，<code>range</code> 返回两个值：</p><ul><li><code>key</code>：当前元素的键。</li><li><code>value</code>：当前元素的值。</li></ul><h4 id="注意事项："><a href="#注意事项：" class="headerlink" title="注意事项："></a>注意事项：</h4><ul><li><code>map</code> 的遍历顺序是无序的，每次遍历的顺序可能不同。</li></ul><h3 id="3-range-遍历字符串"><a href="#3-range-遍历字符串" class="headerlink" title="3. range 遍历字符串"></a>3. <code>range</code> 遍历字符串</h3><p><code>range</code> 也可以用于遍历字符串。它会逐个获取字符串中的 Unicode 字符，而不是按字节遍历：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">str := <span class="string">&quot;hello&quot;</span></span><br><span class="line"><span class="keyword">for</span> index, runeValue := <span class="keyword">range</span> str &#123;</span><br><span class="line">    fmt.Println(index, runeValue)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在遍历字符串时，<code>range</code> 返回两个值：</p><ul><li><code>index</code>：当前字符的索引。</li><li><code>runeValue</code>：当前字符的 Unicode 码点值（<code>rune</code> 类型）。</li></ul><h3 id="4-只获取值或索引"><a href="#4-只获取值或索引" class="headerlink" title="4. 只获取值或索引"></a>4. 只获取值或索引</h3><p>你可以通过 <code>_</code> 忽略 <code>range</code> 返回的某些值。</p><ul><li>只获取索引：</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> index := <span class="keyword">range</span> arr &#123;</span><br><span class="line">    fmt.Println(index)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>只获取值：</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> _, value := <span class="keyword">range</span> arr &#123;</span><br><span class="line">    fmt.Println(value)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-range-遍历通道（channel）"><a href="#5-range-遍历通道（channel）" class="headerlink" title="5. range 遍历通道（channel）"></a>5. <code>range</code> 遍历通道（channel）</h3><p><code>range</code> 也可以用来遍历通道（channel）中的元素。当通道关闭时，<code>range</code> 循环会停止。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ch := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>, <span class="number">3</span>)</span><br><span class="line">ch &lt;- <span class="number">1</span></span><br><span class="line">ch &lt;- <span class="number">2</span></span><br><span class="line">ch &lt;- <span class="number">3</span></span><br><span class="line"><span class="built_in">close</span>(ch)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> value := <span class="keyword">range</span> ch &#123;</span><br><span class="line">    fmt.Println(value)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>当通道关闭后，<code>range</code> 会自动遍历通道中的所有元素。</p><h3 id="6-示例：综合使用-range"><a href="#6-示例：综合使用-range" class="headerlink" title="6. 示例：综合使用 range"></a>6. 示例：综合使用 <code>range</code></h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// 遍历数组</span></span><br><span class="line">    arr := [<span class="number">3</span>]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line">    <span class="keyword">for</span> index, value := <span class="keyword">range</span> arr &#123;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;arr[%d] = %d\n&quot;</span>, index, value)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 遍历切片</span></span><br><span class="line">    slice := []<span class="type">string</span>&#123;<span class="string">&quot;apple&quot;</span>, <span class="string">&quot;banana&quot;</span>, <span class="string">&quot;cherry&quot;</span>&#125;</span><br><span class="line">    <span class="keyword">for</span> _, value := <span class="keyword">range</span> slice &#123;</span><br><span class="line">        fmt.Println(value)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 遍历map</span></span><br><span class="line">    m := <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>&#123;<span class="string">&quot;apple&quot;</span>: <span class="number">5</span>, <span class="string">&quot;banana&quot;</span>: <span class="number">3</span>&#125;</span><br><span class="line">    <span class="keyword">for</span> key, value := <span class="keyword">range</span> m &#123;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;%s has %d fruits\n&quot;</span>, key, value)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 遍历字符串</span></span><br><span class="line">    str := <span class="string">&quot;hello&quot;</span></span><br><span class="line">    <span class="keyword">for</span> index, runeValue := <span class="keyword">range</span> str &#123;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;Index: %d, Rune: %c\n&quot;</span>, index, runeValue)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="总结-2"><a href="#总结-2" class="headerlink" title="总结"></a>总结</h3><ul><li><code>range</code> 是 Go 语言中遍历数据结构的关键字，可以遍历数组、切片、<code>map</code>、通道等。</li><li>在遍历 <code>map</code> 时，<code>range</code> 返回的是键和值；遍历数组或切片时，返回的是索引和值。</li><li>可以使用 <code>_</code> 来忽略不需要的返回值（如只关注索引或只关注值）。</li><li><code>range</code> 在处理通道时会在通道关闭时停止。</li></ul><p><code>range</code> 是一个高效且灵活的工具，能够简化代码并提高可读性。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    nums := []<span class="type">int</span>&#123;<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;</span><br><span class="line">    sum := <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> _, num := <span class="keyword">range</span> nums &#123;</span><br><span class="line">        sum += num</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(<span class="string">&quot;sum:&quot;</span>, sum)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i, num := <span class="keyword">range</span> nums &#123;</span><br><span class="line">        <span class="keyword">if</span> num == <span class="number">3</span> &#123;</span><br><span class="line">            fmt.Println(<span class="string">&quot;index:&quot;</span>, i)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    kvs := <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span>&#123;<span class="string">&quot;a&quot;</span>: <span class="string">&quot;apple&quot;</span>, <span class="string">&quot;b&quot;</span>: <span class="string">&quot;banana&quot;</span>&#125;</span><br><span class="line">    <span class="keyword">for</span> k, v := <span class="keyword">range</span> kvs &#123;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;%s -&gt; %s\n&quot;</span>, k, v)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> k := <span class="keyword">range</span> kvs &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;key:&quot;</span>, k)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i, c := <span class="keyword">range</span> <span class="string">&quot;go&quot;</span> &#123;</span><br><span class="line">        fmt.Println(i, c)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="keyword">go</span> run <span class="keyword">range</span>.<span class="keyword">go</span></span><br><span class="line">sum: <span class="number">9</span></span><br><span class="line">index: <span class="number">1</span></span><br><span class="line">a -&gt; apple</span><br><span class="line">b -&gt; banana</span><br><span class="line">key: a</span><br><span class="line">key: b</span><br><span class="line"><span class="number">0</span> <span class="number">103</span></span><br><span class="line"><span class="number">1</span> <span class="number">111</span></span><br></pre></td></tr></table></figure><h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><p>在 Go 语言中，函数（function）是基本的代码结构之一，用于封装一组语句，并通过函数调用来执行这些语句。函数可以有输入参数、返回值，也可以没有参数或返回值。</p><h3 id="1-定义函数"><a href="#1-定义函数" class="headerlink" title="1. 定义函数"></a>1. 定义函数</h3><p>Go 语言使用 <code>func</code> 关键字来定义函数。</p><h4 id="基本函数定义"><a href="#基本函数定义" class="headerlink" title="基本函数定义"></a>基本函数定义</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">(a <span class="type">int</span>, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这个函数的定义包含了：</p><ul><li><code>func</code> 关键字，表示定义一个函数。</li><li><code>add</code>，函数的名称。</li><li><code>(a int, b int)</code>，是函数的参数列表，表示这个函数接收两个 <code>int</code> 类型的参数。</li><li><code>int</code>，是返回值的类型，表示该函数返回一个 <code>int</code> 类型的结果。</li></ul><h3 id="2-调用函数"><a href="#2-调用函数" class="headerlink" title="2. 调用函数"></a>2. 调用函数</h3><p>函数定义后，可以通过函数名调用它，并传递参数：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">result := add(<span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line">fmt.Println(result)  <span class="comment">// 输出 7</span></span><br></pre></td></tr></table></figure><h3 id="3-函数参数"><a href="#3-函数参数" class="headerlink" title="3. 函数参数"></a>3. 函数参数</h3><ul><li><strong>单一参数类型</strong>：可以在函数参数中使用相同类型的多个参数，简化代码。</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">(a, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><strong>可变参数</strong>：Go 支持传递可变数量的参数，使用 <code>...</code> 来表示可变参数。</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sum</span><span class="params">(numbers ...<span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    total := <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> _, number := <span class="keyword">range</span> numbers &#123;</span><br><span class="line">        total += number</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> total</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>调用：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fmt.Println(sum(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>))  <span class="comment">// 输出 10</span></span><br></pre></td></tr></table></figure><h3 id="4-返回值"><a href="#4-返回值" class="headerlink" title="4. 返回值"></a>4. 返回值</h3><p>Go 函数可以返回多个值：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">swap</span><span class="params">(a, b <span class="type">int</span>)</span></span> (<span class="type">int</span>, <span class="type">int</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> b, a</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>调用：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x, y := swap(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">fmt.Println(x, y)  <span class="comment">// 输出 2 1</span></span><br></pre></td></tr></table></figure><h3 id="5-命名返回值"><a href="#5-命名返回值" class="headerlink" title="5. 命名返回值"></a>5. 命名返回值</h3><p>Go 允许给返回值命名，返回值就像局部变量一样，可以在函数体内直接使用。这也简化了代码，使得不需要显式地使用 <code>return</code> 语句。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">(a, b <span class="type">int</span>)</span></span> (sum <span class="type">int</span>) &#123;</span><br><span class="line">    sum = a + b</span><br><span class="line">    <span class="keyword">return</span>  <span class="comment">// 使用命名返回值</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-函数作为值"><a href="#6-函数作为值" class="headerlink" title="6. 函数作为值"></a>6. 函数作为值</h3><p>Go 允许函数作为值传递。这意味着可以将函数赋值给变量或作为参数传递给其他函数。</p><h4 id="将函数赋值给变量"><a href="#将函数赋值给变量" class="headerlink" title="将函数赋值给变量"></a>将函数赋值给变量</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">multiply</span><span class="params">(a, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a * b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> f <span class="function"><span class="keyword">func</span><span class="params">(<span class="type">int</span>, <span class="type">int</span>)</span></span> <span class="type">int</span> = multiply</span><br><span class="line">fmt.Println(f(<span class="number">2</span>, <span class="number">3</span>))  <span class="comment">// 输出 6</span></span><br></pre></td></tr></table></figure><h4 id="函数作为参数"><a href="#函数作为参数" class="headerlink" title="函数作为参数"></a>函数作为参数</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">operate</span><span class="params">(a, b <span class="type">int</span>, op <span class="keyword">func</span>(<span class="type">int</span>, <span class="type">int</span>)</span></span> <span class="type">int</span>) <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> op(a, b)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fmt.Println(operate(<span class="number">2</span>, <span class="number">3</span>, multiply))  <span class="comment">// 输出 6</span></span><br></pre></td></tr></table></figure><h3 id="7-匿名函数"><a href="#7-匿名函数" class="headerlink" title="7. 匿名函数"></a>7. 匿名函数</h3><p>Go 支持匿名函数，即没有函数名的函数。匿名函数常常作为回调函数或临时使用。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;Hello from anonymous function!&quot;</span>)</span><br><span class="line">&#125;()</span><br></pre></td></tr></table></figure><h3 id="8-函数闭包"><a href="#8-函数闭包" class="headerlink" title="8. 函数闭包"></a>8. 函数闭包</h3><p>Go 支持闭包，闭包是一个函数，它可以“记住”并访问其外部作用域中的变量。即使外部函数返回，闭包仍然可以访问这些变量。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">outer</span><span class="params">()</span></span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    x := <span class="number">10</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> <span class="type">int</span> &#123;</span><br><span class="line">        x++</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">increment := outer()</span><br><span class="line">fmt.Println(increment())  <span class="comment">// 输出 11</span></span><br><span class="line">fmt.Println(increment())  <span class="comment">// 输出 12</span></span><br></pre></td></tr></table></figure><p>在上面的例子中，<code>increment</code> 是一个闭包，它记住了 <code>x</code> 的值，并且每次调用时都会更新并返回新的值。</p><h3 id="9-函数的递归调用"><a href="#9-函数的递归调用" class="headerlink" title="9. 函数的递归调用"></a>9. 函数的递归调用</h3><p>Go 支持函数的递归调用，即一个函数在其定义中调用自己。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">factorial</span><span class="params">(n <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> n * factorial(n<span class="number">-1</span>)</span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(factorial(<span class="number">5</span>))  <span class="comment">// 输出 120</span></span><br></pre></td></tr></table></figure><p>在这个例子中，<code>factorial</code> 函数调用自己来计算阶乘。</p><h3 id="10-多返回值函数"><a href="#10-多返回值函数" class="headerlink" title="10. 多返回值函数"></a>10. 多返回值函数</h3><p>Go 允许函数返回多个值，常用于处理错误处理等场景。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">divide</span><span class="params">(a, b <span class="type">int</span>)</span></span> (<span class="type">int</span>, <span class="type">error</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> b == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>, fmt.Errorf(<span class="string">&quot;division by zero&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> a / b, <span class="literal">nil</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">result, err := divide(<span class="number">10</span>, <span class="number">2</span>)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">    fmt.Println(err)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    fmt.Println(result)  <span class="comment">// 输出 5</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="总结-3"><a href="#总结-3" class="headerlink" title="总结"></a>总结</h3><ul><li>Go 语言中的函数是非常灵活的，可以定义单一返回值、多个返回值、可变参数和命名返回值等。</li><li>Go 支持将函数作为值传递，允许匿名函数和闭包等特性。</li><li>函数调用时，可以直接使用返回值，也可以通过传递函数作为参数来进行更高阶的编程。</li></ul><p>基础用法:</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">plus</span><span class="params">(a <span class="type">int</span>, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">plusPlus</span><span class="params">(a, b, c <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b + c</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    res := plus(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">    fmt.Println(<span class="string">&quot;1+2 =&quot;</span>, res)</span><br><span class="line"></span><br><span class="line">    res = plusPlus(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">    fmt.Println(<span class="string">&quot;1+2+3 =&quot;</span>, res)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">	</span><br><span class="line">$ <span class="keyword">go</span> run functions.<span class="keyword">go</span></span><br><span class="line"><span class="number">1</span>+<span class="number">2</span> = <span class="number">3</span></span><br><span class="line"><span class="number">1</span>+<span class="number">2</span>+<span class="number">3</span> = <span class="number">6</span></span><br></pre></td></tr></table></figure><p>多返回值:</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">vals</span><span class="params">()</span></span> (<span class="type">int</span>, <span class="type">int</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">3</span>, <span class="number">7</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    a, b := vals()</span><br><span class="line">    fmt.Println(a)</span><br><span class="line">    fmt.Println(b)</span><br><span class="line"></span><br><span class="line">    _, c := vals()</span><br><span class="line">    fmt.Println(c)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">	</span><br><span class="line">$ <span class="keyword">go</span> run multiple-<span class="keyword">return</span>-values.<span class="keyword">go</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">7</span></span><br><span class="line"><span class="number">7</span></span><br></pre></td></tr></table></figure><p>变参函数:</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sum</span><span class="params">(nums ...<span class="type">int</span>)</span></span> &#123;</span><br><span class="line">    fmt.Print(nums, <span class="string">&quot; &quot;</span>)</span><br><span class="line">    total := <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> _, num := <span class="keyword">range</span> nums &#123;</span><br><span class="line">        total += num</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(total)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    sum(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">    sum(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">    nums := []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;</span><br><span class="line">    sum(nums...)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="keyword">go</span> run variadic-functions.<span class="keyword">go</span> </span><br><span class="line">[<span class="number">1</span> <span class="number">2</span>] <span class="number">3</span></span><br><span class="line">[<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>] <span class="number">6</span></span><br><span class="line">[<span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span>] <span class="number">10</span></span><br></pre></td></tr></table></figure><p>闭包:</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">intSeq</span><span class="params">()</span></span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    i := <span class="number">0</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> <span class="type">int</span> &#123;</span><br><span class="line">        i++</span><br><span class="line">        <span class="keyword">return</span> i</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    nextInt := intSeq()</span><br><span class="line"></span><br><span class="line">    fmt.Println(nextInt())</span><br><span class="line">    fmt.Println(nextInt())</span><br><span class="line">    fmt.Println(nextInt())</span><br><span class="line"></span><br><span class="line">    newInts := intSeq()</span><br><span class="line">    fmt.Println(newInts())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="keyword">go</span> run closures.<span class="keyword">go</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure><p>递归:</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">fact</span><span class="params">(n <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> n * fact(n<span class="number">-1</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    fmt.Println(fact(<span class="number">7</span>))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> fib <span class="function"><span class="keyword">func</span><span class="params">(n <span class="type">int</span>)</span></span> <span class="type">int</span></span><br><span class="line"></span><br><span class="line">    fib = <span class="function"><span class="keyword">func</span><span class="params">(n <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> n &lt; <span class="number">2</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> n</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> fib(n<span class="number">-1</span>) + fib(n<span class="number">-2</span>)</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    fmt.Println(fib(<span class="number">7</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="keyword">go</span> run recursion.<span class="keyword">go</span> </span><br><span class="line"><span class="number">5040</span></span><br><span class="line"><span class="number">13</span></span><br></pre></td></tr></table></figure><h2 id="指针"><a href="#指针" class="headerlink" title="指针"></a>指针</h2><p>在 Go 语言中，指针是存储变量内存地址的类型，它允许程序间接访问变量的值。指针可以非常方便地用于修改函数外部的变量值，以及在内存中操作数据。Go 的指针与 C 语言类似，但它不允许进行指针算术运算，这让它更加安全。</p><h3 id="1-定义和声明指针"><a href="#1-定义和声明指针" class="headerlink" title="1. 定义和声明指针"></a>1. 定义和声明指针</h3><p>在 Go 中，指针的声明方式是使用 <code>*</code> 表示指向某个类型的指针，类型前加 <code>*</code> 表示该变量是该类型的指针。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ptr *<span class="type">int</span></span><br></pre></td></tr></table></figure><p>这意味着 <code>ptr</code> 是一个指向 <code>int</code> 类型的指针，但它当前没有指向任何具体的内存地址。</p><h3 id="2-获取变量的地址（取地址操作符-）"><a href="#2-获取变量的地址（取地址操作符-）" class="headerlink" title="2. 获取变量的地址（取地址操作符 &amp;）"></a>2. 获取变量的地址（取地址操作符 <code>&amp;</code>）</h3><p>要获取一个变量的内存地址，可以使用 <code>&amp;</code> 操作符，它会返回变量的地址。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x := <span class="number">10</span></span><br><span class="line">ptr := &amp;x  <span class="comment">// ptr 是 x 的指针</span></span><br><span class="line">fmt.Println(ptr)  <span class="comment">// 输出 x 的地址</span></span><br></pre></td></tr></table></figure><h3 id="3-解引用指针（取值操作符-）"><a href="#3-解引用指针（取值操作符-）" class="headerlink" title="3. 解引用指针（取值操作符 *）"></a>3. 解引用指针（取值操作符 <code>*</code>）</h3><p>通过指针访问它所指向的变量的值，使用 <code>*</code> 操作符。这个过程叫做“解引用”。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x := <span class="number">10</span></span><br><span class="line">ptr := &amp;x  <span class="comment">// 获取 x 的地址</span></span><br><span class="line">fmt.Println(*ptr)  <span class="comment">// 输出 10，解引用指针，得到 x 的值</span></span><br></pre></td></tr></table></figure><h3 id="4-指针与变量的关系"><a href="#4-指针与变量的关系" class="headerlink" title="4. 指针与变量的关系"></a>4. 指针与变量的关系</h3><ul><li><code>&amp;</code> 获取变量的地址。</li><li><code>*</code> 解引用指针，获取指针所指向的值。</li></ul><p>示例：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x := <span class="number">10</span></span><br><span class="line">ptr := &amp;x       <span class="comment">// 获取 x 的地址</span></span><br><span class="line">fmt.Println(ptr) <span class="comment">// 输出 x 的内存地址</span></span><br><span class="line">fmt.Println(*ptr) <span class="comment">// 输出 10，通过指针访问 x 的值</span></span><br></pre></td></tr></table></figure><h3 id="5-修改变量的值通过指针"><a href="#5-修改变量的值通过指针" class="headerlink" title="5. 修改变量的值通过指针"></a>5. 修改变量的值通过指针</h3><p>指针允许通过间接访问修改原变量的值。通过解引用指针可以修改它指向的变量。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x := <span class="number">10</span></span><br><span class="line">ptr := &amp;x</span><br><span class="line">*ptr = <span class="number">20</span>  <span class="comment">// 修改 x 的值，通过 ptr 指针</span></span><br><span class="line">fmt.Println(x)  <span class="comment">// 输出 20</span></span><br></pre></td></tr></table></figure><h3 id="6-指针作为函数参数"><a href="#6-指针作为函数参数" class="headerlink" title="6. 指针作为函数参数"></a>6. 指针作为函数参数</h3><p>在 Go 中，函数参数是值传递的。如果希望函数修改传入的变量，可以传递变量的指针。这通常用于避免复制大量数据的成本，或允许函数修改传入的参数。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">modifyValue</span><span class="params">(a *<span class="type">int</span>)</span></span> &#123;</span><br><span class="line">    *a = <span class="number">20</span>  <span class="comment">// 通过指针修改原始值</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">x := <span class="number">10</span></span><br><span class="line">modifyValue(&amp;x)  <span class="comment">// 传递 x 的指针</span></span><br><span class="line">fmt.Println(x)  <span class="comment">// 输出 20</span></span><br></pre></td></tr></table></figure><h3 id="7-指针类型与结构体"><a href="#7-指针类型与结构体" class="headerlink" title="7. 指针类型与结构体"></a>7. 指针类型与结构体</h3><p>结构体也可以使用指针，结构体指针常用于修改结构体的成员，避免复制结构体的副本。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Person <span class="keyword">struct</span> &#123;</span><br><span class="line">    Name <span class="type">string</span></span><br><span class="line">    Age  <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">updateAge</span><span class="params">(p *Person)</span></span> &#123;</span><br><span class="line">    p.Age = <span class="number">30</span>  <span class="comment">// 修改 Person 的 Age</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">p := &amp;Person&#123;Name: <span class="string">&quot;John&quot;</span>, Age: <span class="number">25</span>&#125;</span><br><span class="line">fmt.Println(p.Age)  <span class="comment">// 输出 25</span></span><br><span class="line">updateAge(p)</span><br><span class="line">fmt.Println(p.Age)  <span class="comment">// 输出 30</span></span><br></pre></td></tr></table></figure><h3 id="8-nil-指针"><a href="#8-nil-指针" class="headerlink" title="8. nil 指针"></a>8. <code>nil</code> 指针</h3><p>指针可以是 <code>nil</code>，即它不指向任何有效的内存地址。你可以检查指针是否为 <code>nil</code> 来避免解引用空指针。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ptr *<span class="type">int</span></span><br><span class="line"><span class="keyword">if</span> ptr == <span class="literal">nil</span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;ptr is nil&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="9-零值和指针"><a href="#9-零值和指针" class="headerlink" title="9. 零值和指针"></a>9. 零值和指针</h3><p>Go 中，指针的零值是 <code>nil</code>，表示它没有指向任何有效的内存地址。当一个指针没有显式初始化时，它的默认值就是 <code>nil</code>。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ptr *<span class="type">int</span>  <span class="comment">// ptr 默认为 nil</span></span><br><span class="line">fmt.Println(ptr)  <span class="comment">// 输出 nil</span></span><br></pre></td></tr></table></figure><h3 id="10-指针的应用"><a href="#10-指针的应用" class="headerlink" title="10. 指针的应用"></a>10. 指针的应用</h3><ul><li><strong>修改函数外部的变量值</strong>：通过指针参数来修改传入的变量。</li><li><strong>避免大数据的复制</strong>：对于大的数据结构（如数组或结构体），可以通过指针传递，避免复制整个数据结构。</li><li><strong>链表、树等数据结构</strong>：指针广泛应用于实现链表、二叉树等动态数据结构。</li></ul><h3 id="总结-4"><a href="#总结-4" class="headerlink" title="总结"></a>总结</h3><p>指针是 Go 语言中的一个重要特性，它让你能够间接操作内存，并通过引用传递修改变量的值。Go 语言中的指针有如下特点：</p><ul><li>不允许指针算术运算，避免了 C 语言中的很多潜在错误。</li><li>使用 <code>&amp;</code> 获取变量的地址，使用 <code>*</code> 解引用指针。</li><li>可以通过指针修改变量的值，传递指针给函数可以改变函数外的变量。</li></ul><p>指针在 Go 中的使用简单而强大，可以提高程序的效率并且节省内存空间。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">zeroval</span><span class="params">(ival <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">    ival = <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">zeroptr</span><span class="params">(iptr *<span class="type">int</span>)</span></span> &#123;</span><br><span class="line">    *iptr = <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    i := <span class="number">1</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;initial:&quot;</span>, i)</span><br><span class="line"></span><br><span class="line">    zeroval(i)</span><br><span class="line">    fmt.Println(<span class="string">&quot;zeroval:&quot;</span>, i)</span><br><span class="line"></span><br><span class="line">    zeroptr(&amp;i)</span><br><span class="line">    fmt.Println(<span class="string">&quot;zeroptr:&quot;</span>, i)</span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;pointer:&quot;</span>, &amp;i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="keyword">go</span> run pointers.<span class="keyword">go</span></span><br><span class="line">initial: <span class="number">1</span></span><br><span class="line">zeroval: <span class="number">1</span></span><br><span class="line">zeroptr: <span class="number">0</span></span><br><span class="line">pointer: <span class="number">0x42131100</span></span><br></pre></td></tr></table></figure><h2 id="字符串和rune类型"><a href="#字符串和rune类型" class="headerlink" title="字符串和rune类型"></a>字符串和rune类型</h2><h2 id="一、字符串（string）"><a href="#一、字符串（string）" class="headerlink" title="一、字符串（string）"></a><strong>一、字符串（string）</strong></h2><h3 id="1-字符串的定义"><a href="#1-字符串的定义" class="headerlink" title="1. 字符串的定义"></a><strong>1. 字符串的定义</strong></h3><ul><li><strong>不可变性</strong>：字符串是<strong>不可变的</strong>，即一旦创建后，无法直接修改其中的内容。任何修改操作都会生成一个新的字符串。</li><li><strong>底层结构</strong>：字符串底层是一个<strong>只读的字节序列（<code>[]byte</code>）</strong>。</li><li><strong>编码</strong>：通常用来存储 UTF-8 编码的数据，可以包含 ASCII 字符、汉字、特殊符号等。</li></ul><hr><h3 id="2-字符串的常见操作"><a href="#2-字符串的常见操作" class="headerlink" title="2. 字符串的常见操作"></a><strong>2. 字符串的常见操作</strong></h3><h4 id="声明与初始化"><a href="#声明与初始化" class="headerlink" title="声明与初始化"></a><strong>声明与初始化</strong></h4><ul><li>使用双引号声明普通字符串。</li><li>使用反引号声明原始字符串，保留原格式，包括换行和特殊字符。</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s1 := <span class="string">&quot;hello, world&quot;</span>         <span class="comment">// 普通字符串</span></span><br><span class="line">s2 := <span class="string">`hello, </span></span><br><span class="line"><span class="string">world with &quot;quotes&quot;`</span>        <span class="comment">// 原始字符串</span></span><br></pre></td></tr></table></figure><h4 id="获取字符串长度"><a href="#获取字符串长度" class="headerlink" title="获取字符串长度"></a><strong>获取字符串长度</strong></h4><ul><li>使用 <code>len()</code> 获取字符串长度，返回的是字节数而非字符数。</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s := <span class="string">&quot;你好&quot;</span></span><br><span class="line">fmt.Println(<span class="built_in">len</span>(s))  <span class="comment">// 输出：6，因为每个汉字占3个字节</span></span><br></pre></td></tr></table></figure><h4 id="索引访问字符串"><a href="#索引访问字符串" class="headerlink" title="索引访问字符串"></a><strong>索引访问字符串</strong></h4><ul><li>可以通过索引访问字符串中的字节：</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s := <span class="string">&quot;hello&quot;</span></span><br><span class="line">fmt.Println(s[<span class="number">0</span>])       <span class="comment">// 输出：104，&#x27;h&#x27; 的 ASCII 值</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;%c\n&quot;</span>, s[<span class="number">0</span>]) <span class="comment">// 输出：h</span></span><br></pre></td></tr></table></figure><ul><li><strong>注意</strong>：通过索引访问的是单个字节，而不是字符。</li></ul><h4 id="字符串拼接"><a href="#字符串拼接" class="headerlink" title="字符串拼接"></a><strong>字符串拼接</strong></h4><ul><li>使用 <code>+</code> 或 <code>fmt.Sprintf()</code> 拼接字符串。</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">s1 := <span class="string">&quot;hello&quot;</span></span><br><span class="line">s2 := <span class="string">&quot;world&quot;</span></span><br><span class="line">s3 := s1 + <span class="string">&quot;, &quot;</span> + s2 + <span class="string">&quot;!&quot;</span></span><br><span class="line">fmt.Println(s3)  <span class="comment">// 输出：hello, world!</span></span><br></pre></td></tr></table></figure><h4 id="切片操作"><a href="#切片操作" class="headerlink" title="切片操作"></a><strong>切片操作</strong></h4><ul><li>支持通过切片截取子字符串，但结果是字节切片，可能导致截断多字节字符。</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s := <span class="string">&quot;你好世界&quot;</span></span><br><span class="line">sub := s[:<span class="number">3</span>]  <span class="comment">// 截取前3个字节</span></span><br><span class="line">fmt.Println(sub)  <span class="comment">// 输出：乱码（截断了“你”）</span></span><br></pre></td></tr></table></figure><hr><h3 id="3-Go标准库中的字符串方法"><a href="#3-Go标准库中的字符串方法" class="headerlink" title="3. Go标准库中的字符串方法"></a><strong>3. Go标准库中的字符串方法</strong></h3><p>Go 提供了 <code>strings</code> 包来处理字符串，包括查找、替换、切分等操作。</p><h4 id="常用函数"><a href="#常用函数" class="headerlink" title="常用函数"></a><strong>常用函数</strong></h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&quot;strings&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 查找子串</span></span><br><span class="line">fmt.Println(strings.Contains(<span class="string">&quot;hello, world&quot;</span>, <span class="string">&quot;world&quot;</span>)) <span class="comment">// true</span></span><br><span class="line">fmt.Println(strings.Index(<span class="string">&quot;hello, world&quot;</span>, <span class="string">&quot;o&quot;</span>))        <span class="comment">// 4</span></span><br><span class="line">fmt.Println(strings.LastIndex(<span class="string">&quot;hello, world&quot;</span>, <span class="string">&quot;o&quot;</span>))    <span class="comment">// 8</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 切分与连接</span></span><br><span class="line">parts := strings.Split(<span class="string">&quot;a,b,c&quot;</span>, <span class="string">&quot;,&quot;</span>)    <span class="comment">// [a b c]</span></span><br><span class="line">joined := strings.Join(parts, <span class="string">&quot;-&quot;</span>)     <span class="comment">// a-b-c</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 替换</span></span><br><span class="line">replaced := strings.ReplaceAll(<span class="string">&quot;hello, hello&quot;</span>, <span class="string">&quot;hello&quot;</span>, <span class="string">&quot;hi&quot;</span>) <span class="comment">// hi, hi</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 大小写转换</span></span><br><span class="line">fmt.Println(strings.ToUpper(<span class="string">&quot;hello&quot;</span>)) <span class="comment">// HELLO</span></span><br><span class="line">fmt.Println(strings.ToLower(<span class="string">&quot;WORLD&quot;</span>)) <span class="comment">// world</span></span><br></pre></td></tr></table></figure><hr><h2 id="二、Rune"><a href="#二、Rune" class="headerlink" title="二、Rune"></a><strong>二、Rune</strong></h2><h3 id="1-Rune的定义"><a href="#1-Rune的定义" class="headerlink" title="1. Rune的定义"></a><strong>1. Rune的定义</strong></h3><ul><li><code>rune</code> 是 Go 的一个别名类型，等价于 <code>int32</code>，用于表示<strong>单个 Unicode 字符</strong>。</li><li>每个 <code>rune</code> 占用4个字节，能够表示所有 Unicode 代码点。</li></ul><hr><h3 id="2-Rune的用途"><a href="#2-Rune的用途" class="headerlink" title="2. Rune的用途"></a><strong>2. Rune的用途</strong></h3><ul><li>用于处理多字节字符（如汉字、emoji）或逐字符操作。</li><li>可以将字符串转换为 <code>[]rune</code>，以逐字符处理，而不是逐字节。</li></ul><hr><h3 id="3-Rune的常见操作"><a href="#3-Rune的常见操作" class="headerlink" title="3. Rune的常见操作"></a><strong>3. Rune的常见操作</strong></h3><h4 id="字符串与Rune的相互转换"><a href="#字符串与Rune的相互转换" class="headerlink" title="字符串与Rune的相互转换"></a><strong>字符串与Rune的相互转换</strong></h4><ul><li><p>将字符串转为 <code>[]rune</code>：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">runes := []<span class="type">rune</span>(<span class="string">&quot;你好世界&quot;</span>)</span><br><span class="line">fmt.Println(runes)  <span class="comment">// [20320 22909 19990 30028]</span></span><br></pre></td></tr></table></figure></li><li><p>将 <code>[]rune</code> 转为字符串：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s := <span class="type">string</span>([]<span class="type">rune</span>&#123;<span class="number">20320</span>, <span class="number">22909</span>, <span class="number">19990</span>, <span class="number">30028</span>&#125;)</span><br><span class="line">fmt.Println(s)  <span class="comment">// 你好世界</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="逐字符处理"><a href="#逐字符处理" class="headerlink" title="逐字符处理"></a><strong>逐字符处理</strong></h4><ul><li><p>使用 <code>for</code>遍历 <code>[]rune</code> 可以逐字符操作：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">s := <span class="string">&quot;hello, 世界&quot;</span></span><br><span class="line"><span class="keyword">for</span> i, r := <span class="keyword">range</span> []<span class="type">rune</span>(s) &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;第%d个字符：%c (Unicode: %U)\n&quot;</span>, i, r, r)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="修改字符串"><a href="#修改字符串" class="headerlink" title="修改字符串"></a><strong>修改字符串</strong></h4><ul><li><p>字符串不可变，但可以通过 <code>[]rune</code>修改后重新构造：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">s := <span class="string">&quot;hello&quot;</span></span><br><span class="line">runes := []<span class="type">rune</span>(s)</span><br><span class="line">runes[<span class="number">0</span>] = <span class="string">&#x27;H&#x27;</span></span><br><span class="line">s = <span class="type">string</span>(runes)</span><br><span class="line">fmt.Println(s)  <span class="comment">// Hello</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="统计字符数量"><a href="#统计字符数量" class="headerlink" title="统计字符数量"></a><strong>统计字符数量</strong></h4><ul><li><p>使用 <code>len()</code> 获取的是字节数。若要获取字符数，需要将字符串转换为 <code>[]rune</code>：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s := <span class="string">&quot;你好世界&quot;</span></span><br><span class="line">fmt.Println(<span class="built_in">len</span>(s))           <span class="comment">// 12（字节数）</span></span><br><span class="line">fmt.Println(<span class="built_in">len</span>([]<span class="type">rune</span>(s)))   <span class="comment">// 4（字符数）</span></span><br></pre></td></tr></table></figure></li></ul><hr><h2 id="三、字符串与Rune的关系"><a href="#三、字符串与Rune的关系" class="headerlink" title="三、字符串与Rune的关系"></a><strong>三、字符串与Rune的关系</strong></h2><table><thead><tr><th>特性</th><th><strong>字符串（string）</strong></th><th><strong>rune</strong></th></tr></thead><tbody><tr><td><strong>类型</strong></td><td>不可变的字节序列</td><td>表示单个 Unicode 代码点</td></tr><tr><td><strong>内存占用</strong></td><td>每个字符占用 1~4 字节（UTF-8 编码）</td><td>每个字符固定占用 4 字节（int32 类型）</td></tr><tr><td><strong>表示范围</strong></td><td>UTF-8 编码的字节序列</td><td>Unicode 字符</td></tr><tr><td><strong>适用场景</strong></td><td>用于存储和操作整段文本</td><td>用于逐字符处理，支持多字节字符</td></tr><tr><td><strong>索引操作</strong></td><td>索引访问的是字节</td><td>可以通过 <code>[]rune</code> 访问字符</td></tr></tbody></table><hr><h2 id="四、使用场景与注意事项"><a href="#四、使用场景与注意事项" class="headerlink" title="四、使用场景与注意事项"></a><strong>四、使用场景与注意事项</strong></h2><ol><li><strong>字符串处理</strong>：<ul><li>如果主要处理整段文本数据，使用 <code>string</code>。</li><li>避免直接索引多字节字符，否则可能导致错误。</li></ul></li><li><strong>多字节字符处理</strong>：<ul><li>如果需要逐字符操作，使用 <code>[]rune</code>。</li><li>转换为 <code>[]rune</code> 后，才能安全地进行字符级别的索引和修改。</li></ul></li><li><strong>性能权衡</strong>：<ul><li>操作 <code>string</code> 通常更高效，因为底层是只读的 <code>[]byte</code>。</li><li>使用 <code>[]rune</code> 需要额外的内存，适合复杂字符处理场景。</li></ul></li></ol><hr><h3 id="五、总结"><a href="#五、总结" class="headerlink" title="五、总结"></a><strong>五、总结</strong></h3><ul><li><strong>字符串（string）</strong>：主要用于存储和处理文本，适合完整的文本操作。支持丰富的库函数，如查找、替换、切分等。</li><li><strong>Rune</strong>：用来处理单个 Unicode 字符，尤其适合多字节字符和逐字符遍历操作。</li><li><strong>转换技巧</strong>：<code>[]rune</code> 和 <code>string</code> 的相互转换，是处理字符和文本的桥梁。</li></ul></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://8023time.github.io">寻觅~流光</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://8023time.github.io/2024/12/22/GO/">https://8023time.github.io/2024/12/22/GO/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://8023time.github.io" target="_blank">寻觅~流光</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/go/">go</a></div><div class="post-share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/Go-image/20241222013233.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>赞助</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/basic-img/wechat.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/basic-img/wechat.jpg" alt="wechat"></a><div class="post-qr-code-desc">wechat</div></li></ul></div></div><nav class="pagination-post" id="pagination"><a class="prev-post pull-left" href="/2024/12/23/%E7%AE%97%E6%B3%95-%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE%E8%AF%A6%E8%A7%A3%5B%E5%A4%9A%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0%5D/" title="算法-二分查找详解[多语言实现]"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/Data-structure-image/20241125232235.png" onerror='onerror=null,src="/img/404.jpg"' alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">算法-二分查找详解[多语言实现]</div></div></a><a class="next-post pull-right" href="/2024/12/22/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1/" title="数据结构课程设计"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/Data-structure-image/20241125232235.png" onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">数据结构课程设计</div></div></a></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/basic-img/avatar.jpg" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-info-name">寻觅~流光</div><div class="author-info-description">吾不复我......</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">43</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">34</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">11</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/8023time"><i class="fab fa-github"></i><span>我的GitHub</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content"><div style="text-align:center">云雾依稀折柳枝,<br>凭栏更待青云月.<br>请君莫辞凌烟走,<br>惟愿神秀尽前时.</div><div style="text-align:right">-----2023年6月8日</div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Go"><span class="toc-number">1.</span> <span class="toc-text">Go</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%A7%8B"><span class="toc-number">1.1.</span> <span class="toc-text">开始</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%98%E9%87%8F"><span class="toc-number">1.2.</span> <span class="toc-text">变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E9%87%8F"><span class="toc-number">1.3.</span> <span class="toc-text">常量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF"><span class="toc-number">1.4.</span> <span class="toc-text">循环</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#if-else%E5%88%86%E6%94%AF"><span class="toc-number">1.5.</span> <span class="toc-text">if&#x2F;else分支</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#switch%E5%88%86%E6%94%AF"><span class="toc-number">1.6.</span> <span class="toc-text">switch分支</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E7%BB%84"><span class="toc-number">1.7.</span> <span class="toc-text">数组</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%95%B0%E7%BB%84%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="toc-number">1.7.1.</span> <span class="toc-text">1. 数组的定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%95%B0%E7%BB%84%E7%9A%84%E8%AE%BF%E9%97%AE%E5%92%8C%E4%BF%AE%E6%94%B9"><span class="toc-number">1.7.2.</span> <span class="toc-text">2. 数组的访问和修改</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%95%B0%E7%BB%84%E7%9A%84%E9%95%BF%E5%BA%A6"><span class="toc-number">1.7.3.</span> <span class="toc-text">3. 数组的长度</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%95%B0%E7%BB%84%E7%9A%84%E4%BC%A0%E9%80%92"><span class="toc-number">1.7.4.</span> <span class="toc-text">4. 数组的传递</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E5%A4%9A%E7%BB%B4%E6%95%B0%E7%BB%84"><span class="toc-number">1.7.5.</span> <span class="toc-text">5. 多维数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E6%95%B0%E7%BB%84%E7%9A%84%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-number">1.7.6.</span> <span class="toc-text">6. 数组的初始化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E6%95%B0%E7%BB%84%E4%B8%8E%E5%88%87%E7%89%87%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">1.7.7.</span> <span class="toc-text">7. 数组与切片的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-%E6%95%B0%E7%BB%84%E7%9A%84%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-number">1.7.8.</span> <span class="toc-text">8. 数组的应用场景</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">1.7.9.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%87%E7%89%87"><span class="toc-number">1.8.</span> <span class="toc-text">切片</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%88%9B%E5%BB%BA%E5%88%87%E7%89%87"><span class="toc-number">1.8.1.</span> <span class="toc-text">1. 创建切片</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%88%87%E7%89%87%E7%9A%84%E5%B1%9E%E6%80%A7"><span class="toc-number">1.8.2.</span> <span class="toc-text">2. 切片的属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%88%87%E7%89%87%E7%9A%84%E5%88%87%E5%89%B2%E6%93%8D%E4%BD%9C"><span class="toc-number">1.8.3.</span> <span class="toc-text">3. 切片的切割操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%8A%A8%E6%80%81%E6%89%A9%E5%B1%95%E5%88%87%E7%89%87"><span class="toc-number">1.8.4.</span> <span class="toc-text">4. 动态扩展切片</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E5%88%A0%E9%99%A4%E5%88%87%E7%89%87%E5%85%83%E7%B4%A0"><span class="toc-number">1.8.5.</span> <span class="toc-text">5. 删除切片元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E5%88%87%E7%89%87%E7%9A%84%E5%8F%8D%E8%BD%AC"><span class="toc-number">1.8.6.</span> <span class="toc-text">6. 切片的反转</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E5%88%87%E7%89%87%E7%9A%84%E6%9F%A5%E6%89%BE"><span class="toc-number">1.8.7.</span> <span class="toc-text">7. 切片的查找</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-%E5%88%87%E7%89%87%E7%9A%84%E5%88%86%E5%9D%97"><span class="toc-number">1.8.8.</span> <span class="toc-text">8. 切片的分块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-%E5%88%87%E7%89%87%E6%8E%92%E5%BA%8F"><span class="toc-number">1.8.9.</span> <span class="toc-text">9. 切片排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-%E5%88%A0%E9%99%A4%E9%87%8D%E5%A4%8D%E5%85%83%E7%B4%A0"><span class="toc-number">1.8.10.</span> <span class="toc-text">10. 删除重复元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-copy-%E5%87%BD%E6%95%B0"><span class="toc-number">1.8.11.</span> <span class="toc-text">11. copy 函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-1"><span class="toc-number">1.8.12.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#map"><span class="toc-number">1.9.</span> <span class="toc-text">map</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%88%9B%E5%BB%BA-map"><span class="toc-number">1.9.1.</span> <span class="toc-text">1. 创建 map</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-make-%E5%87%BD%E6%95%B0"><span class="toc-number">1.9.1.1.</span> <span class="toc-text">使用 make 函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%AD%97%E9%9D%A2%E9%87%8F%EF%BC%88literal%EF%BC%89%E5%88%9B%E5%BB%BA"><span class="toc-number">1.9.1.2.</span> <span class="toc-text">使用字面量（literal）创建</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%90%91-map-%E4%B8%AD%E6%B7%BB%E5%8A%A0%E5%92%8C%E6%9B%B4%E6%96%B0%E5%85%83%E7%B4%A0"><span class="toc-number">1.9.2.</span> <span class="toc-text">2. 向 map 中添加和更新元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E8%8E%B7%E5%8F%96-map-%E4%B8%AD%E7%9A%84%E5%80%BC"><span class="toc-number">1.9.3.</span> <span class="toc-text">3. 获取 map 中的值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%88%A0%E9%99%A4-map-%E4%B8%AD%E7%9A%84%E5%85%83%E7%B4%A0"><span class="toc-number">1.9.4.</span> <span class="toc-text">4. 删除 map 中的元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E6%A3%80%E6%9F%A5%E9%94%AE%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8"><span class="toc-number">1.9.5.</span> <span class="toc-text">5. 检查键是否存在</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E9%81%8D%E5%8E%86-map"><span class="toc-number">1.9.6.</span> <span class="toc-text">6. 遍历 map</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-map-%E7%9A%84%E7%89%B9%E6%80%A7"><span class="toc-number">1.9.7.</span> <span class="toc-text">7. map 的特性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-map-%E7%9A%84%E5%AE%B9%E9%87%8F"><span class="toc-number">1.9.8.</span> <span class="toc-text">8. map 的容量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-%E7%A9%BA-map-%E5%92%8C-nil-map"><span class="toc-number">1.9.9.</span> <span class="toc-text">9. 空 map 和 nil map</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%EF%BC%9A"><span class="toc-number">1.9.9.1.</span> <span class="toc-text">示例代码：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#range"><span class="toc-number">1.10.</span> <span class="toc-text">range</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-range-%E9%81%8D%E5%8E%86%E6%95%B0%E7%BB%84%E5%92%8C%E5%88%87%E7%89%87"><span class="toc-number">1.10.1.</span> <span class="toc-text">1. range 遍历数组和切片</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E7%BB%84-1"><span class="toc-number">1.10.1.1.</span> <span class="toc-text">数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%87%E7%89%87-1"><span class="toc-number">1.10.1.2.</span> <span class="toc-text">切片</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-range-%E9%81%8D%E5%8E%86-map"><span class="toc-number">1.10.2.</span> <span class="toc-text">2. range 遍历 map</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%EF%BC%9A"><span class="toc-number">1.10.2.1.</span> <span class="toc-text">注意事项：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-range-%E9%81%8D%E5%8E%86%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">1.10.3.</span> <span class="toc-text">3. range 遍历字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%8F%AA%E8%8E%B7%E5%8F%96%E5%80%BC%E6%88%96%E7%B4%A2%E5%BC%95"><span class="toc-number">1.10.4.</span> <span class="toc-text">4. 只获取值或索引</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-range-%E9%81%8D%E5%8E%86%E9%80%9A%E9%81%93%EF%BC%88channel%EF%BC%89"><span class="toc-number">1.10.5.</span> <span class="toc-text">5. range 遍历通道（channel）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E7%A4%BA%E4%BE%8B%EF%BC%9A%E7%BB%BC%E5%90%88%E4%BD%BF%E7%94%A8-range"><span class="toc-number">1.10.6.</span> <span class="toc-text">6. 示例：综合使用 range</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-2"><span class="toc-number">1.10.7.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-number">1.11.</span> <span class="toc-text">函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0"><span class="toc-number">1.11.1.</span> <span class="toc-text">1. 定义函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89"><span class="toc-number">1.11.1.1.</span> <span class="toc-text">基本函数定义</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E8%B0%83%E7%94%A8%E5%87%BD%E6%95%B0"><span class="toc-number">1.11.2.</span> <span class="toc-text">2. 调用函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0"><span class="toc-number">1.11.3.</span> <span class="toc-text">3. 函数参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-number">1.11.4.</span> <span class="toc-text">4. 返回值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E5%91%BD%E5%90%8D%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-number">1.11.5.</span> <span class="toc-text">5. 命名返回值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E5%87%BD%E6%95%B0%E4%BD%9C%E4%B8%BA%E5%80%BC"><span class="toc-number">1.11.6.</span> <span class="toc-text">6. 函数作为值</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B0%86%E5%87%BD%E6%95%B0%E8%B5%8B%E5%80%BC%E7%BB%99%E5%8F%98%E9%87%8F"><span class="toc-number">1.11.6.1.</span> <span class="toc-text">将函数赋值给变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E4%BD%9C%E4%B8%BA%E5%8F%82%E6%95%B0"><span class="toc-number">1.11.6.2.</span> <span class="toc-text">函数作为参数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0"><span class="toc-number">1.11.7.</span> <span class="toc-text">7. 匿名函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-%E5%87%BD%E6%95%B0%E9%97%AD%E5%8C%85"><span class="toc-number">1.11.8.</span> <span class="toc-text">8. 函数闭包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-%E5%87%BD%E6%95%B0%E7%9A%84%E9%80%92%E5%BD%92%E8%B0%83%E7%94%A8"><span class="toc-number">1.11.9.</span> <span class="toc-text">9. 函数的递归调用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-%E5%A4%9A%E8%BF%94%E5%9B%9E%E5%80%BC%E5%87%BD%E6%95%B0"><span class="toc-number">1.11.10.</span> <span class="toc-text">10. 多返回值函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-3"><span class="toc-number">1.11.11.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%87%E9%92%88"><span class="toc-number">1.12.</span> <span class="toc-text">指针</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%AE%9A%E4%B9%89%E5%92%8C%E5%A3%B0%E6%98%8E%E6%8C%87%E9%92%88"><span class="toc-number">1.12.1.</span> <span class="toc-text">1. 定义和声明指针</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E8%8E%B7%E5%8F%96%E5%8F%98%E9%87%8F%E7%9A%84%E5%9C%B0%E5%9D%80%EF%BC%88%E5%8F%96%E5%9C%B0%E5%9D%80%E6%93%8D%E4%BD%9C%E7%AC%A6-%EF%BC%89"><span class="toc-number">1.12.2.</span> <span class="toc-text">2. 获取变量的地址（取地址操作符 &amp;）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E8%A7%A3%E5%BC%95%E7%94%A8%E6%8C%87%E9%92%88%EF%BC%88%E5%8F%96%E5%80%BC%E6%93%8D%E4%BD%9C%E7%AC%A6-%EF%BC%89"><span class="toc-number">1.12.3.</span> <span class="toc-text">3. 解引用指针（取值操作符 *）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%8C%87%E9%92%88%E4%B8%8E%E5%8F%98%E9%87%8F%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-number">1.12.4.</span> <span class="toc-text">4. 指针与变量的关系</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E4%BF%AE%E6%94%B9%E5%8F%98%E9%87%8F%E7%9A%84%E5%80%BC%E9%80%9A%E8%BF%87%E6%8C%87%E9%92%88"><span class="toc-number">1.12.5.</span> <span class="toc-text">5. 修改变量的值通过指针</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E6%8C%87%E9%92%88%E4%BD%9C%E4%B8%BA%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0"><span class="toc-number">1.12.6.</span> <span class="toc-text">6. 指针作为函数参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E6%8C%87%E9%92%88%E7%B1%BB%E5%9E%8B%E4%B8%8E%E7%BB%93%E6%9E%84%E4%BD%93"><span class="toc-number">1.12.7.</span> <span class="toc-text">7. 指针类型与结构体</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-nil-%E6%8C%87%E9%92%88"><span class="toc-number">1.12.8.</span> <span class="toc-text">8. nil 指针</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-%E9%9B%B6%E5%80%BC%E5%92%8C%E6%8C%87%E9%92%88"><span class="toc-number">1.12.9.</span> <span class="toc-text">9. 零值和指针</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-%E6%8C%87%E9%92%88%E7%9A%84%E5%BA%94%E7%94%A8"><span class="toc-number">1.12.10.</span> <span class="toc-text">10. 指针的应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-4"><span class="toc-number">1.12.11.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8Crune%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.13.</span> <span class="toc-text">字符串和rune类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%EF%BC%88string%EF%BC%89"><span class="toc-number">1.14.</span> <span class="toc-text">一、字符串（string）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="toc-number">1.14.1.</span> <span class="toc-text">1. 字符串的定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E5%B8%B8%E8%A7%81%E6%93%8D%E4%BD%9C"><span class="toc-number">1.14.2.</span> <span class="toc-text">2. 字符串的常见操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A3%B0%E6%98%8E%E4%B8%8E%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-number">1.14.2.1.</span> <span class="toc-text">声明与初始化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%95%BF%E5%BA%A6"><span class="toc-number">1.14.2.2.</span> <span class="toc-text">获取字符串长度</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95%E8%AE%BF%E9%97%AE%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">1.14.2.3.</span> <span class="toc-text">索引访问字符串</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8B%BC%E6%8E%A5"><span class="toc-number">1.14.2.4.</span> <span class="toc-text">字符串拼接</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%87%E7%89%87%E6%93%8D%E4%BD%9C"><span class="toc-number">1.14.2.5.</span> <span class="toc-text">切片操作</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Go%E6%A0%87%E5%87%86%E5%BA%93%E4%B8%AD%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%96%B9%E6%B3%95"><span class="toc-number">1.14.3.</span> <span class="toc-text">3. Go标准库中的字符串方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0"><span class="toc-number">1.14.3.1.</span> <span class="toc-text">常用函数</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81Rune"><span class="toc-number">1.15.</span> <span class="toc-text">二、Rune</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Rune%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="toc-number">1.15.1.</span> <span class="toc-text">1. Rune的定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Rune%E7%9A%84%E7%94%A8%E9%80%94"><span class="toc-number">1.15.2.</span> <span class="toc-text">2. Rune的用途</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Rune%E7%9A%84%E5%B8%B8%E8%A7%81%E6%93%8D%E4%BD%9C"><span class="toc-number">1.15.3.</span> <span class="toc-text">3. Rune的常见操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%8ERune%E7%9A%84%E7%9B%B8%E4%BA%92%E8%BD%AC%E6%8D%A2"><span class="toc-number">1.15.3.1.</span> <span class="toc-text">字符串与Rune的相互转换</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%90%E5%AD%97%E7%AC%A6%E5%A4%84%E7%90%86"><span class="toc-number">1.15.3.2.</span> <span class="toc-text">逐字符处理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">1.15.3.3.</span> <span class="toc-text">修改字符串</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%9F%E8%AE%A1%E5%AD%97%E7%AC%A6%E6%95%B0%E9%87%8F"><span class="toc-number">1.15.3.4.</span> <span class="toc-text">统计字符数量</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%8ERune%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-number">1.16.</span> <span class="toc-text">三、字符串与Rune的关系</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF%E4%B8%8E%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">1.17.</span> <span class="toc-text">四、使用场景与注意事项</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E6%80%BB%E7%BB%93"><span class="toc-number">1.17.1.</span> <span class="toc-text">五、总结</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/12/23/%E7%AE%97%E6%B3%95-%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE%E8%AF%A6%E8%A7%A3%5B%E5%A4%9A%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0%5D/" title="算法-二分查找详解[多语言实现]"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/Data-structure-image/20241125232235.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="算法-二分查找详解[多语言实现]"></a><div class="content"><a class="title" href="/2024/12/23/%E7%AE%97%E6%B3%95-%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE%E8%AF%A6%E8%A7%A3%5B%E5%A4%9A%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0%5D/" title="算法-二分查找详解[多语言实现]">算法-二分查找详解[多语言实现]</a><time datetime="2024-12-22T16:00:00.000Z" title="发表于 2024-12-23 00:00:00">2024-12-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/12/22/GO/" title="Go"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/Go-image/20241222013233.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Go"></a><div class="content"><a class="title" href="/2024/12/22/GO/" title="Go">Go</a><time datetime="2024-12-21T16:00:00.000Z" title="发表于 2024-12-22 00:00:00">2024-12-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/12/22/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1/" title="数据结构课程设计"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/Data-structure-image/20241125232235.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="数据结构课程设计"></a><div class="content"><a class="title" href="/2024/12/22/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1/" title="数据结构课程设计">数据结构课程设计</a><time datetime="2024-12-21T16:00:00.000Z" title="发表于 2024-12-22 00:00:00">2024-12-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/12/17/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/" title="排序算法"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/Data-structure-image/20241125232235.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="排序算法"></a><div class="content"><a class="title" href="/2024/12/17/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/" title="排序算法">排序算法</a><time datetime="2024-12-16T16:00:00.000Z" title="发表于 2024-12-17 00:00:00">2024-12-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/12/16/%E5%AD%97%E7%AC%A6%E4%B8%B2/" title="字符串"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/8023time/image-storage-address/JavaScript-image/JavaScript%E5%9B%BE%E7%89%87.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="字符串"></a><div class="content"><a class="title" href="/2024/12/16/%E5%AD%97%E7%AC%A6%E4%B8%B2/" title="字符串">字符串</a><time datetime="2024-12-15T16:00:00.000Z" title="发表于 2024-12-16 00:00:00">2024-12-16</time></div></div></div></div></div></div></main><footer id="footer" style="background:0 0"><div id="footer-wrap"><div class="copyright">&copy;2024 By 寻觅~流光</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><div class="js-pjax"></div><canvas id="universe"></canvas><script defer src="/js/universe.js"></script><canvas class="fireworks" mobile="true"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script defer id="fluttering_ribbon" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful=!0,POWERMODE.shake=!1,POWERMODE.mobile=!0,document.body.addEventListener("input",POWERMODE)</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"position":"left","width":200,"height":400},"mobile":{"show":false},"log":false});</script></body></html>